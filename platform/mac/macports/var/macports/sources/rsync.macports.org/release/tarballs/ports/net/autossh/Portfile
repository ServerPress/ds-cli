# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 132590 2015-02-05 17:39:51Z larryv@macports.org $

PortSystem          1.0

name                autossh
version             1.4d
categories          net sysutils
platforms           darwin freebsd
license             Permissive BSD
maintainers         nomaintainer

description         tool to restart terminated ssh sessions

long_description    autossh is a program to start a copy of ssh and monitor \
                    it, restarting it as necessary should it die or stop \
                    passing traffic.

homepage            http://www.harding.motd.ca/autossh/
master_sites        ${homepage}
extract.suffix      .tgz

checksums           rmd160  7e18a242b000e9facd586b7613f75c17d3e5fbde \
                    sha256  00008fe458bde4c94e98bfa96e1e6e18c4107a1f9fc8a538556b82e91ddedc16

patchfiles          patch-Makefile.in.diff

destroot.destdir    prefix=${destroot}${prefix} \
                    bindir=${destroot}${prefix}/bin \
                    mandir=${destroot}${prefix}/share/man \
                    datadir=${destroot}${prefix}/share

variant macports_ssh description {Use ssh from the openssh port} {
    depends_run-append port:openssh
    configure.args-append --with-ssh=${prefix}/bin/ssh
}
