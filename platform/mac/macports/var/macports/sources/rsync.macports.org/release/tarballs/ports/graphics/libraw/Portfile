# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id $

PortSystem 1.0

name             libraw
version          0.16.0
homepage         http://www.libraw.org/
description      library for RAW images manipulation
long_description      a library for reading RAW files obtained from digital photo cameras (CRW/CR2, NEF, RAF, DNG, and others)
categories       graphics
platforms        darwin
license          GPL-2+
maintainers      pvanek openmaintainer

master_sites     http://www.libraw.org/data/
distname         LibRaw-${version}

checksums           sha1    492239aa209b1ddd1f030da4fc2978498c32a29b \
                    rmd160  32f58daa50477b8e7abee39a0747703087c1e3f0

depends_lib      port:jasper \
                 port:lcms2

# this is probably mandatory to get jasper in the game... there is no --with-jasper-... at all
configure.env-append LDFLAGS=-L${prefix}/lib CPPFLAGS=-I${prefix}/include

destroot.destdir prefix=${destroot}${prefix}

livecheck.type  regex
livecheck.url   http://www.libraw.org/download/
livecheck.regex "LibRaw-(\\d+(?:\\.\\d+)*)${extract.suffix}"
