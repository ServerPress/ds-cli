# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 117787 2014-03-12 21:27:31Z cal@macports.org $

PortSystem          1.0
PortGroup           perl5 1.0

name                pcsc-tools
version             1.4.22
categories          sysutils
platforms           darwin
license             GPL-2+
maintainers         m4x.org:db_macports openmaintainer

description         Tools for accessing PC/SC driver, card or reader.
long_description    These tools are used to test a PC/SC driver, card or \
                    reader or send commands in a friendly environment (text \
                    or graphical user interface).

homepage            http://ludovic.rousseau.free.fr/softwares/pcsc-tools/
master_sites        ${homepage}

patchfiles          patch-Makefile.diff

checksums           rmd160 df66c505bfdf6f4f885a3d2d5b09a19ca4aa2823 \
                    sha256 615592dd56627bd0ff3650608bb7eefe3e9f43cc18ca2d805ebf0bf74d30f307

depends_lib         port:p${perl5.major}-pcsc

variant universal {}

use_configure       no
destroot.destdir    DESTDIR=${destroot}${prefix}
build.args-append   CC=${configure.cc} \
                    CXX=${configure.cxx} \
                    CPP=${configure.cpp} \
                    CPPFLAGS="${configure.cppflags}" \
                    CFLAGS="${configure.cflags} [get_canonical_archflags cc]" \
                    CXXFLAGS="${configure.cxxflags} [get_canonical_archflags cxx]" \
                    LDFLAGS="${configure.ldflags} [get_canonical_archflags ld]"
