# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 120593 2014-06-02 19:09:39Z stromnov@macports.org $

PortSystem          1.0
PortGroup           cmake 1.0
PortGroup           conflicts_build 1.0

name                box2d
version             2.3.1
categories          devel

maintainers         stromnov openmaintainer

description         Box2D Physics Engine

long_description    ${description}

platforms           darwin

homepage            http://box2d.org/
master_sites        googlecode:box2d

fetch.type          svn
svn.url             http://box2d.googlecode.com/svn/tags/v${version}

worksrcdir          ${workpath}/build

post-extract {
    file mkdir ${worksrcpath}
}

conflicts_build     ${name}

configure.args-append ../v${version}/Box2D \
                    -DBOX2D_INSTALL=ON \
                    -DBOX2D_INSTALL_DOC=ON \
                    -DBOX2D_BUILD_SHARED=ON \
                    -DBOX2D_BUILD_STATIC=ON \
                    -DBOX2D_BUILD_EXAMPLES=OFF

livecheck.type      regex
livecheck.url       http://box2d.googlecode.com/svn/tags
livecheck.regex     {v(\d+(?:\.\d+)*)}
