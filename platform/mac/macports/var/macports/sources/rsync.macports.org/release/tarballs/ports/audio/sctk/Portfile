# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 136565 2015-05-21 21:36:56Z ryandesign@macports.org $

PortSystem          1.0

name                sctk
version             2.4.9
description         Speech Recognition Scoring Toolkit
long_description    \
    NIST ${description}
maintainers         ryandesign openmaintainer
categories          audio
license             public-domain
platforms           darwin freebsd

homepage            http://nist.gov/itl/iad/mig/tools.cfm
master_sites        ftp://jaguar.ncsl.nist.gov/pub/
distname            ${name}-${version}-20141015-1634Z
use_bzip2           yes

checksums           rmd160  92d0376f62b806ff3954c38ab223c09a6836d80e \
                    sha256  262c92cca47755539dfa28add6120aa3ec4983b44b51f053f601e601c064617c

worksrcdir          ${name}-${version}
configure.cmd       make
configure.args      config
configure.pre_args  PREFIX=${prefix}
configure.universal_args

patchfiles          DESTDIR.patch

post-destroot {
    system -W ${worksrcpath}/doc "make all"

    set docdir ${prefix}/share/doc/${subport}
    xinstall -d ${destroot}${docdir}

    xinstall -m 644 {*}[glob -directory ${worksrcpath}/doc/ *.gif *.htm *.html *.txt] ${destroot}${docdir}
    copy ${worksrcpath}/doc/rover ${destroot}${docdir}
    xinstall -m 644 {*}[glob ${worksrcpath}/doc/*.1] ${destroot}${prefix}/share/man/man1
}
