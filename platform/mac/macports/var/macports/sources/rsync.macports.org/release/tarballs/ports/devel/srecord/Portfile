# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 136285 2015-05-14 03:21:00Z ionic@macports.org $

PortSystem          1.0

name                srecord
version             1.63
revision            4

categories          devel
maintainers         nomaintainer
platforms           darwin
license             GPL-3

description         The srecord package is a collection of powerful tools \
                    for manipulating EPROM load files.
long_description    The srecord package understands a number of file \
                    formats: ASCII-Hex, ASCII-Space-Hex, Atmel, raw \
                    binary, C array declaration, DEC Binary XXDP, \
                    Elektor Monitor EMON52, Four Packed Code FPC, Intel \
                    MCS-86 Object format, MOS Technology hexadecimal, \
                    Motorola S-Record, Signetics, SPASM PIC, \
                    Tektronix Hexadecimal, Tektronix Extended Hexadecimal, \
                    Texas Instruments Tagged, TI-Tagged TI-SDSMAC, VHDL, \
                    and Wilson Eprom Burner. \
                    \
                    The srecord package is capable of the following \
                    operations: Conversions from any format to any other \
                    format, concatenations of multiple files, comparisons \
                    of files, report file summary info, filtering. \
                    \
                    The srecord package is capable of the following \
                    filtrations: checksums, byte swapping, CRC insertion, \
                    crop addresses, exclude addresses, fill holes, \
                    insert length information, maximum and minimum, adjust \
                    offsets, split and unsplit for memory striping schemes.

homepage            http://srecord.sourceforge.net/
master_sites        sourceforge

checksums           rmd160  668d5dc75960666a7c99509f39ecd2602891c384 \
                    sha256  78fec76d04424506e319f59b19a520428a7449ed087a67e1779fa2996992bf1a

depends_build       port:ghostscript \
                    port:libtool
depends_lib         port:boost \
                    port:libgcrypt

configure.cflags-append \
                    "-I${prefix}/include"
configure.env-append \
                    "LIBTOOL=glibtool"

destroot.destdir    prefix=${destroot}${prefix}

pre-configure {
    reinplace {s|@bindir@|$(prefix)/bin|} ${worksrcpath}/Makefile.in
    reinplace {s|@mandir@|$(prefix)/share/man|} ${worksrcpath}/Makefile.in
    reinplace {s|@datarootdir@|$(prefix)/share|} ${worksrcpath}/Makefile.in
    reinplace {s|@libdir@|$(prefix)/lib|} ${worksrcpath}/Makefile.in
    reinplace {s|@includedir@|$(prefix)/include|} ${worksrcpath}/Makefile.in
}
