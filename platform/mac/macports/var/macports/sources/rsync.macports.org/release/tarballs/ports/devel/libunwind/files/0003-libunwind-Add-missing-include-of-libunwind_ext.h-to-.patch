From 54e1764c41242c4a343edfdb92b0d8d88ddd5462 Mon Sep 17 00:00:00 2001
From: Jeremy Huddleston Sequoia <jeremyhu@apple.com>
Date: Sun, 11 Jan 2015 14:28:08 -0800
Subject: [PATCH 3/8] libunwind: Add missing include of libunwind_ext.h to
 CompactUnwinder.hpp, DwarfInstructions.hpp, and UnwindCursor.hpp

http://www.llvm.org/bugs/show_bug.cgi?id=22202

Signed-off-by: Jeremy Huddleston Sequoia <jeremyhu@apple.com>
---
 src/Unwind/CompactUnwinder.hpp   | 1 +
 src/Unwind/DwarfInstructions.hpp | 2 +-
 src/Unwind/UnwindCursor.hpp      | 1 +
 3 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/src/Unwind/CompactUnwinder.hpp b/src/Unwind/CompactUnwinder.hpp
index 0dc187f..e4a4327 100644
--- a/src/Unwind/CompactUnwinder.hpp
+++ b/src/Unwind/CompactUnwinder.hpp
@@ -21,6 +21,7 @@
 
 #include "AddressSpace.hpp"
 #include "Registers.hpp"
+#include "libunwind_ext.h"
 
 #define EXTRACT_BITS(value, mask)                                              \
   ((value >> __builtin_ctz(mask)) & (((1 << __builtin_popcount(mask))) - 1))
diff --git a/src/Unwind/DwarfInstructions.hpp b/src/Unwind/DwarfInstructions.hpp
index 4fbd53c..7a22283 100644
--- a/src/Unwind/DwarfInstructions.hpp
+++ b/src/Unwind/DwarfInstructions.hpp
@@ -22,7 +22,7 @@
 #include "Registers.hpp"
 #include "DwarfParser.hpp"
 #include "config.h"
-
+#include "libunwind_ext.h"
 
 namespace libunwind {
 
diff --git a/src/Unwind/UnwindCursor.hpp b/src/Unwind/UnwindCursor.hpp
index 0350dfd..309c105 100644
--- a/src/Unwind/UnwindCursor.hpp
+++ b/src/Unwind/UnwindCursor.hpp
@@ -24,6 +24,7 @@
 #endif
 
 #include "libunwind.h"
+#include "libunwind_ext.h"
 
 #include "AddressSpace.hpp"
 #include "Registers.hpp"
-- 
2.2.1

