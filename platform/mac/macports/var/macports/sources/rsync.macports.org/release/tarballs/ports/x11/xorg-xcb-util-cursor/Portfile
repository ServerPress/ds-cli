# $Id: Portfile 134414 2015-03-25 02:13:10Z jeremyhu@macports.org $

PortSystem 1.0

name		xorg-xcb-util-cursor
version		0.1.1
categories	x11 devel
license		X11
maintainers	jeremyhu openmaintainer
description	X.org xcb-util-cursor
homepage	http://xcb.freedesktop.org/
platforms	darwin macosx
long_description Utility libraries for XCB
master_sites	 ${homepage}/dist/

distname	xcb-util-cursor-${version}
checksums           sha1    75ea5d4dc5f185151f171e525023cb76f3b72128 \
                    rmd160  3dafa5d3ba7d284c2cdd4c8f57d648dfb595fb46 \
                    sha256  517a1febcede3bc994e356c4c066e297a12ca219063b7d39047e29c7a8860652
use_bzip2	yes
use_parallel_build yes

depends_build   port:pkgconfig \
                port:xorg-util-macros
depends_lib	port:xorg-xcb-util \
                port:xorg-xcb-util-image \
                port:xorg-xcb-util-renderutil \
                port:xorg-xproto

patchfiles \
    0001-Use-CFSwapInt32LittleToHost-from-CoreFoundation.h-on.patch \
    0002-Check-submodules-before-running-autoconf.patch \
    0003-darwin-Use-OSByteOrder.h-rather-than-CF.patch

patch.pre_args -p1

use_autoreconf  yes
autoreconf.args -fvi

# shape_to_id.gperf:2: error: type qualifiers ignored on function return type
# shape_to_id.gperf:82: error: type qualifiers ignored on function return type
# cursor.h:164: error: type qualifiers ignored on function return type
# cursor.h:164: error: type qualifiers ignored on function return type
compiler.blacklist *gcc-4.2

livecheck.type  regex
livecheck.url   ${master_sites}?C=M&O=D
livecheck.regex xcb-util-cursor-(\\d+(?:\\.\\d+)*)
