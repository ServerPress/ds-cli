--- common/socket.c.orig	2012-01-03 15:26:10.000000000 +0100
+++ common/socket.c	2012-01-03 15:26:34.000000000 +0100
@@ -40,6 +40,7 @@
  * I have implemented it under Linux; other systems should be doable also.
  */
 
+#define __APPLE_USE_RFC_3542
 #include "dhcpd.h"
 #include <errno.h>
 #include <sys/ioctl.h>
