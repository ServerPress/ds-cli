# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 127834 2014-11-05 02:32:39Z ryandesign@macports.org $

PortSystem          1.0
PortGroup           github 1.0

github.setup        golosio xrmc 6.5.0
categories          science
platforms           darwin
maintainers         me.com:Tom.Schoonjans
license             GPL-3+

description         A Monte Carlo program for the accurate simulation of X-ray imaging and spectroscopy experiments in heterogeneous samples

long_description    XRMC is a Monte Carlo program for the accurate simulation \
                    of X-ray imaging and spectroscopy experiments in heterogeneous \
                    samples. The use of the Monte Carlo method makes the code \
                    suitable for the detailed simulation of complex experiments \
                    on generic samples. Variance reduction techniques are used \
                    to reduce the computational time considerably compared to \
                    general purpose Monte Carlo programs. The program is written in \
                    C++ and has been tested on Linux, Mac OS X and MS Windows platforms.

homepage            ${github.homepage}/wiki
master_sites        http://lvserver.ugent.be/xrmc/files

checksums           rmd160  9bfee4c796043c8dc8b3e7b81d0d8c5827ab412d \
                    sha256  4995eaaf3b4583d443d0cf2003d73d1855b443938e431a4f758a607f540e026a

depends_build       port:pkgconfig

depends_lib         port:xraylib

configure.args      --disable-xmi-msim

use_parallel_build  yes

variant gcc46 conflicts gcc47 gcc48 gcc49 description {Compile with gcc 4.6} {
    configure.compiler macports-gcc-4.6
    depends_lib-append port:gcc46
}

variant gcc47 conflicts gcc46 gcc48 gcc49 description {Compile with gcc 4.7} {
    configure.compiler macports-gcc-4.7
    depends_lib-append port:gcc47
}

variant gcc48 conflicts gcc46 gcc47 gcc49 description {Compile with gcc 4.8} {
    configure.compiler macports-gcc-4.8
    depends_lib-append port:gcc48
}

variant gcc49 conflicts gcc46 gcc47 gcc48 description {Compile with gcc 4.9} {
    configure.compiler macports-gcc-4.9
    depends_lib-append port:gcc49
}

if {![variant_isset gcc46] && ![variant_isset gcc47] && ![variant_isset gcc48] && ![variant_isset gcc49]} {
    default_variants +gcc49
}

livecheck.type      regex
livecheck.url       [lindex ${master_sites} 0]
livecheck.regex     ${name}-(\[0-9.\]+)${extract.suffix}
