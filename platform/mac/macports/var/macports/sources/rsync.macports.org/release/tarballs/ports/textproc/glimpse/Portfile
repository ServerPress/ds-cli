# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 117141 2014-02-17 15:45:46Z ryandesign@macports.org $

PortSystem              1.0

name                    glimpse
conflicts               tre
version                 4.18.6
set distfile_date       20081220014903
dist_subdir             ${name}/${version}-${distfile_date}
categories              textproc
license                 Restrictive/Distributable Noncommercial
platforms               darwin
maintainers             nomaintainer
description             A text search engine.  Free for personal use.
long_description        A text search engine.  Free for personal use. \
                        Required for use with Webglimpse.

homepage                http://webglimpse.net/
master_sites            ${homepage}trial/

checksums               rmd160  cd309a9b578b777fdb4336d89b01ab20f1771fc9 \
                        sha256  0c21d27d6a3fe37dacdc66ef9194623f5a94b2f5d221dff8f187f69f629beade

# error: non-void function should return a value
# https://trac.macports.org/ticket/42544
compiler.blacklist      *clang*
#configure.cflags-append -Wno-return-type

# Does not respect *FLAGS
universal_variant       no

# make: *** No rule to make target `lib/libagrep.a', needed by `notsglimpse'.  Stop.
use_parallel_build      no

destroot.destdir        bindir=${destroot}${prefix}/bin \
                        libdir=${destroot}${prefix}/lib \
                        mandir=${destroot}${prefix}/share/man/man1

livecheck.type          regex
livecheck.url           ${homepage}download.php
livecheck.regex         {Glimpse ([0-9.]+)}
