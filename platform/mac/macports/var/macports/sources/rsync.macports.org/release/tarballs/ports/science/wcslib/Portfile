# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 133185 2015-02-23 13:17:58Z larryv@macports.org $

PortSystem          1.0

name                wcslib
version             4.25.1
categories          science
license             LGPL-3+
platforms           darwin
maintainers         nomaintainer
description         Library for handling World Coordinate System in FITS files
long_description    A C library, with a set of Fortran wrappers, that \
                    implements the World Coordinate System (WCS) standard \
                    in FITS (Flexible Image Transport System).
homepage            http://www.atnf.csiro.au/people/mcalabre/WCS/index.html
master_sites        ftp://ftp.atnf.csiro.au/pub/software/wcslib/ \
                    ftp://ftp.eso.org/pub/dfs/pipelines/libraries/wcslib/
use_bzip2           yes

checksums           rmd160  114a0c866347380561788f1773dd94932a98f0bf \
                    sha256  1e5127513c2f402a30daa280f5b4f6da53e73484cbc8085868bc432f807c8495

depends_lib         port:cfitsio
configure.args      --disable-fortran

universal_variant   no
use_parallel_build  no

patchfiles          patch-configure.diff

livecheck.type      regex
livecheck.url       http://www.atnf.csiro.au/people/mcalabre/WCS/CHANGES
livecheck.regex     "WCSLIB version (\\d+\\.\\d+\(\\.\\d+\)?)"

variant gcc44 conflicts gcc45 gcc46 gcc47 gcc48 gcc49 description {Build with GCC 4.4; enables Fortran support}  {
    configure.compiler      macports-gcc-4.4
    depends_lib-append      port:pgplot
    configure.args-delete   --disable-fortran
}

variant gcc45 conflicts gcc44 gcc46 gcc47 gcc48 gcc49 description {Build with GCC 4.5; enables Fortran support}  {
    configure.compiler      macports-gcc-4.5
    depends_lib-append      port:pgplot
    configure.args-delete   --disable-fortran
}

variant gcc46 conflicts gcc44 gcc45 gcc47 gcc48 gcc49 description {Build with GCC 4.6; enables Fortran support}  {
    configure.compiler      macports-gcc-4.6
    depends_lib-append      port:pgplot
    configure.args-delete   --disable-fortran
}

variant gcc47 conflicts gcc44 gcc45 gcc46 gcc48 gcc49 description {Build with GCC 4.7; enables Fortran support}  {
    configure.compiler      macports-gcc-4.7
    depends_lib-append      port:pgplot
    configure.args-delete   --disable-fortran
}

variant gcc48 conflicts gcc44 gcc45 gcc46 gcc47 gcc49 description {Build with GCC 4.8; enables Fortran support}  {
    configure.compiler      macports-gcc-4.8
    depends_lib-append      port:pgplot
    configure.args-delete   --disable-fortran
}

variant gcc49 conflicts gcc44 gcc45 gcc46 gcc47 gcc48 description {Build with GCC 4.9; enables Fortran support}  {
    configure.compiler      macports-gcc-4.9
    depends_lib-append      port:pgplot
    configure.args-delete   --disable-fortran
}
