--- Makefile.orig	2014-07-22 09:59:38.000000000 -0500
+++ Makefile	2014-08-05 05:51:40.000000000 -0500
@@ -98,10 +98,6 @@
 	4.8.0 4.8.1 4.8.2 4.8.3 \
 	4.9.0  \
 
-# supported clang versions:
-ALLOWED_clang_VERSIONS=\
-	4.2.1 \
-
 # ----------------------
 
 COMPILER_INFO:=$(shell SOURCE_TOOLS/arb_compiler_version.pl $(A_CXX))
@@ -118,7 +114,7 @@
 endif
 
 ifeq ($(USE_CLANG),1)
-ALLOWED_COMPILER_VERSIONS=$(ALLOWED_clang_VERSIONS)
+ALLOWED_COMPILER_VERSIONS=$(COMPILER_VERSION)
 else
 ALLOWED_COMPILER_VERSIONS=$(ALLOWED_gcc_VERSIONS)
 endif
@@ -137,6 +133,7 @@
 USE_GCC_47_OR_HIGHER:=
 USE_GCC_48_OR_HIGHER:=
 
+ifeq ($(USE_CLANG),0)
 ifeq ($(USE_GCC_MAJOR),4)
  ifeq ($(USE_GCC_MINOR),5)
   ifneq ('$(findstring $(USE_GCC_PATCHLEVEL),23456789)','')
@@ -154,9 +151,12 @@
   endif
  endif
 else
+ ifneq ('$(findstring $(USE_GCC_MAJOR),56789)','')
  USE_GCC_452_OR_HIGHER:=yes
  USE_GCC_47_OR_HIGHER:=yes
  USE_GCC_48_OR_HIGHER:=yes
+ endif
+endif
 endif
 
 #---------------------- define special directories for non standard builds
