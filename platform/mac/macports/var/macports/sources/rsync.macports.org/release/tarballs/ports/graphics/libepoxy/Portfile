# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 136739 2015-05-25 16:29:56Z devans@macports.org $

PortSystem          1.0
PortGroup           github 1.0

github.setup        anholt libepoxy 1.2 v
revision            1
license             MIT permissive
categories          graphics
maintainers         devans openmaintainer
platforms           darwin

description         Epoxy is a library for handling OpenGL function \
                    pointer management for you

long_description    ${description}

checksums           rmd160  ffe7d6d6c85af31dca7a0fea7a3c9bf7af103807 \
                    sha256  3364f09ef5cf0c53f8879b6b6165d4d7bd82756ee44f019075fad679346be6d8

depends_build       port:pkgconfig \
                    port:autoconf \
                    port:automake \
                    port:libtool \
                    port:xorg-util-macros \
                    port:python34

depends_lib         port:mesa \
                    port:xorg-libX11

patchfiles          patch-configure.ac.diff \
                    patch-src-dispatch_common.c.diff

post-patch {
    reinplace "s|@PREFIX@|${prefix}|g" ${worksrcpath}/src/dispatch_common.c
}

configure.cmd       ./autogen.sh

configure.python    ${prefix}/bin/python3.4

configure.args      --disable-silent-rules
