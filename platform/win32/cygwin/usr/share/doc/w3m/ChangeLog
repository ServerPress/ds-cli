2011-01-15  Dai Sato <satodai@w3m.jp>

	* w3m 0.5.2
	* version.c.in: update
	* doc/README: version 0.5.2, release date, maintainer
	* doc-jp/README: ditto
	* po/w3m.pot, ja.po: ditto
	* NEWS: update
	* configure.ac: version 0.5.2
	* configure: regenerated

2011-01-05  SAKAI Kiyotaka <kiyotaka.sakai@ntt-at.co.jp>

	* [w3m-dev 04445] Re: Update documents (README.cookie)
	* doc-jp/README.cookie: refer to RFC 2109.
	* doc/README.cookie: diito.

2011-01-05  SAKAI Kiyotaka <kiyotaka.sakai@ntt-at.co.jp>

	* [w3m-dev 04444] Re: error when 'make install'
	* w3mimg/win/.cvsignore: added.

2011-01-04  SAKAI Kiyotaka <kiyotaka.sakai@ntt-at.co.jp>

	* [w3m-dev 04441] error when 'make install'
	* update followig files. ABOUT-NLS Makefile.in acinclude.m4
	aclocal.m4 config.rpath configure configure.ac entity.h install-sh
	po/ChangeLog po/Makefile.in.in po/Rules-quot po/boldquot.sed
	po/en@boldquot.header po/en@quot.header po/insert-header.sin
	po/quot.sed po/remove-potcdate.sin

2010-12-28  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04440] Update documents (README.cookie)
	* doc/README.cookie: added.
	* doc-jp/README.cookie: add document about cookie_avoid_wrong_number_of_dots.

2010-12-24  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04439] Update documents (README.m17n)
	* doc-jp/README.m17n: add documents for options "east_asian_width", "gb18030_as_ucs" and "simple_preserve_space".
	* doc/README.m17n: ditto.

2010-12-24  AIDA Shinra <shinra@j10n.org>

	* [w3m-dev 04437] Re: Windows版w3mimg、他
	* w3mimg/win/win_w3mimg.cpp: remove unused ifdefs.
	(load, animate): support "-anim" option.
	(show): support "image_scale".

2010-12-20  AIDA Shinra <shinra@j10n.org>

	* [w3m-dev 04425] Re: Windows版w3mimg、他
	* w3mimgdisplay: supports Windows console (http://www.j10n.org/files/w3m-cvs-1.1040-misc.patch).
	* image.c: ditto.
	* configure.ac: ditto.
	* config.h.in: ditto.
	* acinclude.m4: ditto.
	* Makefile.in: ditto.
	* w3mimg/w3mimg.h: ditto.
	* w3mimg/w3mimg.c: ditto.
	* w3mimg/Makefile.in: ditto.
	* doc/README.img: ditto.
	* doc-jp/README.img: ditto.
	* w3mimgdisplay.c (main): call "w_op->close(w_op)" before exit.
	* w3mimg/win/win_w3mimg.cpp: added.
	* w3mimg/win/Makefile.in: added.

2010-12-20  Ito Hiroyuki  <ZXB01226@nifty.com>

	* doc/README.img: add documents about some options.
	* doc-jp/README.img: ditto.

2010-12-15  AIDA Shinra <shinra@j10n.org>

	* [w3m-dev 04424] Windows版w3mimg、他
	* scripts/w3mman/Makefile.in (DESTDIR): removed.
	* scripts/multipart/Makefile.in (DESTDIR): removed.
	* scripts/Makefile.in (DESTDIR): removed.
	* url.c (add_index_file): can specify multiple files as an index file for directories.
	* mktable.c (defhashfunc): fi indent of output.
	* ftp.c (ftp_login): support IPv6.
	* file.c (is_text_type): check if the type is "application/xhtml".
	* Makefile.in (DESTDIR): removed.
	(GC_LIBS): added.
	(EXT_LIBS): use "GC_LIBS".
	(entity.h): depend on entity.tab and mktable$(EXT).
	(indep.o): depend on entity.h
	(mktable$(EXT)): depend on Str.o, hash.o and myctype.o instead of $(ALIB).

2010-12-15  Kazuhiko <kazuhiko@fdiary.net>

	* [w3m-dev 04419] AC_W3M_EXTLIBS does not check /lib64
	* acinclude.m4 (AC_W3M_EXTLIBS): search /lib64 and /usr/lib64.

2010-12-11  theme.of.n@gmail.com

	* [w3m-dev 04421] Patch to prevent sending `Referer: ' header from HTTPS to HTTP
	* url.c (otherinfo): Don't send Referer: if https:// -> http://

2010-10-11  d+w3m@vdr.jp

	* [w3m-dev 04414] Re: "normal" bugs from bugs.debian.org
	* doc/w3m.1: add documents about some options.
	* doc/FAQ.html: fix typo.

2010-08-24   Karsten Schoelzel <kuser@gmx.de>

	* [w3m-dev 04393] [patch] locale-related character management
	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=313365
	* libwc/map/ucs_isalpha.map: added
	* libwc/map/ucs_islower.map: added
	* libwc/map/ucs_isupper.map: added
	* libwc/map/mk_ucs_case_map.pl: added
	* libwc/map/ucs_case.map: added
	* libwc/map/mk_ucs_isdigit_map.pl: added
	* libwc/map/ucs_isdigit.map: added
	* libwc/ucs.c (wc_any_to_ucs): ceck if cc.ccs == WC_CCS_US_ASCII
	(wc_is_ucs_alpha, wc_is_ucs_digit, wc_is_ucs_alnum)
	(wc_is_ucs_lower, wc_is_ucs_upper, wc_ucs_toupper)
	(wc_ucs_tolower, wc_ucs_totitle): added
	* regex.c (match_longchar, match_range_longchar): use wc_any_to_ucs(), wc_ucs_tolower(), wc_ucs_toupper() and wc_ucs_totitle()
	* main.c (nextChar, prevChar, getChar, is_wordchar): added
	(movLW): use prevChar() and is_wordchar()
	(movRW): use nextChar() and is_wordchar()
	(getCurWord): remove 4th parameter
	(getCurWord): use prevChar(), nextChar() and is_wordchar()

2010-08-20  Karsten Schoelzel <kuser@gmx.de>

	* [w3m-dev 04401] Re: mailto with options handling
	* rc.c: Introduce option mailto_options
	* main.c (handleMailto): added
	(followA, cmd_loadURL): use handleMailto()
	* fm.h (MAILTO_OPTIONS_USE_W3MMAILER, MAILTO_OPTIONS_IGNORE)
	(MAILTO_OPTIONS_USE_MAILTO_URL): added

2010-08-20  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04402] Re: "normal" bugs from bugs.debian.org
	* terms.c (reset_exit_with_value, reset_error_exit): added
	(reset_exit): use reset_exit_with_value()
	(ttymode_set, ttymode_reset, set_cc, getTCstr)
	(sleep_till_anykey): use reset_error_exit() instead of reset_exit()

2010-08-14  "Adam C. Emerson" <azure@azureprime.com>

	* [w3m-dev 04390]
	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=573789
	* html.c: All elements have the id attribute.

2010-08-12  Peter J. R. Moulder

	* [w3m-dev 04384]
	* http://sourceforge.net/tracker/index.php?func=detail&aid=2987194&group_id=39518&atid=425441
	* html.c: some tags have ALST_NOP attribute
	* tagtable.tab: add <span> and </span>
	* html.h (HTML_SPAN, HTML_N_SPAN): added

2010-08-11  SAKAI Kiyotaka <kiyotaka.sakai@ntt-at.co.jp>

	* [w3m-dev 04381] Re: check socklen_t
	* ftp.c: fix condition (#ifndef HAVE_SOCKLEN_T)

2010-08-10  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04379] check socklen_t
	* configure.ac: check socklen_t
	* ftp.c (ftp_login, ftp_pasv): use socklen_t instead of int

2010-08-09  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04374] Re: "important" bugs from bugs.debian.org
	* table.c (feed_table_tag): don't show message when rowspan is greater than ATTR_ROWSPAN_MAX
	* [w3m-dev 04376] Re: "important" bugs from bugs.debian.org
	* table.c (feed_table_tag): fix indent

2010-08-08  Steven Harms <ZXB01226@nifty.com>

	* [w3m-dev 04371] Re: "important" bugs from bugs.debian.org
	* https://bugs.launchpad.net/ubuntu/+source/w3m/+bug/131993
	* table.c (ATTR_ROWSPAN_MAX): added
	(feed_table_tag): maximum value of rowspan is ATTR_ROWSPAN_MAX

2010-08-08  d+w3m@vdr.jp

	* [w3m-dev 04360] Re: "important" bugs from bugs.debian.org
	* main.c (main): use DEFAULT_COLS
	(main): the maximum value of the -cols option is MAXIMUM_COLS
	* backend.c (backend): use DEFAULT_COLS
	* fm.h (MAXIMUM_COLS, DEFAULT_COLS): added

2010-08-04  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04369] Re: w3m's bugs from bugs.debian.org
	* terms.c (graph_ok): fix condition (UseGraphicChar != GRAPHIC_CHAR_DEC)
	* symbol.c (get_symbol): fix condition (UseGraphicChar != GRAPHIC_CHAR_ASCII)
	* rc.c (params1): type of graphic_char option is PI_SEL_C
	* main.c (main): use GRAPHIC_CHAR_ASCII and GRAPHIC_CHAR_DEC instead of FALSE and TRUE
	* fm.h (GRAPHIC_CHAR_ASCII, GRAPHIC_CHAR_DEC, GRAPHIC_CHAR_CHARSET): added

2010-08-03  d+w3m@vdr.jp

	* [w3m-dev 04363] Re: w3m's bugs from bugs.debian.org
	* doc/w3m.1: revert option -S
	* doc-jp/w3m.1: revert option -S, -e, -j and -s
	* main.c: remove codes for Debian

2010-08-03  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04343]
	* file.c (loadGeneralFile): register user name and password for proxy authentication.
	* url.c (HTTPrequest): unused variable seen_proxy_auth was removed
	* fm.h: global variables proxy_auth_cookie and pauth are removed
	* main.c (main): remove option -pauth
	* doc/MANUAL.html: ditto
	* doc-jp/MANUAL.html: ditto
	* doc-jp/w3m.1: ditto
	* doc/w3m.1: ditto
	* doc/README.passwd: added
	* doc-jp/README.passwd: added

2010-07-31  Tatsuya Kinoshita  <tats@vega.ocn.ne.jp>

	* [w3m-dev 04350] Re: w3m's bugs from bugs.debian.org
	* file.c (process_img): Revert the change of using ATTR_TITLE if ATTR_ALT is empty.

2010-07-30  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04348] Re: "important" bugs from bugs.debian.org
	* file.c (TEXTAREA_ATTR_COL_MAX, TEXTAREA_ATTR_ROWS_MAX): added.
	(process_textarea): check cur_textarea_size > TEXTAREA_ATTR_COL_MAX and cur_textarea_rows > TEXTAREA_ATTR_ROWS_MAX

2010-07-30  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04345] Re: "important" bugs from bugs.debian.org
	* file.c (HR_ATTR_WIDTH_MAX): added.
	(process_hr): check w > HR_ATTR_WIDTH_MAX

2010-07-26  d+w3m@vdr.jp

	* [w3m-dev 04237] [patch] cookie avoid [wrong number of dots]
	* rc.c: Introduce option cookie_avoid_wrong_number_of_dots.
	* fm.h: add global variables cookie_avoid_wrong_number_of_dots and Cookie_avoid_wrong_number_of_dots_domains.
	* cookie.c (check_avoid_wrong_number_of_dots_domain): added.
	(add_cookie): use check_avoid_wrong_number_of_dots_domain().

2010-07-26  Ito Hiroyuki  <ZXB01226@nifty.com>

	* acinclude.m4: define AC_W3M_SSL_DIGEST_AUTH

2010-07-25  AIDA Shinra <shinra@j10n.org>

	* [w3m-dev 04049] Ctrl-C safe resolver
	* fm.h (GRAPHIC_CHAR_ASCII, GRAPHIC_CHAR_CHARSET, GRAPHIC_CHAR_ALL): removed.
	* fm.h: UseGraphicChar is initialized as FALSE.
	* main.c (sig_chld): use TRUE and FALSE instead of GRAPHIC_CHAR_ALL and GRAPHIC_CHAR_ASCII.
	* merge ambiguous width patch ( http://www.j10n.org/files/w3m-cvs-1.914-ambwidth.patch ).

2010-07-24  Ito Hiroyuki  <ZXB01226@nifty.com>

	* [w3m-dev 04326] suppress compile warnings
	* file.c (digest_hex): type of the parameter s is "unsigned char *".
	(AuthDigestCred): use unsigned char.
	(ex_efct): type of the function is "static int".

2010-07-20  Sascha Silbe <sascha-debian-bugs-w3m-1@silbe.org>

	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=523159#5
	* url.c (openSSLHandle): add support for TLS SNI (Server Name Indication)

2010-07-19  Karsten Schoelzel <kuser@gmx.de>

	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=329862#20
	* table.c (feed_table_tag): check displayLinkNumber.
	* proto.h: add getLinkNumberStr().
	* main.c (do_dump): check displayLinkNumber.
	* fm.h: add global variable displayLinkNumber.
	* file.c (getLinkNumberStr): added.
	(process_input, process_select, HTMLtagproc1): check displayLinkNumber.

2010-07-19  Karsten Schoelzel <kuser@gmx.de>

	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=329863#8
	* rc.c: Introduce option pseudo_inlines.
	* fm.h: add global variable pseudoInlines.
	* file.c (process_img): check q.

2010-07-19  "Trent W. Buck" <twb@cybersource.com.au>

	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=537706#10
	* rc.c (interpret_rc): check line->length before call Strchop().

2010-07-19  Karsten Schoelzel <kuser@gmx.de>

	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=366284#5
	* rc.c (init_rc): check config_file is NULL or not.
	(panel_set_option): check config_file instead of no_rc_dir.

2010-07-19  Karsten Schoelzel <kuser@gmx.de>

	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=261174#10
	* terms.c (graph_ok): check UseGraphicChar is GRAPHIC_CHAR_ALL or not.
	* symbol.c (get_symbol): check UseGraphicChar.
	* rc.c (graphic_char_str): added.
	* main.c (sig_chld): use GRAPHIC_CHAR_ASCII and GRAPHIC_CHAR_ALL.
	* fm.h (GRAPHIC_CHAR_ASCII, GRAPHIC_CHAR_CHARSET, GRAPHIC_CHAR_ALL): added.
	* fm.h: UseGraphicChar is initialized as GRAPHIC_CHAR_ASCII.

2010-07-19  Karsten Schoelzel <kuser@gmx.de>

	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=185006#22
	* main.c (sig_chld): save exit code to d->err.
	(addDownloadList): initialize d->running and d->err.
	(DownloadListBuffer): check d->err.

	* fm.h (_DownloadList): add running and err.

	* file.c (save2tmp): check returned value of Strfputs().
	(doFileSave): exit code is depend on the returned value of save2tmp().

2010-07-19  d+w3m@vdr.jp

	* [w3m-dev 04238] [patch] simple preserve space
	* rc.c: Introduce option simple_preserve_space.
	* fm.h: add global variable SimplePreserveSpace.
	* file.c (HTMLlineproc0): check SimplePreserveSpace.

2010-07-18 Karsten Schoelzel <kuser@gmx.de>

	http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=242599#21
	* file.c (is_html_type): added.
	(examineFile, loadGeneralFile, _saveBuffer)
	(openGeneralPagerBuffer, reloadBuffer): use is_html_type() instead
	of strcasecmp().
	(loadGeneralFile): set f.guess_tupe
	* display.c (displayBuffer): use is_html_type() instead of strcasecmp().
	* buffer.c (reshapeBuffer): use is_html_type() instead of strcasecmp().
	* backend.c (internal_get): use is_html_type() instead of strcasecmp().
	* main.c (vwSrc, reload, dispI, stopI): use is_html_type() instead of strcasecmp().
	* proto.h: add is_html_type()
	* url.c: add "xhtml" to DefaultGuess.

2010-07-18 Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04286] Re: break textform when buffer back
	* form.c (form_update_line): set line->size

2010-07-18 d+w3m@vdr.jp

	* [w3m-dev 04319] Re: w3m's bugs from bugs.debian.org
	* doc/w3m.1: fix typo.
	* doc-jp/w3m.1: update

2010-07-18 Petr Salinger <Petr.Salinger@seznam.cz>
	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=493486
	* terms.c: fix version check logic for FreeBSD

2010-07-18 Colin Watson <cjwatson@ubuntu.com>
	* http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=325699
	* scripts/w3mman/w3mman2html.cgi.in (Content-Type): "MAN_KEEP_FORMATTING=1"

2010-07-18  Ludwig Nussel <ludwig.nussel@...e.de>
	* http://www.openwall.com/lists/oss-security/2010/06/14/4
	* istream.c (ssl_check_cert_ident): replace \0 to make full string
	visible to user (CVE-2010-2074).

2007-06-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04279] charset
	* libwc/ces.h, libwc/charset.c: set charset to Shift_JIS, when locale 
	  is japanese, jp_JP.PCK, ja_JP.IBM-932, ja_JP.IBM-943, or windows-31j.

2007-06-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04278] Re: segfault on CentOS4.5/libgc6.8
	* term.c: add handling xterm-incompatible terminals without gpm.

2007-06-04  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04271] vi_prec_num
	* main.c: make number prefixes working when vi_prec_num=0.

2007-05-31  Dai Sato <satodai@w3m.jp>

	* w3m 0.5.2
	* version.c.in: update
	* doc/README: version 0.5.2, release date, maintainer
	* doc-jp/README: ditto
	* po/w3m.pot, ja.po: ditto
	* NEWS: update
	* configure.ac: version 0.5.2
	* configure: regenerated

2007-05-31  Tsutomu OKADA

	* [20070530101431@w3mbbs] Re: road to 0.5.2
	* ftp.c: fix typo.
	* main.c, mktable.c, w3mbookmark.c, w3mhelperpanel.c: add GC_INIT().

2007-05-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04266] Bug fix when tab browsing
	* fm.h, main.c: fix for tab browsing.

2007-05-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04265] compile error when #undef USE_BG_COLOR
	* terms.c: add #ifdef __CYGWIN__.

2007-05-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04264] Re: road to 0.5.2
	* po/makefile.in.in, scripts/*/Makefile.in: add datarootdir.

2007-05-29  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04262] FreeBSD sysmouse (Re: road to 0.5.2)
	* configure.ac: unbreak sysmouse support, pointed out by 
	  Travis Poppe <tlp@lickwid.net>.
	* configure: regenerated.

2007-05-29  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04260] Warning (Re: road to 0.5.2)
	* main.c, display.c: delete unused macros, change void to static void.

2007-05-29  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04259] long long (Re: road to 0.5.2)
	* Makefile.in, aclocal.m4: move 'gc' from $LIBS to $LIBGC.
	* configure: regenerated.

2007-05-29  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04256] Re: road to 0.5.2
	* scripts/Makefile.in, scripts/w3mhelp.cgi.in: add datarootdir.

2007-05-28  Hideyuki SHIRAI <shirai@meadowy.org>

	* [w3m-dev 04251] Re: road to 0.5.2
	* po/w3m.pot: pot-update.

2007-05-27  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04252] Re: road to 0.5.2
	* Makefile.in: add datarootdir for Autoconf 2.60 and later.

2007-05-23  NOKUBI Takatsugu <knok@daionet.gr.jp>

	* [w3m-dev 04155] w3m mingw patch
	* config.h, configure.ac, etc.c, file.c, ftp.c, indep.c, istream.c, 
	  local.c, main.c, rc.c, terms.c, url.c: fix for minpw, except for
	    deleting nsl and dl from configure.ac.
	* configure: regenerated.

2007-05-23  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04233], [w3m-dev 04236] Re: <del>, <s>, <ins>, and so on
	* file.c, fm.h, po/ja.po, po/w3m.pot, rc.c, table.c:
	    expand display_ins_del to select a type of fontify.

2007-05-23  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04242] Re: Compile error when --without-ssl
	* aclocal.m4, configure.ac: add checking ssl before digest_auth.
	* configure: regenerated.

2007-05-23  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04240] nl_langinfo() requires setlocale()
	* fm.h, main.c, menu.c, rc.c: add "#ifdef"s.
	* libwc/charset.c: add setlocale() for nl_langinfo().

2007-05-23  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03923] <pre> in <table>
	* file.c, table.c: avoid extra blanks in pre in table.

2007-05-23  tamo

	* [20070121110209@w3mbbs] unnecessary decoding in linein.c
	* linein.c: decoding URLs in correct condition.

2007-05-23  Tsutomu OKADA

	* [20061228000713@w3mbbs] avoid warning for file.c
	* html.h: change char to unsigned char for HTML_DL_COMPACT(133).

2007-05-23  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04213] update Unicode characters' width
	* libwc/ucs.c, libwc/ucs.h, libwc/map/ucs_wide.map: 
	  catch-up to EastAsianWidth-5.0.0.txt.

2007-04-19  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04212] quote URL of local dir
	* local.c: quote URLs with non-ASCII local directory names.

2007-04-19  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 04211] input type=image
	* file.c, html.[ch]: avoid conflicts between input_alt and img_alt.
	  fix calculation of labeled line numbers when fold_line=1.

2007-04-19  Hiroyuki Ito  <ZXB01226@nifty.com>

	* [w3m-dev 04197] Re: italic text
	* fm.h: display <em> and <i> elements with underline.

2006-12-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [SECURITY] fix format string vulnerability
	* file.c (inputAnswer) fix format string bug

2006-12-07  Hiroyuki Ito  <ZXB01226@nifty.com>

	* [w3m-dev 04185] Re: italic text
	* file.c, fm.h, html.c, html.h, tagtable.tab:
	  display <em> and <i> elements with bold letters.

2006-12-07  Hideyuki SHIRAI  <shirai@meadowy.org>

	* [w3m-dev 04184] automatic uncompression in downloading
	* rc.c: Add `AutoUncompress'.
	  (params3): Ditto.
	* fm.h: Add `AutoUncompress'.
	* file.c (loadGeneralFile): Check `AutoUncompress' when uncompress
	  data.
	  (HTMLlineproc2body): Ditto.
	* po/w3m.pot: Add new message for `AutoUncompress'.
	* po/ja.po: ditto.

2006-12-10  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04159] Re: Is this mailing list still alive?
	* cookie.c: accept invalid "set-cookies" headers
	  when "domainName == .hostName".

2006-12-10  noz

	* [20051124052846@w3mbbs] LiveHTTPHeaders
	* file.c, fm.h, main.c, url.c: add -reqlog option which makes
	  ~/.w3m/request.log like LiveHTTPHeaders of FireFox.

2006-08-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* mailcap.c (acceptableMimeTypes): change default accept: line
	    w3m should prefer text/html to other text/*.
	    reported as Debian Bug#374296

2006-06-12  Dai Sato  <satodai@w3m.jp>

	* another fix for [w3m-dev-en 01067] Some more patches
	* file.c (loadBuffer): avoid decoding when dump_extra option is specified.

2006-06-10  Dai Sato  <satodai@w3m.jp>

	* fix for [w3m-dev-en 01067] Some more patches
	* file.c (loadGeneralFile): avoid decoding when dump_extra option is specified.

2006-06-10  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev 03992] Change to display progress status when dump_extra option is specified
	* file.c (loadHTMLstream): Show progress status when dump_extra option is specified.

2006-06-07  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev 04129] handling newlines in form values 
	* parsetagx.c: don't delete newlines in hidden values.

2006-05-29  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01067] Some more patches
	* file.c, html.h, url.c: decode content-encoding in all situations.

2006-05-29  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01067] Some more patches
	* main.c: delete calls to GC from wrap_GC_warn_proc to avoid deadlocks.

2006-05-29  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01067] Some more patches
	* main.c: fix unsafe usages of SIGWINCH handler.

2006-05-29  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01067] Some more patches
	* keybind(_lynx).c, doc(-jp)/keymap.default: add SHIFT-TAB as a default binding for PREV_LINK.

2006-04-08  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev 04154] Unclosed textarea in table
	* table.c: close textarea when table related tags found.

2006-04-08  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev 04153] NEXT_LINK error
	* anchor.c, filc.c, fm.h: check A tag in HTMLlineproc2body().

2006-04-08  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev 04152] [PATCH] Add more explanation for the usage of the option setting panel.
	* doc(-jp)/FAQ.html, doc-jp/MANUAL.html: add explanations for .w3m/config and -o option.

2006-04-08  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev 04150] vi-prec_num
	* main.c: fix vi_prec_num switching.

2006-04-08  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev 04146] disable HAVE_LANGINFO_CODESET on cygwin
	* configure.ac: avoid AM_LANGINFO_CODESET check for Cygwin.

2006-04-07  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01060] Some patches
	* file.c, fm.h, rc.c: Introduce option show_cookie and set it TRUE by default. If set to FALSE received cookies will not be shown.
	* This fixes Debian bug #253547: w3m: Too slow receiving cookies.

2006-04-07  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01060] Some patches
	* parsetagx.c: Replace '\n' (newline) with ' ' (space) in attributes of html tags instead of ignoring them.
	* Fixes Debian bug #326167: w3m: new lines in hidden form fields are stripped

2006-04-07  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01060] Some patches
	* scripts/w3mman/w3mman*.in: Add w3mman -l <file> command line argument for viewing of local man files.
	* Fixes Debian bug #138805: w3mman -l doesn't work.

2006-04-07  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01060] Some patches
	* libwc/detect.c: Use the hint instead of US_ASCII in wc_auto_detect.
	* Fixes Debian bug #291735: w3m shouldn't "simplify" page's charset

2006-04-07  Dai Sato  <satodai@w3m.jp>

	* [w3m-dev-en 01060] Some patches
	* Str.h, table.c: Use Strnew_charp() instead of the wrong Strnew().
	* Fixes SF bug #895351 Strnew called with argument in table.c.

2006-02-10  Dai Sato  <satodai@w3m.jp>

	* http://dog.w3m.jp/bbs/spool/until200602.html#20060210153135@keijiwan
	* url.c: replace pclose passed to localcgi_post/get() with fclose in openURL()

2006-02-09  Dai Sato  <satodai@w3m.jp>

	* http://vimrc.hp.infoseek.co.jp/w3m-pclose.html
	* file.c: replace pclose with fclose in the end of uncompress_stream()

2005-02-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* configure.ac: rename from configure.in. this is for autoconf2.50

2005-02-27  NOMIYA Masaru <nomiya@ttmy.ne.jp>

	* [w3m-dev 04143] Patch for OS/2
	* config.h.in: ifdef HAVE_SETPGRP
	* configure.in: define USE_BINMODE_STREAM for *os2-emx*
	* islang.c: ULONG -> unsigned long
	* main.c: ULONG -> unsigned long

2005-02-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 01045] From newbie: problem with w3m-0.5.1 installation
	* acinclude.m4 (AC_W3M_SSL): define USE_SSL after ssl library found

2005-01-19  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 04133] mouse_end() should preced reset_tty()?
	* terms.c (reset_exit): mouse_end() should precede reset_tty()

2005-01-05  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 04130] [w3m-dev 04131] [w3m-dev 04132] Multiple challeges in *-Authenticate header
	* file.c (skip_auth_token): added
		(extract_auth_val): ',' is end of token
		(extract_auth_param): use skip_auth_token
		(AuthDigestCred): parse qop and calc cnonce correctly
		(findAuthentication): use skip_auth_token

2004-11-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3mimg/fb/fb_gdkpixbuf.c (fb_image_load):
	  fix unused variable `i'
	* w3mimg/x11/x11_w3mimg.c (x11_load_image):
	  ditto

2004-11-09  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04128] Re: w3mimgdisplay
	* acinclude.m4 (AC_W3M_IMAGE): check not yes
	* aclocal.m4, configure: regen
	* w3mimg/fb/fb_gdkpixbuf.c (fb_image_load): 
	   fb_image_fill in case GDK_PIXBUF_FRAME_DISPOSE
	* w3mimg/x11/x11_w3mimg.c (get_animation_size):
	   return n
	  (x11_load_image): 
	   fill in case GDK_PIXBUF_FRAME_DISPOSE

2004-11-05  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04117] Re: start attribute and value attribute on ordered lists
	* file.c (HTMLtagproc1): allow negative value for start attr

2004-10-14  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Bug#276246: w3m's locale parsing should at least see '@euro' modifier
	* config.h (HAVE_LANGINFO_CODESET): added
	* configure.in (AM_LANGINFO_CODESET): added
	* libwc/charset.c: #include <langinfo.h>
	       (wc_charset_to_ces): use nl_langinfo(CODESET)

2004-09-30  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04108] PIPE_BUF
	* main.c (pipeBuf): set buf->currentURL.file to prevent
		segfault by "PIPE_BUF cat;VIEW SOURCE;"

2004-08-31  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>

	* [w3m-dev 04104] w3mmail.cgi
	* scripts/w3mmail.cgi.in: strip ^M

2004-08-17  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04099] Re: w3m-img gtk2
	* w3mimg/fb/fb_gdkpixbuf.c (fb_image_load): fix resize bug

2004-08-06  Hiroyuki Ito <ZXB01226@nifty.com>

	* [w3m-dev 04097] Re: w3m-img gtk2
	* w3mimg/fb/fb_gdkpixbuf.c (draw): no need bg
		(get_animation_size): use GTimeVal
		(fb_image_load): use GTimeVal
				fix for animation
	* w3mimg/x11/x11_w3mimg.c (get_animation_size): use GTimeVal
		(x11_load_image): use GTimeVal
				fix for animation

2004-08-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 04096] w3m-img gtk2
	* acinclude.m4 (AC_W3M_IMAGE): add USE_GTK2
		add --with-imagelib=gtk2
	* aclocal.m4 config.guess config.sub configure: regen
	* config.h.in: add USE_GTK2
	* w3mimg/fb/fb_gdkpixbuf.c: support USE_GTK2
	* w3mimg/fb/fb_img.h: add fb_image_init()
	* w3mimg/fb/fb_imlib2.h: fb_image_init() stub
	* w3mimg/fb/fb_w3mimg.c: call fb_image_init()
	* w3mimg/x11/x11_w3mimg.c: support USE_GTK2

2004-08-03  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 04095] build fix when configure with --enable-messagel10n
	* main.c (main): locale and textdomain initialization if ENABLE_NLS
	* menu.c (initMenu): use _() instead of gettext()
	* rc.c (show_params): use _() instead of gettext()

2004-07-18  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 04094] Re: option panel: gettextize select list
	* rc.c (load_option_panel): don't gettext&wc_conv colorstr 
					several times

2004-07-16  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 04093] bookmark charset
	* add global variable: BookmarkCharset.
	* main.c:adBmark(): remove condition LANG = JA.
	* main.c: buffername encode by BookmarkCharset when add bookmark.
	* main.c: BookmarkCharset pass to w3mbookmark.
	* w3mbookmark.c: ditto.

2004-07-16  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 04092] remove __CYGWIN__ && LANG == JA
	* remove condition LANG == JA && __CYGWIN__
	* cygwin_mouse_btn_swapped enabled when before 1.5.x 

2004-07-16  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 04091] option panel: gettextize select list
	* rc.c: gettextize option select list.
	* rc.c: add gettextize message.
	* po/w3m.pot: ditto.
	* po/ja.po: ditto.

2004-07-14  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Debian Bug#259053
	* doc/FAQ.html, doc-jp/FAQ.html: ~/.mailcap -> ~/.w3m/mailcap

2004-05-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* based on [w3m-dev 04079]
	  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>
	* Makefile.in: (libwc/libwc.a): always make in libwc subdir
		(w3mimg/w3mimg.a): always make in w3mimg subdir

2004-05-03  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 01007]
	* libwc/Makefile.in (CFLAGS): need @CPPFLAGS@

2004-05-03  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: cvs version

2004-04-29  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.5.1
	* version.c.in: update
	* doc/README: version 0.5, release date, maintainer
	* doc-jp/README: ditto
	* NEWS: update
	* configure.in: version 0.5.1
	* po/w3m.pot, ja.po: update-po

2004-04-27  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>

	* [w3m-dev 04068] install-sh problem
	 [w3m-dev 04069] install-sh problem 2
	* Makefile.in (MAKE_ARGS): delete INSTALL
	* install-sh: replace with X Consortium install-sh (from automake)

2004-04-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 04073] Re: run configure in another directory
	* Makefile.in (CFLAGS): include dir here
		(DEFS): delete include dirs
		(libwc/libwc.a): pass OPTS only
		(w3mimg/w3mimg.a): pass OPTS only
	* libwc/Makefile.in (CFLAGS): fixed
	* w3mimg/Makefile.in (CFLAGS): added
		(fb x11): pass OPTS only
	* w3mimg/fb/Makefile.in (CFLAGS): added
	* w3mimg/x11/Makefile.in (CFLAGS): added

2004-04-23  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>

	* [w3m-dev 04066] --disable-color
	* rc.c (load_option_panel): #ifdef USE_COLOR

2004-04-22  Masao Uebayashi <uebayasi@pultek.co.jp>

	* fix build error for --enable-m17n --disable-unicode
	* libwc/detect.c (wc_create_detect_map): #ifdef USE_UNICODE

2004-04-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 04064] authentication
	 closes: Bug#:244029: w3m: HTTP basic authentication annoyance
	* fm.h (auth_cookie): deleted
	* proto.h (find_auth_cookie): deleted
		(add_auth_cookie): deleted
		(add_auth_user_passwd): added
		(invalidate_auth_user_passwd): added
	* etc.c (auth_pass): add bad flag
			delete file
		(dir_under): deleted
		(add_auth_pass_entry): add override flag
			no need to check file
		(find_auth_pass_entry): delete file
			check bad flag
			check uname
		(find_auth_user_passwd): find by pu->user
		(add_auth_user_passwd): added
		(invalidate_auth_user_passwd): added
		(parsePasswd): add no override
			ignore file
		(find_auth): deleted
		(find_auth_cookie): deleted
		(dump_auth_cookie): deleted
		(add_auth_cookie): deleted
	* file.c (getAuthCookie): add *uname, *pwd
			rewrite
		(loadGeneralFile): delete ss, add uname, pwd
			use add_auth_user_passwd instead of add_auth_cookie
	* url.c (HTTPrequest): don't authorization here
			it should be done in getAuthCookie in loadGeneralFile
			through extra_header
	* ftp.c (openFTPStream): add uname
			use find_auth_user_passwd instead of find_auth_cookie
			use add_auth_user_passwd instead of add_auth_cookie

2004-04-10  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>

	* [w3m-dev 04063] about Makefile
	* Makefile.in (DEFS): use CGIBIN_DIR instead of LIB_DIR
		(MAKE_ARGS): ditto
		(distclean): rm -f
	* config.h.dist: use CGIBIN_DIR instead of LIB_DIR
	* indep.c (w3m_lib_dir): ditto
	* scripts/Makefile.in: ditto
	* scripts/multipart/Makefile.in: ditto
	* w3mimg/Makefile.in (clearn): remove w3mimg.a

2004-04-05  AIDA Shinra <shinra@j10n.org>

	* [w3m-dev 04049] w3m-cvs-1.914-misc.patch
	* Makefile.in (funcname.tab): dont modify when target is unchanged.
		(CFLAGS): need $(CPPFLAGS)?
	* config.h.in: add HAVE_STDINT_H, HAVE_INTTYPES_H
	* configure.in: s/AC_CANONICAL_SYSTEM/AC_CANONICAL_HOST/
		don't use AC_CYGWIN
		don't use $CYGWIN, use $host_os *cygwin*
		AC_DEFINE in AC_CHECK_HEADER (float.h, sys/select.h)
		add stdint.h, inttypes.h
	* etc.c (find_auth_pass_entry): host is case insensitive
	* libwc/wc_types.h: use stdint.h or inttypes.h
	* main.c (MAIN); need GC_init()
	
2004-04-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	Debian Bug#241192 w3m ipv6 FQDN resolution failure
	* etc.c (FQDN): need to set ai_flags AI_CANONNAME, since we need
		ai_canonname here. 

2004-03-31  AIDA Shinra <shinra@j10n.org>

	* [w3m-dev 04050] SSL verify
	* url.c (openSSLHandle): don't load verify locations if 
		both ssl_ca_file and ssl_ca_path is NULL.

2004-03-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix search problem on different charset page than display charset
	* proto.h (conv_search_string): added
	* search.c (migemostr): use conv_search_string
		(conv_search_string): added
	* main.c (srchcore): use conv_search_string
		(reMark): ditto
	* menu.c (menu_search_forward): ditto
		(menu_search_backward): ditto
		(menu_search_next_previous): ditto

2004-03-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* rc.c: cleanup LANG == JA

2004-03-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* main.c (main): DisplayCharset also follow locale

2004-03-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* scripts/w3mhelp.cgi.in: use charset parramter
	* scripts/w3mhelp-funcdesc.en.pl.in: add charset
	* scripts/w3mhelp-funcdesc.ja.pl.in: ditto

2004-03-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* main.c (main): don't use SystemCharset for default of
		DisplayChaset, DocumentCharset

2004-03-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.5
	* version.c.in: update
	* doc/README: version 0.5, release date, maintainer
	* doc-jp/README: ditto
	* NEWS: update

2004-03-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* main.c (main): DisplayCharset and DocumentCharset also follow 
	    locale configuration
	* Makefile.in (distclean): distclean libwc
	* libwc/Makefile.in: add distclean
	* scripts/multipart/Makefile.in: add distclean
	* scripts/w3mman/Makefile.in: add distclean
	* scripts/Makefile.in: add distclean

2004-03-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3mimg/Makefile.in (distclean): rm -f w3mimg.a

2004-03-22  Akihiro Sagawa <sagawa@sohgoh.net>

	* [w3m-dev 04046]
	* configure.in (AC_W3M_IPv6): should check it after ext libs

2004-03-22  Akihiro Sagawa <sagawa@sohgoh.net>

	* [w3m-dev 04045]
	* Makefile.in (DEFUNS): need $(top_srcdir)

2004-03-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Makefile.in (install-po): fix for broken sh.
	  reported in [w3m-dev 04043] Re: w3m 0.5

2004-03-13  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 04041] spell-miss in configure
	* acinclude.m4 (AC_W3M_M17N): fix help-string
		suggested by sakane@d4.bsd.nes.nec.co.jp (Yoshinobu Sakane)

2004-02-06  MANTANI Nobutaka <nobutaka@nobutaka.com>

	* [w3m-dev 04038] --disable-m17n problem in form.c
	* form.c (form_update_line): fix for disable-m17n

2004-01-10  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 04030] PUSH_TAG macro
	* table.c (PUSH_TAG): fixed problem in --disable-m17n

2003-12-09  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 04025] mismatch message in ja.po
	* po/ja.po: fix wrong messages

2003-12-09  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 04024] fix: drive letter
	* url.c (parseURL2): fix for SUPPORT_DOS_DRIVE_PREFIX

2003-12-09  YONETANI Tomokazu <qhwt@myrealbox.com>

	* [w3m-dev 04022] $^
	* Makefile.in (DEFUNS): added
		funcname.tab: don't use $^
	* w3mimg/Makefile.in (w3mimg.a): don't use $^

2003-12-09  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 04021] Deeply nested table
	* file.c (completeHTMLstream): check obuf->table_level

2003-10-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Bug#217509: segfaults if TERM is not set
	* terms.c (check_cygwin_console): check TERM==NULL
		(set_tty): check TERM==NULL

2003-10-23  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 04011] accessing to an `https' URI with a fragment via a proxy
	* url.c (HTTPrequestURI): drop fragment
		(openURL): don't clear pu->label

2003-10-23  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 04010] support for deprecated __ss_family
	* acinclude.m4 (AC_W3M_IPv6): check __ss_family
	* config.h.in: add HAVE_OLD_SS_FAMILY
	* ftp.c (ftp_pasv): ifdef HAVE_OLD_SS_FAMILY

2003-10-23  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 04009] ./configure --disable-image problem
	* file.c (loadHTMLstream): if defined(USE_M17N)

2003-10-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 04006] checking GC_version for libgc
	 reported by SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>
	* acinclude.m4 (AC_W3M_GC): check GC_init instead of GC_version

2003-10-21  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>

	* [w3m-dev 03996] HELP_DIR and funcname.tab
	* configure.in (HELP_DIR): don't eval 
	* scripts/w3mhelp.cgi: subst @prefix@ for $helpdir

2003-10-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* #include <openssl/...>
	 suggested by ABE Yuji <cbo46560@pop12.odn.ne.jp>
	 [w3m-dev 03998] problem about pkg-config check for OpenSSL
	* html.h: #include <openssl/...>
	* istream.c: ditto
	* istream.h: ditto
	* url.c: ditto

2003-10-20  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 04002] Re: function and w3m-control
	* url.c (getURLScheme): accept numeric in scheme

2003-10-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03996] HELP_DIR and funcname.tab
	  reported by SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>
	* configure.in: don't use posix shell syntax $(..)
	* funcname.tab: deleted

2003-10-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* scripts/Makefile.in (w3mhelp-funcname.pl): depends ../funcname.tab
	* Makefile.in (IMGOBJS): deleted
		(indep.o): depends on fm.h funcname1.h
		(IMGDISPLAY): depends on w3mimg/w3mimg.a
		(w3mimg/w3mimg.a): renamed from w3mimg
	* acinclude.m4 (AC_W3M_IMAGE): modify IMBOBJS 
	* w3mimg/Makefile.in (AR): added
			(RANLIB): added
			(IMGOBJS): added
			(w3mimg.a): added

2003-10-11  qhwt@myrealbox.com

	* [w3m-dev 03990] Re: post-m17n merge problem?
	* Makefile.in (MAN1): need $(top_srcdir)
			(MAN1_JA): ditto
			(LOBJS): depends on fm.h funcname1.h
			(INFLATE): depends on $(ALIB)
			(libwc/libwc.a): renamed from libwc
			(IMGDISPLAY): depends on $(IMGOBJS) instead of w3mimg
				  depends on $(ALIB)
			(w3mimgdisplay.o): depends on w3mimg/w3mimg.h
	* acinclude.m4 (AC_W3M_M17N): WCTARGET is libwc/libwc.a
	* configure.in (HELP_DIR): expand ${prefix}

2003-10-08  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03985] Re: support for 307 Temporary Redirect
	* file.c (loadGeneralFile): support 307 Temporary Redirect

2003-10-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix build error --disbable-m17n
	* config.h.in: undef USE_M17N, USE_UNICODE
	* etc.c (url_unquote_conv): USE_M17N
	* file.c (convertLine): USE_M17N
		(loadHTMLStream): fix ifdef USE_IMAGE->USE_M17N
		(loadBuffer): fix USE_M17N
		(getNextPage): fix USE_M17N
	* fm.h (USE_M17N): don't define USE_M17N in case LANG == JA
			(this should be done by configure)
		(wc_ces): dummy typedef
		(wc_Str_conv): fix non-m17n macro args
		(wc_Str_conv_strict): ditto
	* ftp.c (loadFTPDir): fix undefined USE_M17N
	* mimehead.c (decodeWord): ditto
		(decodeMIME): ditto
	* news.c (loadNewsgroup): ditto
	* proto.h (convertLine): ditto
		(loadGopherDir): ditto
		(loadFTPDir): ditto
		(loadNewsgroup): ditto
		(decodeWord): ditto
		(decodeMIME): ditto
		(url_unquote_conv): ditto
	* terms.c (SETCH): ditto

2003-10-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* --with-imagelib request on [w3m-dev 03981]
	 from Mamoru KOMACHI <usata@sodan.ecc.u-tokyo.ac.jp>
	* acinclude.m4 (AC_W3M_IMAGE): add --with-imagelib

2003-10-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix problem reported on [w3m-dev 03981]
	  from Mamoru KOMACHI <usata@sodan.ecc.u-tokyo.ac.jp>
	* configure.in: add AC_SUBST(HELP_DIR)
	* Makefile.in (HELP_DIR): use AC_SUBT(HELP_DIR)
	* scripts/Makefile.in: add PACKAGE, VERSION, DOMAIN
			use PACKAGE instead of package: 
			 CGIBIN_DIR,AUXBIN_DIR,CONF_DIR
			add HELP_DIR
			add SUBDIRS
			(install unstall): do $(SUBDIRS)
	* scripts/multipart/Makefile.in: add PACKAGE,VERSION,DOMAIN
			use PACKAGE instead of package: 
			 CGIBIN_DIR,AUXBIN_DIR,CONF_DIR
			add HELP_DIR
	* scripts/w3mman/Makefile.in: add PACKAGE,VERSION,DOMAIN
			use PACKAGE instead of package: 
			 CGIBIN_DIR,AUXBIN_DIR,CONF_DIR
			add HELP_DIR
			add BIN_DIR, MAN1_DIR
			LIB_TARGETS->CGIBIN_TARGETS
			fix INSTALL_MAN
	* scripts/w3mman/w3mman.1.in: 
			change @LIB_DIR@ to @libexecdir@/@PACKAGE@/cgi-bin/

2003-10-01  Akira TAGOH <at@gclab.org>

	* acinclude.m4 (AC_W3M_SSL): use PKG_CHECK_MODULES

2003-09-29  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Makefile.in (distclean): remove posubst
	* Makefile.in (functable.c): fix cannot open file `b' for reading

2003-09-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* funcname.tab: generated from DEFUN
	* main.c menu.c: use DEFUN
	* conv.c ucs_eucjp.h ucs_latin1.h: deleted

2003-09-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* add posubst,  compile-time message l10n
	* Makefile.in: @POSUBST@
	* acinclude.m4(AC_W3M_M17N): add POSUBST, POLANG
		--enable-messagel10n
	* configure.in (W3M_LANG): subst
		(AM_GET_GNUTEXT): if messagel10n enabled, don't use NLS
		(AC_OUTOUT): add posubst, chmod +x
	* menu.c: remove if LANG == JA messages
	* rc.c: ditto

2003-09-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* remove ./intl
	* configure.in: external fo AM_GNU_GETTEXT
	* Makefile.in: remove intl, INTLTARGET

2003-09-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix [w3m-dev 03975] Re: gettextize
	* Makefile.in: add INTLTARGET, NLSTARGET
		cleanup
	* configure.in: INTLTARGET=intl,NLSTARGET=po if USE_NLS

2003-09-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* gettextize
	* Makefile.in: updated
	* menu.c: gettextize
	* rc.c: gettextize
	* intl/.cvsignore: added
	* po/.cvsignore: added
	* po/Makevars: added
	* po/Makevars.template: removed
	* po/POTFILES.in: updated
	* po/w3m.pot: created
	* po/ja.po: created

2003-09-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* based on [w3m-dev 03970]
	  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>
	* acinclude.m4 (AC_W3M_IMAGE): add IMGTARGETS
	* w3mimg/Makefile.in (all): use @IMGTARGETS@

2003-09-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* gettextize initial modifications
	* configure.in Makefile.in aclocal.m4 config.h.in: 
		update to support NLS
	* ABOUT-NLS: added
	* config.rpath: added
	* mkinstalldirs: added
	* intl/: added
	* po/: added
	* fm.h: NLS support
	* main.c (main): add gettext trigger

2003-09-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* more autoconfisicate

2003-09-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* merge m17n patch (w3m-0.4.1-m17n-20030308.patch.gz)
	* add libwc

2003-09-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: cvs version

2003-09-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.4.2
	* version.c.in: update
	* doc/README: version 0.4.2, release date
	* doc-jp/README: ditto
	* NEWS: update

2003-09-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03967] Re: IPv4/IPv6 only option patch
	* NEWS: options: -4, -6
	* fm.h (DNS_ORDER_INET_ONLY): added
		(DNS_ORDER_INET6_ONLY): added
		(ai_family_order_table): [3]->[7]
	* main.c (fusage): add -4/-6
		(main): -4/-6 mapped to dns_order=4/dns_order=6
	* rc.c (dnsorders): add DNS_ORDER_INET_ONLY, DNS_ORDER_INET6_ONLY
	* url.c (dnsorders): add 3-6

2003-09-16  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03960] 
	* acinclude.m4 (AC_W3M_CHECK_VER): fix version check logic

2003-08-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03958] w3mimgdisplay on jfbterm
	* w3mimg/fb/fb_w3mimg.c (w3mimg_fbopen): check TERM=jfbterm

2003-08-29  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03957] Location: from local-CGI
	* file.c (loadGeneralFile): don't parse header for local file
		redirected by Location: from local-CGI

2003-08-12  TSUCHIYA Masatoshi <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* [w3m-dev 03950] rel attribute of anchor tag
	* html.c (ALST_A): add ATTR_REL
		(MAXA_A): +1

2003-07-27  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03945] Re: application/xhtml+xml support
	* Makefile.in (ETC_DIR): added
		(CONF_DIR): added
		(DEFS): add CONF_DIR
		(MAKE_ARGS): add CONF_DIR
	* config.h.in (SYS_MAILCAP): use CONF_DIR
		(SYS_URIMETHODMAP): use CONF_DIR
	* func.c (sys_current_keymap_file): added
		(interpret_keymap): added
		(initKeymap): use interpret_keymap
		(interpret_mouse_action): added
		(initMouseAction): use interpret_mouse_action
	* indep.c (w3m_conf_dir): added
	* indep.h (w3m_conf_dir): added
	* menu.c (interpret_menu): added
		(initMenu): use interpret_menu
	* proto.h (confFile): added
	* rc.c (init_rc): read config file by interpret_rc
		(confFile): added

2003-07-23  Takahashi Youichirou <nikuq@hk.airnet.ne.jp>

	* [w3m-dev 03942] Save history
	* history.c (saveHistory): check tmpfile write error

2003-07-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03941] fix character encoding for 'v'
	* main.c (vwSrc): use document_code as DisplayCode

2003-07-23  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03939] next/prev visited link
	* funcname.tab (NEXT_VISITED): added
		(PREV_VISITED): added
	* main.c (_nextA): added
		(_prevA): added
		(nextVA): added
		(prevVA): added
	* proto.h (nextVA): added
		(prevVA): added
	* doc/README.func (NEXT_VISITED): added
		(PREV_VISITED): added
	* doc-jp/README.func (NEXT_VISITED): added
		(PREV_VISITED): added
	* NEWS: func: NEXT_VISITED, PREV_VISITED
	

2003-07-14  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03938] clear region margin
	* w3mimgdisplay.c (clearMargin): added
		(GetOption): add -margin
		(ClearImage): clear margin
	* w3mi,g/w3mimg.h (w3mimg_op): clear_margin
	* w3mimg/fb/fb.c (fb_clear): x,y must be >= 0
	* w3mimg/x11/x11_w3mimg.c (x11_clear): x,y must be >= 0

2003-07-14  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03937] <center> in <table>
	* table.c (feed_table_tag): fix <center>,</center>,<div>,</div>,
				<p>,<br>,<nobr>,</nobr>,<wbr>
			check_rowcol() for <img>

2003-07-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3mimg/fb/fb_img.h (get_image_size): add missing prototypes
	* w3mimg/fb/fb.c (fb_clear): unused variable `j'

2003-07-09  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03935] Re: clear image
	* w3mimg/fb/fb.c (fb_get_packed_color): added
		(fb_image_pset): use fb_get_packed_color
		(fb_image_fill): use fb_get_packed_color
		(fb_clear): use tmp to store pixels

2003-07-09  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03934] Re: clear image
	* w3mimg/x11/x11_w3mimg.c (x11_clear): s/FALSE/False/

2003-07-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03931] Re: clear image
	* w3mimgdisplay.c (ClearImage): offset
	* w3mimg/fb/fb.c (fb_clear): memcpy by pixel_size

2003-07-08  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03929] clear image
	* image.c (syncImage): added
		(drawImage): rewrite using syncImage()
		(clearImage): use clear image command (6)
	* w3mimgdisplay.c: change protocol
		2 => terminate drawing
		6 => clear image
		(main): '2' calls TermImage()
			'6' calls ClearImage()
			TermImage() when exit
		(TermImage): renamed from ClearImage
		(ClearImage): rewritten to call w_op->clear()
	* w3mimg.h/w3mimg.h (w3mimg_op): add clear()
	* w3mimg/fb/fb.c (fb_clear): added
	* w3mimg/fb/fb.h (fb_clear): added
	* w3mimg/fb/fb_img.c (fb_image_clear): added
	* w3mimg/fb/fb_w3mimg.c (w3mfb_clear): added
		(w3mimg_fbopen): initialize wop->clear
	* w3mimg/x11/x11_w3mimg.c (x11_clear): added
		(w3mimg_x11open): initialize wop->clear

2003-07-08  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03927] deflate
	* file.c (compression_decoder): .deflate for application/x-deflate's
				extension

2003-06-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03916] Re: charset attribute of anchor tag
	 requested by TSUCHIYA Masatoshi <tsuchiya@pine.kuee.kyoto-u.ac.jp>
	 for emacs-w3m
	* html.c (ALST_A): add ATTR_CHARSET
		(MAXA_A): +1

2003-06-18  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03914] a fragment in the Referer URI
	* url.c (otherinfo): strip URI fragment

2003-06-13  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03913] fix gif animation support
	* w3mimg/fb/fb_gdkpixbuf.c (fb_image_load): fix gif animation
	* w3mimg/x11/x11_w3mimg.c (x11_load_image): ditto

2003-05-15  Akinori Ito <aito@fw.ipsj.or.jp>

	* [w3m-dev 03902] Re: table rendering
	* table.c (check_relative_width): check n_leftcell
				check w <= r

2003-05-14  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03901] body with status-code 401
	* file.c (loadGeneralFile): show page when 401, 407

2003-05-14  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03900] Re: table rendering
	* table.c (check_relative_width): j loop starts from 0

2003-05-14  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>

	* [w3m-dev 03899] minor fixes
	* acinclude.m4: fix s/SSLCFLAGS/SSL_CFLAGS/
	* doc/README: update, fix typo
	* doc-jp/FAQ.html: update, fix URL
	* doc-jp/README: update
	* doc-jp/README.SSL: update
	* doc-jp/README.cookie: update
	* doc-jp/README.img: update URL
	* doc-jp/README.migemo: update
	* doc-jp/STORY.html: fix URL

2003-05-14  Akinori Ito <aito@fw.ipsj.or.jp>

	* [w3m-dev 03898] Re: table rendering
	* table.c (check_relative_width): added
		(set_table_matrix): use check_relative_width

2003-05-13  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03896] html_quote in textarea in frame
	* frame.c (createFrameFile): fix html_quote in textarea in frame

2003-05-13  Hironori SAKAMOTO <h-saka@lsi.nec.co.jp>

	* [w3m-dev 03895] type=image support of pre_form
	* form.c (loadPreFOrm): add image
		(preFormUpdateBuffer): add FORM_INPUT_IMAGE
	* doc/README.pre_form: update
	* doc-jp/README.pre_form: ditto

2003-05-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03891] Re: urimethodmap and relative URL
	* url.c (parseURL2): copy scheme part into pu->file when SCM_UNKNOWN

2003-05-07  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03889] Progress bar in Download List Panel
	* main.c (DownloadListBuffer): calculation in double

2003-05-07  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>

	* [w3m-dev 03888] autodetect ssl
	* acinclude.m4 (AC_W3M_SSL): use SSL_*
	* configure.in: move AC_W3M_SSL after AC_W3M_EXTLIBS

2003-05-03  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03887] Re: I-search problem
	* main.c (dispincsrch): don't move cursor if not found.

2003-04-27  qhwt@myrealbox.com

	* [w3m-dev 03886] Re: POSTing patch (Re: User-Agent for Bonus/2ch.cgi)
	* Bonus/2ch.cgi: posting

2003-04-20  qhwt@myrealbox.com

	* [w3m-dev 03883] User-Agent for Bonus/2ch.cgi
	* Bonus/2ch.cgi: User-Agent

2003-04-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03882] Re: Bug#189460: w3m: <q> tag is not recognized
	* file.c (HTMLtagproc1): add HTML_Q, HTML_N_Q
	* html.c (TagMAP): add "q", "/q"
	* html.h (HTML_Q): added
		(HTML_N_Q): added
	* tagtable.tab: add q, /q

2003-04-15  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03880] Re: convert \ -> / in URL
	* Bonus/backslash_to_slash.cgi: added

2003-04-15  Masanori Kobayasi <zap03216@nifty.ne.jp>

	* [w3m-dev 03878] I-search problem
	* linein.c (inputLineHistSearch): don't call incrfunc twice
	* main.c (dispincsrch): fix search loop problem

2003-04-14  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03875] Re: SSL & compressed stream
	* file.c (loadGeneralFile): check t_buf != NULL
	* url.c (openURL): don't initialize URLFile here
		(init_stream): 0 clear URLFile

2003-04-14  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03873] SSL & compressed stream
	* file.c (loadGeneralFile): always update ssl_certificate 
	* url.c (openURL): initialize URLFile

2003-04-12  NAKAJIMA Mikio <minakaji@osaka.email.ne.jp>

	* [w3m-dev 03872] goodict.cgi
	* Bonus/goodict.cgi: adapt new goo dict web page

2003-04-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* configure.in (AUXBIN_TARGETS): don't reset, move to head

2003-04-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03870] Re: configure --help
	* acinclude.m4 (AC_W3M_IMAGE): fix help message
			(AC_W3M_SSL): fix typo

2003-04-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03865] Re: configure --help
	* acinclude.m4 (AC_W3M_ANSI_COLOR): depends USE_COLOR
		(AC_W3M_BG_COLOR): depends USE_COLOR
		(AC_W3M_W3MMAILER): depends external_uri_loader
	* fm.h: undef USE_BG_COLOR ifndef USE_COLOR

2003-04-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03864] doc/README
	* doc/README doc-jp/README: update

2003-04-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m] local cookie string is too easy to guess.
	* fm.h (Local_cookie): deleted
	* local.c (Local_cookie): static
		(writeLocalCookie): localCookie()
		(setLocalCookie): deleted
		(localCookie): added
	* main.c (main): delete srand48(), setLocalCookie()
		(adBmark): s/Local_cookie/localCookie()/
	* proto.h (setLocalCookie): deleted
		(localCookie): added
	* rc.c (load_option_panel): s/Local_cookie/localCookie()/

2003-04-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03858] configure cleanup
	* acinclude.m4 configure.in: update

2003-04-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03856] <gc.h> 
	* backend.c entity.c fm.h hash.c indep.c indep.h matrix.c
	  textlist.c: s/"gc.h"/<gc.h>/

2003-04-08  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03849] fix no INET6
	* ftp.c: no need ifdef INET6

2003-04-08  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03846] fix use_history
	* main.c (main): move loadHistory

2003-04-08  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03844] w3mhelp.cgi update
	* scripts/w3mhelp-funcdesc.en.pl.in: add %menu_funcdesc
	* scripts/w3mhelp-funcdesc.ja.pl.in: add %menu_funcdesc
				update %title
	* scripts/w3mhelp-funcname.pl.in: add %menu_funcname
				add %menu_keyfunc
	* scripts/w3mhelp.cgi.in: modified for menu
				link to keymap

2003-04-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03843] cleanup macros
	* config.h.dist config.h.in etc.c file.c fm.h ftp.c linein.c 
	   main.c rc.c:
	   delete EMACS_LIKE_LINEEDIT, VI_PREC_NUM, LABEL_TOPLINE, 
		NEXTPAGE_TOPLINE, FTPPASS_HOSTNAMEGEN
	   use_mark default FALSE
	   emacs_like_lineedit default FALSE
	   vi_prec_num default FALSE
	   add UseHistory, use_history
	* NEWS: rc: use_history

2003-04-05  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03838] W3M_LIBS splitted from LIBS
	* Makefile.in (W3M_LIBS): added
	* acinclude.m4 (AC_W3M_TERMLIB): use W3M_LIB
		(AC_W3M_SSL): ditto
	* configure.in (W3M_LIBS): added

2003-04-04  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03837] Re: gif animation with no delay_time
	* w3mimg/fb/fb_gdkpixbuf.c (get_animation_size): add delay
				check delay_time
		(get_image_size): no need delay time
		(fb_image_load): check delay 
		(draw): no bg
	* w3mimg/fb/fb_w3mimg.c (w3mfb_show_image): delete delay skip loop
	* w3mimg/x11/x11_w3mimg.c (get_animation_size): add delay
				check delay_time
		(x11_load_image): check delay
		(x11_get_image_size): no need delay time

2003-03-28  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* doc(-jp)/keymap.default: ';' is quoted

2003-03-28  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* Makefile.in: distclean removes core

2003-03-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03836] CFLAGS for SSL in configure
	* acinclude.m4 (AC_W3M_SSL): add -I$dir/include to CFLAGS

2003-03-28  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03834] Re: gif animation with no delay_time
	* w3mimg/x11/x11_w3mimg.c (x11_load_image): fix delay check

2003-03-27  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03833] gif animation with no delay_time
	* w3mimg/fb/fb_w3mimg.c (w3mfb_show_image): skip delay<=0
	* w3mimg/x11/x11_w3mimg.c (x11_image): add delay
		(x11_img_new): initialize delay
		(x11_load_image): initialize delay
		(x11_show_image): jump to last image if delay<=0

2003-03-27  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 03831] fix typo
	* acinclude.m4 (AC_W3M_LANG): SYSTEM_CODE
	* configure.in: fix typo CYGIN

2003-03-27  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03830] Image size of gif animation
	* w3mimg/fb/fb_gdkpixbuf.c (get_animation_size): added
		(get_image_size): use get_animation_size()
		(fb_image_load): ditto
	* w3mimg/x11/x11_w3mimg.c (get_animation_size): added
		(x11_load_image): use get_animation_size()
		(x11_get_image_size): ditto

2003-03-25  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03829] w3mimgdisplay -anim
	* w3mimgdisplay.c (maxAnim): added, default 100
		(main): add --anim option, w_op->max_anim
	* w3mimg/w3mimg.h (w3mimg_op): add max_anim
	* w3mimg/fb/fb_gdkpixbuf.c (fb_image_load): add max_anim
	* w3mimg/fb/fb_img.h (fb_image_load): add max_anim args
	* w3mimg/fb/fb_imlib2.c (fb_image_load): add max_anim args
	* w3mimg/fb/fb_w3mimg.c (w3mfb_load_image): pass max_anim
	* w3mimg/x11/x11_w3mimg.c (x11_load_image): max_anim

2003-03-24  Daiki Ueno <ueno@unixuser.org>

	* [w3m-dev 03828] possible typo in nextA
	* main.c (nextA): fix typo?

2003-03-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03827] Re: checking for GC_version... no
	* configure.in: add dl for extlibs

2003-03-20  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03825] re-anchor for fold line
	* anchor.c (reAnchorPos): fix for fold line

2003-03-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00910] Re: autoconf: env MAKE not respected
	* Makefile.in (SET_MAKE): added
		(SHELL): added

2003-03-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00908] Re: autoconf: --without-migemo is a nop
	* acinclude.m4 (AC_W3M_MIGEMO): dont define USE_MIGEMO 
				when with_migemo=no

2003-03-14  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03823] Re: etc.c: treatment for "%7E" is added to  expandName()
	* url.c (parseURL2): file unquote
	* etc.c (expandName): revert previous changes

2003-03-14  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03822] Re: etc.c: treatment for "%7E" is added to  expandName()
	* etc.c (expandName): rewrite with strncasecmp

2003-03-14  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03821] fix for pmake
	* Makefile.in: use $(srcdir)/... instead of $<

2003-03-13  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* etc.c: treatment for "%7E" is added to  expandName()

2003-03-13  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03819] support cd build && ../configure
	* Makefile.in: add VPATH
			add MV
			use $(top_srcdir), $<, $@
	* acinclude.m4 (AC_W3M_VERSION): use $srcdir
	* configure.in (AC_W3M_VERSION): move
	* mktable.c (main): basename

2003-03-13  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Makefile.in (distclean): added

2003-03-13  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03818] fix autoconf
	* Makefile.in (CGIBIN_DIR): added
		(AUXBIN_DIR): added
		(HELP_DIR): added
		(RC_DIR): added
		(MAKE_ARGS): added
		(TARGET): use $(package)
		(MAN1_TARGET): ditto
		(install): use $(*_DIR)
	* acinclude.m4 (AC_W3M_TERMLIB): added
		(AC_W3M_GC): default search prefix /usr /usr/local $HOME
			fix searches
		(AC_W3M_SSL): fix bugs
	* config.h (RC_DIR): remove tailing /
		(SYS_MAILCAP): use ETC_DIR
		(SYS_MIMETYPES): ditto
		(USER_MIMETYPES): homedir
	* configure.in: quote
		(AC_W3M_TERMLIB): use
	* Bonus/oldconfigure.sh: rewrite

2003-03-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03816] --enable-lynx => --enable-keymap=lynx 
	* acinclude.m4 (AC_W3M_KEYMAP): --enable-lynx => --enable-keymap=lynx
	* Bonus/oldconfigure.sh: ditto

2003-03-12  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03814] fix autoconf
	* acinclude.m4: quote variables
	* Bonus/oldconfigure.sh: configure using old config.param

2003-03-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03812] fix autoconf
	* acinclude.m4 (AC_W3M_IMAGE): default is autodetect x11,fb

2003-03-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03810] fix autoconf
	* acinclude.m4 (AC_W3M_EXTLIBS): use $dir
			(AC_W3M_GC): PREFIX is optional
			(AC_W3M_SSL): PREFIX is optional
				with_ssl=yes, check usual dirs
				use $dir
			(AC_W3M_IPv6): use $dir

2003-03-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03809] fix autoconf
	* acinclude.m4 (AC_W3M_CHECK_VER): accept version like "1.9.13-2"

2003-03-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>
	
	* [w3m-dev 03808] fix autoconf
	* acinclude.m4 (AC_W3M_GC): --with-gc takes PREFIX
				check include first
		(AC_W3M_CHECK_VER): show checking message
		(AC_W3M_IMAGE): if gdkpixbuf found, don't check imlib*

2003-03-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Makefile.in (MODEL): delete @W3M_TARGET@
	* configure.in: AC_SUBST(W3M_TARGET)

2003-03-11  Fumitoshi UKAI  <ukai@debian.or.jp>	
	
	* which: deleted
	* makeallmomdel: deleted

2003-03-11  Fumitoshi UKAI  <ukai@debian.or.jp>	

	* [w3m-dev 03804] fix autoconf
	* acinclude.m4 (AC_W3M_MENU): default enabled
			(AC_W3M_MOUSE): default enabled
			(AC_W3M_COOKIE): default enabled
			(AC_W3M_LANG): can't detect locale here.
				autoconf set LANG=C
			(AC_W3M_DIGEST_AUTH): default enabled
			(AC_W3M_SSL): default enabled
	* configure.in (AC_W3M_DIGEST_AUTH): added

2003-03-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03804] fix autoconf
	* config.h.in (EAMCS_LIKE_LINEEDIT): define
		(VI_PREC_NUM): define
		(USE_MARK): define
		(LABEL_TOPLINE): define
		(NEXTPAGE_TOPLINE): define
		(FTPPASS_HOSTNAMEGEN): define
		(SHOW_PARAMS): define
		(VIEW_UNSEENOBJECTS): define
		(ID_EXT): define

2003-03-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03804] fix autoconf
	* acinclude.m4 (AC_W3M_MODEL): deleted
		(AC_W3M_COLOR): default enable
		(AC_W3M_ANSI_COLOR): default enable
		(AC_W3M_BG_COLOR): default enable
		(AC_W3M_SHOW_PARAMS): deleted
		(AC_W3M_DICT): default enable
		(AC_W3M_HISTORY): default enable
		(AC_W3M_VIEW_UNSEENOBJECTS): deleted
		(AC_W3M_FORMAT_NICE): deleted
		(AC_W3M_ID_EXT): deleted
		(AC_W3M_FTPPASS_HOSTNAMEGEN): deleted
		(AC_W3M_NNTP): default enabled
		(AC_W3M_LANG): autodetect whether japanese is enabled
		(AC_W3M_KANJI_SYMBOLS): default enabled
		(AC_W3M_EMACS_LIKE_LINEEDIT): deleted
		(AC_W3M_VI_PREC_NUM): deleted
		(AC_W3M_MARK): deleted
		(AC_W3M_LABEL_TOPLINE): deleted
		(AC_W3M_NEXTPAGE_TOPLINE): deleted
		(AC_W3M_SSL): fix without ssl
		(AC_W3M_IMAGE): default enabled
		(AC_W3M_XFACE): check uncompface
		(AC_W3M_IPv6): enable_ipv6 if inet6 lib found
	* configure.in (AC_PROG_CPP): added

2003-03-11  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03803] fix autoconf
	* acinclude.m4 (AC_W3M_MIGEMO): add missing test
					needs quote
		(AC_W3M_SSL): delete x

2003-03-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03802] fix autoconf
	* acinclude.m4 (AC_W3M_CHECK_VER): warn only

2003-03-11  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03801] fix autoconf
	* acinclude.m4 (AC_W3M_BG_COLOR): fix typo
		(AC_W3M_KANJI_SYMBOLS): check enable_japanese != 'no'
		(AC_W3M_KEYMAP): needs {}
		(AC_W3M_EXTLIBS): don't modify libdir, use extlibdir
		(AC_W3M_SSL): missing x
		(AC_W3M_IMAGE): add AC_DEFINE(USE_IMAGE)
	* config.h.in: s/USE_KANJI_SYMBOLS/KANJI_SYMBOLS/
		add SIZEOF_LONG_LONG
		don't use //, use /* */
	* configure.in: add AC_CHECK_SIZEOF(long long, 0)

2003-03-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* autoconfiscate
	* Makefile.in: added
	* acinclude.m4: added
	* aclocal.m4: added (generated from acinclude.m4 by aclocal)
	* configure.in: added
	* config.h.in: added
	* config.guess: added
	* config.sub: added
	* .cvsignore: add Makefile config.cache config.log config.status
	* configure: generated by autoconf
	* gc/: deleted
	* XMakefile: deleted
	* XXMakefile: deleted
	* NEWS: autoconficate

2003-03-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: cvs version

2003-03-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.4.1
	* version.c.in: update
	* doc/README: version 0.4.1, release date
	* doc-jp/README: ditto
	* NEWS: update

2003-03-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03794] displayBuffer() when CurrentTab == NULL.
	* display.c (displayBuffer): check buf
	* linein.c (inputLineHistSearch): check CurrentTab
		(next_dcompl): check CurrentTab
		(_editor): check CurrentTab
	* main.c (resize_screen): check CurrentTab

2003-03-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03793] incremental search fix
	* main.c (dispincsrch): revert sbuf.pos fix
			start from next position in next forward search
		(srch): start from next position in forward saerch
			if not found, restore original position
		(srch_nxtprv): start from next position in next forward search
	* search.c (forwardSearch): search from current position

2003-03-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03792] URL match string
			incremental search fix
	* main.c (chkURLBuffer): allow - at end of URL string
		(dispincsrch): start from current position in case of
				incremental search
	* search.c (forwardSearch): found if same position
		(backwardSearch): ditto

2003-03-03  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03788] UFhalfclose
	* file.c (UFhalfclose): closeNews() for SCM_NEWS,NNTP

2003-02-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03783] pipe to "command1 | command2"
	* Bonus/utf8.cgi: added

2003-02-27  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03784] ftp directory support
	* ftp.c (AbortLoading): added
		(KeyAbort): added
		(openFTPStream): remove '~' in realpathname?
		(loadFTPDir): remove '~' in realpathname?
			keyabort
			new ex_ftpdir_name_size_date()
			add symlink information to flist
		(XD_CTOD): deleted
		(EX_COUNT_DIGIT): added
		(ex_ftpdir_name_size_date): add **link
			accept device file
			loose date check for localized server

2003-02-27  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03783] pipe to "command1 | command2"
	* etc.c (myExtCommand): redirect to subshell
	* main.c (pipeBuf): conv_to_system(cmd)
			shell_quote()
			set buf->filename, buf->buffername

2003-02-26  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03782] real linenumber for EDIT and EDIT_SCREEN
	* main.c (cur_real_linenumber): added
		(editBf): use cur_real_linenumber instead of CUR_LINENUMBER
		(editScr): ditto

2003-02-26  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03781] Debian Bug report logs - #181897: w3m submits query urls with "extra"
	* main.c (_followForm): remove tailling '?'

2003-02-25  Hironori SAKAMOTO <h-saka@lsi.nec.co.jp>

	* [w3m-dev-en 00891] Re: w3m 0.4 has been released!
	* image.c (getCharSize): set W3M_TTY here, before Imgdisplay invoke
		(openImgdisplay): no need setting W3M_TTY here

2003-02-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: cvs version

2003-02-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.4
	* version.c.in: update
	* doc/README: version 0.4, release date
	* doc-jp/README: ditto
	* NEWS: update

2003-02-24  patakuti@t3.rim.or.jp

	* [w3m-dev 03772] Compilation error on Cygwin B20.1
	* terms.c (term_title): use Sprintf() instead of snprintf()
	* doc-jp/README.cygwin doc/README.cygwin: add note about B20.1

2003-02-21  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 03765] Re: README.cygwin
	* doc/README.cygwin: translated

2003-02-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc/README: update

2003-02-21  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev 03762] Re: README.cygwin
	* doc/README.cygwin: translated

2003-02-21  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03761] eliminate compiler warnings
	* ftp.c (ftp_login): Str tmp
	* table.c (feed_table_tag): p is used ifdef ID_EXT 

2003-02-21  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 03760] Re: README.cygwin
	* doc-jp/README: update

2003-02-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* 0.4 release candidate 3
	* version.c.in: update

2003-02-19  Atsushi YOKOYAMA <yoko-a@cmh.fuchu.toshiba.co.jp>

	* [w3m-dev 03758] Re: SVR4 signal behavior
	* etc.c (reset_signals): use mySignal()
		(setup_child): ditto
		(myExec): ditto
		(mySignal): added, use sigaction if available
	* fm.h (TRAP_ON): use mySignal
		(TRAP_OFF): ditto
	* istream.c (ISclose): ditto
	* main.c (sig_chld): ditto
		(main): ditto
		(do_dump): ditto
		(resize_hook): ditto
		(resize_handler): ditto
		(srchcore): ditto
		(readsh): ditto
		(SigAlarm): ditto
	* proto.h (mySignal): added
	* terms.c (error_dump): use mySignal()
		(set_int): ditto
		(mouse_init): ditto

2003-02-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03753] Fixed multipart.cgi
	* scripts/multipart/multipart.cgi.in: remove w3m-control
			use input hidden
			add form_encode

2003-02-18  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 03749] README.cygwin
	* doc-jp/README.cygwin: added
	* doc/README: updated

2003-02-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* 0.4 release candidate 2
	* version.c.in: update

2003-02-13  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03742] Re: Bug##180814: w3m: Missing w3mimgdisplay message at startup
	* image.c (getCharSize): stderr redirect to omit /bin/sh error message

2003-02-13  Fumitoshi UKAI  <ukai@debian.or.jp>

	* XMakefile (install-core): fix for broken non-POSIX /bin/sh

2003-02-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev-en 00868] fix mark_all_pages
	* anchor.c (reAnchorAny): next_line process for MarkAllPages

2003-02-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev-en 00867] fix installation problem
	* XMakefile (install-core): test AUXBIN_TARGETS

2003-02-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: cvs version

2003-02-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* 0.4 release candidate 1
        * version.c.in: update

2003-02-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03737] local-CGI POST
	* local.c (localcgi_post): use tmp file

2003-02-08  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03736] dirlist sort
	* scripts/dirlist.cgi.in (right_dir): use cmp for filename comparison

2003-02-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03735] Re: make error of checkType arg
	* etc.c (checkType): delete USE_ANSI_COLOR
	* file.c (addnewline): macro for USE_ANSI_COLOR
		(readHeader): rewrite of USE_ANSI_COLOR
		(HTMLlineproc2body): ditto
		(addnewline2): ditto
		(addnewline): ditto
		(loadBuffer): ditto
		(getNextPage): ditto
	* proto.h (checkType): macro for USE_ANSI_COLOR

2003-02-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03733] Re: display decoded URL
	* display.c (make_lastline_link): buf->document_code

2003-02-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03732] Re: scroll() is slow ?
	* configure (use_raw_scroll): added
		(config.h) use_raw_scroll
	* config.h.dist (USE_RAW_SCROLL): added
	* display.c (displayBuffer): ifdef USE_RAW_SCROLL
	* proto.h (scroll): ifdef USE_RAW_SCROLL
		(rscroll): ditto
		(need_clrtoeol): if 0
		(terms.c): if 0 need_clrtoeol
		(scroll_raw): ifdef USE_RAW_SCROLL

2003-02-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: rc: decode_url

2003-02-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03730] display decoded URL
	* anchor.c (link_list_panel): support DecodeURL
	* display.c (make_lastline_link): support DecodeURL
	* etc.c (url_unquote_conv): added
	* fm.h (DecodeURL): added
	* history.c (historyBuffer): support DecodeURL
	* indep.c (QUOTE_MAP): added
		(HTML_QUOTE_MAP): added
		(html_quote_char): deleted
		(url_quote): use is_url_quote
		(file_quote): use is_file_quote
		(is_url_safe): deleted
		(Str_form_quote): use is_url_unsafe
		(Str_url_unquote): add safe args
		(is_shell_safe): delete
		(shell_quote): use is_shell_unsafe
	* indep.h (QUOTE_MAP): added
		(HTML_QUOTE_MAP): added
		(HTML_QUOTE_MASK): added
		(SHELL_UNSAFE_MASK): added
		(URL_QUOTE_MASK): added
		(FILE_QUOTE_MASK): added
		(URL_UNSAFE_MASK): added
		(GET_QUOTE_TYPE): added
		(is_html_quote): added
		(is_shell_unsafe): added
		(is_url_quote): added
		(is_file_quote): added
		(is_url_unsafe): added
		(html_quote_char): added
		(html_quote_char): deleted
		(Str_url_unquote): added safe
		(form_unquote): Str_url_unquote changes
	* linein.c (_prev): support DecodeURL
		(_next): ditto
	* main.c (goURL0): support DecodeURL
		(_peekURL): ditto
		(curURL): ditto
	* map.c (follow_map_panel): support DecodeURL
		(append_map_info): ditto
		(append_link_info): ditto
		(append_frame_info): ditto
		(page_info_panel): ditto
	* menu.c (initSelectMenu): delete SCM_LOCAL_CGI
			support DecodeURL
		(initSelTabMenu): delete SCM_LOCAL_CGI
			support DecodeURL
		(link_menu): support DecodeURL
	* parsetagx.c (parse_tag): is_html_quote
	* proto.h (url_unquote_conv): added
	* rc.c (CMT_DECODE_URL): added
		(params1): add decode_url
	* url.c (openURL): Str_url_unquote non safe

2003-02-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03729] buf fix of reAnchorNewsheader()
	* anchor.c (reAnchorAny): check l->bpos
		 (reAnchorNewsheader): check l->bpos
					strlen(*q)
					lineBuf[l->size]

2003-02-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03728] IPv6 hostname
	* url.c (parseURL): rewrite IPv6 address parser

2003-02-04  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03724] Re: view source, edit source
	* buffer.c (reshapeBuffer): initialize buf->width first
	* display.c (displayBuffer): no need to check buf>sourcefile

2003-02-01  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03721] PATH_INFO support of local CGI
	* local.c (CGIFN_DROOT): deleted
		(CGIFN_LIBDIR): added
		(CGIFN_MODE): deleted
		(CGIFN_CONTAIN_SLASH): deleted
		(check_local_cgi): rewrite
		(cgi_filename): rewrite
		(localcgi_post): support PATH_INFO
	* url.c (openURL): rewrite
	* Bonus/smb.cgi: use PATH_INFO

2003-02-01  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03720] mark remains
	* main.c (srchcore): PREC_NUM

2003-01-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03719] Re: Too slow when loading big file with fold_line=1
	* file.c (addnewline): check i <l->len

2003-01-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03718] Too slow when loading big file with fold_line=1
	* etc.c (nextColumn): added
		(calcPosition): use New_N
				rewrite with nextColumn
		(columnLen): added
	* file.c (addnewline): rewrite with columnLen
	* proto.h (columnLen): added

2003-01-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03717] print newline before exec shell command.
	* main.c (execsh): print newline

2003-01-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03715] initial currentLine when pager mode.
	* file.c (getNextPage): fix cur

2003-01-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03714] -cols 1 -dump -o fold_line=1
	* file.c (addnewline): check i == 0, i == l->len
	* fm.h (_INIT_BUFFER_WIDTH): added
		(INIT_BUFFER_WIDTH): use _INIT_BUFFER_WIDTH

2003-01-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03713] search with "$"
	* search.c (forwardSearch): check l->next && l->next->bpos
		(backwardSearch): check l->size, l->next && l->next->bpos

2003-01-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03712] buf fix of LINE_INFO
	* main.c (curlno): rewrite

2003-01-30  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03709] Re: view source, edit source
	* display.c (displayBuffer): INIT_BUFFER_WIDTH
	* file.c (_saveBuffer): added
		(saveBuffer): use _saveBuffer
		(saveBufferBody): added
	* main.c (vmSrc): saveBufferBody
	* proto.h (saveBufferBody): added

2003-01-30  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev-en 00852] Re: Enhancement: content type detection of files
	* url.c (DefaultGuess): remove upppercases
		(guessContentTypeFromTable): rewrite, strcasecmp

2003-01-30  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03708] Re: Don't stop loading image when moving to next page.
	* config.h.dist (lstat): define ifndef HAVE_LSTAT
	* configure (config.h) ditto
	* display.c (fmTerm): new loadImage
		(save_current_buf): only ifdef USE_BUFINFO
		(displayBuffer): new loadImage
	* etc.c (setup_child): TrapSignal
	* file.c (loadGeneralFile): TRAP_OFF, TRAP_ON
		(loadHTMLstream): ditto
		(loadGopherDir): ditto
		(loadBuffer): ditto
		(loadImageBuffer): ditto
		(getNextPage): ditto
		(save2tmp): ditto
	* fm.h (TrapSignal): added
		(TRAP_ON): added
		(TRAP_OFF): added
	* form.c (HAVE_LSTAT): deleted
	* frame.c (createFrameFile): TRAP_OFF, TRAP_ON
	* image.c (image_buffer): added
		(deleteImage): new loadImage
		(getAllImage): initialize image_buffer
		(loadImage): rewrite
	* main.c (main): new loadImage
		(checkDownloadList): remove ifdef HAVE_LSTAT
	* news.c (loadNwesgroup): TRAP_ON, TRAP_OFF
	* proto.h (loadImage): add buf arg
	* url.c (openSocket): TRAP_ON, TRAP_OFF
		(check_no_proxy): TRAP_ON, TRAP_OFF

2003-01-29  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03707] Don't stop loading image when moving to next page.
	* display.c (save_current_buf): required when defined USE_IMAGE
		(displayBuffer): stop only buffer changed
	* image.c (loadImage): IMG_FLAG_START load from maxLoadImage

2003-01-29  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03706] X-Image-URL: support, bug fix of reshapeBuffer()
	* buffer.c (reshapeBuffer): rewrite
	* file.c (readHeader): rewrite

2003-01-29  NAKAJIMA Mikio <minakaji@osaka.email.ne.jp>

	* [w3m-dev 03705] goodict.cgi (was: Re: google.cgi (was: Re: keymap key SEARCH string))
	* Bonus/goodict.cgi: added

2003-01-29  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03700] Re: google.cgi (was: Re: keymap key SEARCH string)
	* main.c (goURL0): check relative or *url == '#'

2003-01-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03689] Re: fold patch
	* fm.h (BufferPos): add bpos
	* main.c (save_buffer_position): bpos initialize
		(resetPos): reset bpos

2003-01-26  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03686] Re: fold patch
	* buffer.c (writeBufferCache): rewrite
		(readBufferCache): rewrite
	* etc.c (calcPosition): short -> int realColumn
	* fm.h (Line): short -> int len,width,size,bpos,bwidth
		(BufferPoint): short->int pos
		(Buffer): short->int currentColumn,pos,visualpos
		(BufferPos): short->int currentColumn,pos
	* frame.h (frameset_queue): short->int pos,currentColumn
	* main.c (clear_mark): short->int pos
		(dispincsrch): short->int pos
		(backBf): short->int pos
		(set_buffer_environ): short->int prev_pos

2003-01-25  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03684] Re: fold patch
	* file.c (PSIZE): added
		(HTMLlineproc2body): outc,outp is created by NewAtom_N
			use PSIZE

2003-01-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* file.c (getNextPage): no need volatile for code

2003-01-25  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03683] interrupt in getNextPage()
	* file.c (getNextPage): trap SIGINT

2003-01-25  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03682] open null file on tab
	* display.c (displayBuffer): if empty, clear()

2003-01-25  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03681] Re: fold patch
	* buffer.c (reshapeBuffer): buf->pos, sbuf.currentLine fix
				FoldLine
	* display.c (arrangeCursor): buf->pos fix
		(restorePosition): buf->pos fix	

2003-01-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: func: RESHAPE
		rc: fold_line

2003-01-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix compiler warnings
	* display.c (displayBuffer): fix suggest parentheses around && within ||
2003-01-24  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03667] fold patch
	* anchor.c (reAnchorPos): rewrite
		(reAnchorWord): delete reseq_anchor()
		(reAnchorAny): use l->size
				delete reseq_anchor()
	* backend.c (internal_get): pass TRUE to saveBuffer
	* buffer.c (newBuffer): delete n->linelen
		(reshapeBuffer): rewrite
	* display.c (displayBuffer): FoldLine
		(redrawLine): l->bpos
		(cursorUp0): added
		(cursorUp): rewrite
		(cursorDown0): added
		(cursowDown): rewrite
		(cursorRight): check l->next
				l->bwidth
		(cursorLeft): l->prev && l->bpos
				l->bwidth
		(arrangeCursor): buf->currentLine->bwidth
			buf->cursorX
	* etc.c (checkType): **oporp
				rewrite
		(calcPosition): realColumn allocated by New_reuse
	* file.c (addnewline): add nlines arg
		(propBuffer): deleted
		(colorBuffer): deleted
		(readHeader): propBuffer
			FOLD_BUFFER_WIDTH
		(HTMLlineproc2body): rewrite
		(addnewline2): added
		(addnewline): rewrite
		(loadBuffer): propBuffer, colorBuffer
		(saveBuffer): cont arg
		(getNextPage): rewrite
	* fm.h (LINELEN): 256
		(FNLEN): deleted
		(Line): add size, bpos, bwidth
		(Buffer): delete linelen
		(INIT_BUFFER_WIDTH): check showLineNum 
		(FOLD_BUFFER_WIDTH): added
		(FoldLine): added
	* funcname.tab (RESHAPE): added
	* main.c (do_dump): pass FALSE to saveBuffer
		(nscroll): rewrite
		(clear_mark): l->size
		(shiftvisualpos): rewrite
		(pipeBuf): pass TRUE to saveBuffer
		(linebeg): check line->prev && line->bpos
		(linend): check line->next, line->next->bpos
		(editScr): pass TRUE to saveBuffer
		(svBuf): pass TRUE to saveBuffer
		(vmSrc): pass TRUE to saveBuffer
		(reshape): added
		(curlno): rewrite
	* mimehead.c (LINELEN): deleted
	* proto.h (reshape): added
		(saveBuffer): add cont arg
		(cursorUp0): added
		(cursorDown0): added
		(checkType): change type oprop, ocolor, delete check_color, len
	* rc.c (CMT_FOLD_LINE): added
		(params1): add fold_line
		(sync_with_option): check PagerMax
	* search.c (set_mark): l->size
		(forwardSearch): rewrite
		(backwardSearch): rewrite
	* doc/README.func (RESHAPE): added
	* doc-jp/README.func (RESHAPE): added
	* scripts/w3mhelp.cgi.in (Buffer operation): add reshape

2003-01-24  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* etc.c (next_status): after = is R_ST_VALUE
			R_ST_VALUE > => R_ST_NORMAL
			R_ST_VALUE SP => R_ST_TAG
		(read_token): R_ST_VALUE
		(correct_irrtag): R_ST_VALUE
	* rm.h (R_ST_VALUE): added
		(ST_IS_REAL_TAG): rewrite
		(ST_IS_COMMENT): deleted
		(ST_IS_TAG): deleted
	* parsetagx.c (parse_tag): skip too long tagname
				skip too long attrname
				if attrvalue has quote char, need reconstruct
				if unknown attr, need reconstruct
	* table.c (visible_length): R_ST_VALUE

2003-01-24  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03680] showProgress() on fast system
	* file.c (showProgress): check line len, time

2003-01-24  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03679] Re: cleanup for pipe
	* etc.c (open_pipe_rw): check stdin, stdout
	* file.c (uncompress_stream): rewrite

2003-01-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03678] Re: config.param is clear when configure -help
	* configure: don't override config.param

2003-01-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03677] view source, edit source
	* buffer.c (discardBuffer): unlink header source
	* file.c (loadFile): delete skip header
	* fm.h (BP_SOURCE): deleted
		(SkipHeader): deleted
	* main (editBf): cleanup
		(vmSrc): cleanup

2003-01-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03676] cleanup for pipe
	* etc.c (open_pipe_rw): added
	* file.c (uncompress_stream): rewrite using open_pipe_rw
	* image.c (openImgdisplay): rewrite using open_pipe_rw
	* local.c (localcgi_popen_rw): deleted
		(localcgi_post): rewrite using open_pipe_rw
	* proto.h (open_pipe_rw): added
	* search.c (migemor): initialized to NULL
		(migemow): initialized to NULL
		(migemo_pid): initialized to 0
		(open_migemo): rewrite using open_pipe_rw

2003-01-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03675] x-face
	* file.c (xface2xpm): use getImage()
		(readHeader): check same file
		(loadImageBuffer): rewrite
		(lessopen_stream): shell_quote()

2003-01-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03674] -dump problem
	* file.c (loadGeneralFile): return NULL when dump
	* main.c (dump_source): deleted
		(dump_head): deleted
		(dupm_extra): deleted
		(do_dump): added
		(main): singal when dump

2003-01-23  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03671] Re: config.param is clear when configure -help
	* configure: test -f config.param

2003-01-22  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03665] imlib2 support (on X11)
	* configure: X11 inline image with Imlib2
		fix typo in fb/imlib2
	* w3mimg/x11/x11_w3mimg.c: USE_IMLIB2
		(x11_load_image): USE_IMLIB2
		(x11_show_image): USE_IMLIB2
		(x11_free_image): USE_IMLIB2
		(x11_get_image_size): USE_IMLIB2

2003-01-22  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03664] config.param is clear when configure -help
	* configure: config.param created after arg parsing

2003-01-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* map.c (follow_map_menu): if USE_IMAGE or MENU_MAP
	* proto.h (follow_map_menu): ditto

2003-01-21  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03660] Re: fputs -> Strfputs
	* Str.h (Strncmp_charp): paren
		(Strncasecmp_charp): ditto
		(Strinsert): ditto
		(Strshrinkfirst): ditto
	* display.c (disp_err_message): added
	* file.c (loadGeneralFile): don't put function in macro arg
		(saveBuffer): ditto
	* frame.c (createFrameFile): ditto
	* proto.h (disp_err_message): macro->function
	* table.c (pushdata): if data is NULL, use ""
		(suspend_or_pushdata): if line is NULL, use ""
	* textlist.h (pushText): don't use (s) twice in a macro

2003-01-21  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03659] Can't download from SSL.
	* istream.c (ISfileno): case IST_SSL

2003-01-21  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03658] Re: Other user can see local cookie.
	* fm.h (rc_dir): init(NULL)
	* rc.c (config_file): deleted
		(init_rc): use rc_dir

2003-01-21  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03657] fputs -> Strfputs
	* form.c (form_fputs_decode): use Strfputs()

2003-01-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03655] Re: file.c:image_source when undef USE_IMAGE
	* map.c (follow_map_menu): fix warnings

2003-01-19  WATANABE Katsuyuki <knabe@sannet.ne.jp>

	* [w3m-dev 03654] file.c:image_source when undef USE_IMAGE
	* file.c (readHeader): image_source ifdef USE_IMAGE
		(loadGeneralFile): ditto
		(uncompress_stream): ditto

2003-01-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03653] SourceForge.net: 576032 w3m https crashes with OpenSSL-0.9.7
	* istream.c (ssl_check_cert_ident): use sk_GENERAL_NAME_free()

2003-01-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03652] Re: Debian bug #176981
	* file.c (checkHeader): always remove_space
		(loadGeneralFile): no need remove_space

2003-01-18  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03651] Debian bug #176981
	* file.c (checkRedirection): added
		(loadGeneralFile): check redirection
				t_buf only is created when it is NULL
				remove_space

2003-01-18  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03647] expandName() and expandPath()
	* etc.c (openSecretFile): use expandPath
		(expandName): rewrite
		(file_to_url): use expandPath
	* file.c (_doFileCopy): use expandPath
		(doFileSave): use expandPath
	* indep.c (expandPath): rewrite
	* linein.c (inputLineHistSearch): use expandPath
		(next_dcompl): use expandPath
		(doComplete): use expandPath
	* local.c (set_cgi_environ): rewrite
	* mailcap.c (loadMailcap): use expandPath
	* main.c (svBuf): use expandPath
		(addDownloadList): use expandPath
	* rc.c (init_rc): use expandPath
		(rcFile): rewrite
		(auxbinFile): use expandPath
		(libFile): use expandPath
		(etcFile): use expandPath
		(helpFile): use expandPath
	* url.c (loadMimeTypes): use expandPath
		(loadURIMethods): use expandPath

2003-01-18  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03646] setup child process, local CGI
	* etc.c (reset_signals): static
				don't ignore SIGUSR1
		(close_all_fds_except): static
				DEV_NULL_PATH
		(setup_child): added
		(myExec): rewrite
		(mySystem): rewrite
	* file.c (readHeader): check image_source
		(loadGeneralFile): check image_source
		(doExternal): use setup_child
		(_doFileCopy): use setup_child
		(doFileSave): use setup_child
		(uncompress_stream): check image_source
				use setup_child
	* image.c (getCharSize): no need stderr redirect
		(openImgdisplay): use setup_child
		(loadImage): use setup_child
		(getImageSize): no need stderr redirect
	* local.c (writeLocalCookie): check Local_cookie_file
		(localcgi_popen_rw): added
		(localcgi_popen_r): deleted
		(localcgi_post): rewrite
		(localcgi_get): deleted
	* proto.h (localcgi_get): defined by localcgi_post
		(reset_signals): deleted
		(close_all_fds_except): deleted
		(close_all_fds): deleted
		(setup_child): added
	* search.c (open_migemo): use setup_child, myExec
	* w3mimgdisplay.c (main): use DEV_NULL_PATH

2003-01-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03644] Re: Other user can see local cookie.
	* cookie.c (save_cookies): return if no_rc_dir
	* etc.c (tmpf_base): add cookie
		(tmpfname): use tmp_dir instead of rc_dir
	* file.c (loadGeneralFile): cookie is not passed via URL
	* fm.h (TMPF_COOKIE): incl
		(MAX_TMPF_TYPE): incl
		(no_rc_dir): added
		(tmp_dir): added
		(config_file): added
	* local.c (Local_cookie_file): added
		(writeLocalCookie): added
		(setLocalCookie): dont set environment LOCAL_COOKIE
		(localcgi_post): writeLocalCookie
		(localcgi_get): writeLocalCookie
	* main.c (config_filename): deleted
		(cmd_loadURL): arg FormList
		(main): rewrite config_file, rc
		(ldhelp): no cookie in URL
		(cmd_loadURL): arg FormList
		(goURL0): cmd_loadURL change
		(cmd_loadBuffer): cmd_loadURL change
		(adBmark): cookie is posted
		(follow_map): cmd_loadURL change
		(linkMn): cmd_loadURL change
		(reinit): init_rc change
	* proto.h (create_option_search_table): deleted
		(init_rc): no args
	* rc.c (create_option_search_table): static
		(init_rc): no args
			rewrite
		(optionpanel_src1): rewrite
		(load_option_panel): html_quote
		(panel_set_option): no_rc_dir
	* w3mbookmark.c: rewrite
	* w3mhelperpanel.c: rewrite
	* scripts/dirlist.cgi.in: rewrite
	* scripts/w3mhelp.cgi.in: rewrite
	* scripts/w3mmail.cgi.in: rewrite
	* scripts/multipart/multipart.cgi.in: rewrite

2003-01-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* file.c (loadGopherDir): convertLine RAW_MODE
	* ftp.c (loadFTPDir): ditto

2003-01-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03642] Re: cleanup (don't close connection of news server)
	* local.c (localcgi_post): localcgi_popen_r first

2003-01-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03641] Re: cleanup (don't close connection of news server)
	* ftp.c (ftp_command): fix fwrite arg
	* news.c (news_command): fix fwrite arg

2003-01-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03640] Re: cleanup (don't close connection of news server)
	* anchor.c (_put_ahchor_news): always conv_str
		(_put_anchor_all): always conv_str
	* etc.c (close_all_fds): deleted
		(close_all_fds_except): added, except fd=f is left open
	* file.c (guess_filename): added
		(UFhalfclose): added
		(convertLine): cleanup_line if not raw mode
			check uf
		(readHeader): always convertLine
		(loadGeneralFile): rewrite
		(loadGopherDir): return Str, args change to ParsedURL and code
				rewrite
		(saveBuffer): always conv_str
		(_doFileCopy): close_all_fds
		(doFileSave): close_all_fds_except
		(uncompress_stream): dup, close_all_fds_except
	* form.c (form_fputs_decode): always conv_str
		(input_textarea): convertLine
	* frame.c (createFrameFile): convertLine
	* ftp.c (loadFTPDir): arg code
				rewrite
		(readFTPDir): convertLine
	* html.h (UFfileno): added
	* image.c (loadImage): close_all_fds
	* indep.h (RAW_MODE): added
	* local.c (loadLocalDir): return Str
		(dirBuffer): rewrite
		(localcgi_popen_r): close_all_fds
	* main.c (main): check SCM_LOCAL
			print err_msg
	* news.c (news_command): args cmd and arg
		(news_quit): news_command
		(openNewsStream): news_command
		(readNewsgroup): deleted
		(loadNewsgroup): added
		(closeNews): added
	* proto.h (loadGopherDir): update
		(conv_str): define for no JP_CHARSET
		(readFTPDir): deleted
		(loadFTPDir): added
		(readNewsgroup): deleted
		(loadNewsgroup): added
		(dirBuffer): deleted
		(loadLocalDir): added
		(close_all_fds): defined by close_all_fds_except
		(close_all_fds_except): added

2003-01-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03639] Re: smb.cgi
	* Bonus/2ch.cgi: change password handling
	* Bonus/README: update
	* Bonus/README.eng: ditto

2003-01-12  qhwt@myrealbox.com

	* [w3m-dev 03636] segfault in main.c
	* main.c (main): check newbuf->currentURL.file

2003-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Bonus/README.eng: sync with Bonus/README

2003-01-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03635] 2ch.cgi
	* Bonus/2ch.cgi: added
	* Bonus/README: update

2003-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Bonus/README.eng: sync with Bonus/README

2003-01-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03634] smb.cgi
	* Bonus/smb.cgi: added
	* Bonus/README: update

2003-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* ftp.c (ftp_pasv): ftp_command response
		(readFTPDir): masked declaration of realpathname

2003-01-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03633] Re: cleanup (don't close connection of news server)
	* file.c (FTPhalfclose): deleted
		(loadGeneralFile): closeFTP when doFileSave is done
		(_doFileCopy): return int
		(doFileMove): return int
		(doFileSave): return int
	* ftp.c: rewrite
	* main.c (w3m_exit): disconnectFTP
	* proto.h (_doFileCopy): return int
		(doFileMove): return int
		(doFileSave): return int
		(openFTP): deleted
		(openFTPStream): return InputStream
		(closeFTP): no arg
		(Ftpfclose): disconnectFTP
	* url.c (openFTPstream): deleted

2003-01-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix compiler warnings
	* html.h (UFclose): value computed but not used

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03632] cleanup (don't close connection of news server)
	* file.c (loadSomething): remove UFclose nntp:,news:
		(loadFile): UFclose
		(loadGeneralFile): always UFclose
	* html.h (UFclose): only reset when ISclose ==0
	* istream.c (ISclose): return int
		(ISfileno): flag IST_UNCLOSE
	* istream.h (ISclose): return int
		(IST_UNCLOSE): added
	* news.c (news_close): reset IST_UNCLOSE
		(news_open): set IST_UNCLOSE

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03631] display current form item
	* form.c (form2str): rewrite
	* istream.c (ssl_get_certificate): fix typo
	* map.c (follow_map_panel): valign=top
		(append_map_info): valign=top
		(append_link_info): valign=top
		(append_frame_info): <pre_int>
				html_quote ssl_certificate
		(page_info_panel): rewrite, html_quote

2003-01-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc/README.pre_form: update
	* doc-jp/README.pre_form: ditto

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03630] improved pre_form
	* form.c (pre_form): add re_url, name
		(add_pre_form): add name
				rewrite
		(loadPreForm): add "form"
		(preFormUpdateBuffer): handle re_url

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03629] delete tmp file
	* etc.c (tempfname): always file to delete
	* file.c (xface2xpm): no need fileToDelete
		(readHeader): ditto
		(loadGeneralFile): ditto
		(loadHTMLBuffer): ditto
		(loadHTMLString): ditto
		(loadGopherDir): ditto
		(loadImageBuffer): ditto
		(doExternal): rewrite
		(doFileSave): no need fileToDelete
		(uncompress_stream): ditto
	* fm.h (CurrentPid): added
	* image.c (getImage): cache->touch to delete
	* local.c (setLocalCookie): use CurrentPid
		(localcgi_post): fileToDelete
	* main.c (main): CurrentPid
		(pipeBuf): no need fileToDelete
		(query_from_followform): CurrentPid
		(vmSrc): no need fileToDelete

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03628] Re: Error occured while reset
	* file.c (doExternal): bufp = NULL, return 1
		(uncompress_stream): tempfname fileToDelete

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03626] Re: relative URL
	* url.c (parseURL2): copy if scheme is local or local-cgi

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03625] keymap key SEARCH string
	* main.c (srch): accept command argument
		(reMark): accept command argument
	* Bonus/google.cgi: added

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03622] Re: Error occured while reset
	* file.c (uncompress_stream): child process initialized
	* terms.c (close_tty): close unless stdin,out,err
		(reset_tty): flush_tty, close_tty
		(write1): flush_tty
		(refresh): flush_tty
		(flush_tty): check ttyf

2003-01-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03620] -m option and header
	* buffer.c (reshapeBuffer): fix reading from stdin
				fix -m option
	* display.c (redrawNLine): rewrite
		(redrawLine): return l instead of l->next
		(redrawLineImage): ditto
	* file.c (loadFile): read header even if skip header
		(loadGeneralFile): read header even if skip header
	* fm.h (SkipHeader): added
	* main.c (main): check whether reading from stdin
			SkipHeader

2003-01-10  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03619] Re: Error occured while reset
	* file.c (process_img): check image.ext
		(HTMLlineproc2body): check image.ext
		(loadImageBuffer): url, ext is in URLFile
	* frame.c (unloadFrame): no need to push to fileToDelete
		(copyFrame): no need to reset FB_TODELETE
		(resetFrameElement): f_body->source, buf->sourcefile
		(frame_download_source): buf->source
				buf->sourcefile reset
	* frame.h (FB_NOCACHE): deleted
		(FB_TODELETE): deleted
	* main.c (vmSrc): Currentbuf->sourcefile
			need_reshape if images exist

2003-01-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03617] sourcefile when Content-Encoding: is specified.
	* file.c (uncompress_stream): add src arg
		(examineFile): change uncompress_stream
		(loadGeneralFile): change uncompress_stream
		(doExternal): src
		(uncompress_stream): ext
				tmpfile with same ext

2003-01-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03616] Re: data: URL scheme
	* file.c (loadGeneralFile): check SCM_DATA
		(loadImageBuffer): newBuffer()
	* html.h (SCM_DATA): added
	* indep.c (url_unquote): deleted
		(Str_url_unquote): renamed from Str_form_unquote
				+ is decoded is_form only
	* indep.h (url_unquote): deleted
		(Str_url_unquote): added
		(Str_form_unquote): define by Str_url_unquote
	* main.c (followA): file_unquote
		(cmd_loadURL): file_unquote
	* url.c (DefaultPort): add for data:
		(schemetable): add "data"
		(DefaultFile): SCM_FTPDIR
		(parseURL): scheme copied from current
		(parseURL2): SCM_DATA
			check SCM_FTP, SCM_FTPDIR
		(_parsedURL2Str): add data in scheme_str
			handle SCM_DATA
			SCM_FTPDIR
		(openURL): file_unquote
			handle SCM_DATA

2003-01-08  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03611] relative URL
	* news.c (openNewsStream): don't skip '/' for nntp:
		(readNewsgroup): cleanup
	* url.c (parseURL): don't copy user & password
		(parseURL2): fix for group, don't copy user & password

2003-01-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix build warnings
	* url.c (parseURL2): fix comparison between pointer and integer
	* news.c (readNewsgroup): variable `scheme',`group',`list' might be clobbered by `longjmp' or `vfork'

2003-01-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03610] Re: news:<newsgroup>
	* anchor.c (_put_anchor_news): check '<'
		(reAnchorNewsheader): added
	* file.c (loadSomething): Subject: as buffername
		(checkHeader): check buf->document_header
		(loadGeneralFile): reAnchorNewsheader
	* html.h (SCM_NNTP_GROUP): added
	* main.c (main): delete USE_NNTP in switch (newbuf->real_scheme)
		(chkNMIDBuffer): lowercase in url_like_pat
	* news.c (add_news_message): add scheme, group as arg
		(openNewsStream): check SCM_NNTP_GROUP
				check current_news.host
		(readNewsgroup): rewrite to support nntp:,news: extension
	* proto.h (reAnchorNewsheader): added
	* url.c (DefaultPort): add 119 for nntp group
		(parseURL2): rewrite to support nntp:,news: extension
		(_parsedURL2Str): add for SCM_NNTP_GROUP
		(openURL): rewrite to support nntp:,news: extension

2002-12-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix build errors
	* display.c (make_lastline_message): fix error for undef JP_CHARSET
	* news.c (readNewsgroup: `code' always required

	* gcc -Wall -Werror clean
	* file.c (loadHTMLstream): unused variable `p'
	* news.c (news_command): unused variable `c'
		(news_open): unused variable `tmp'
		(readNewsgroup): volatile page, qgroup, flag, start, end
				uninitialized variable `page'
	* url.c (openURL): unused variable `fw', `r', `stream'

2002-12-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* rc: nntpserver, nntpmode, max_news

2002-12-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03608] news:<newsgroup>
	* XMakefile (LSRCS): add news.c
		(LOBJS): add news.o
	* file.c (loadSOmething): don't UFclose() for nntp/news
		(readHeader): remove . at beginning of line for news
			img link to file:
		(loadGeneralFile): add SCM_NEWS_GROUP
			don't UFclose() for nntp/news
		(loadHTMLstream): . line check for news
		(loadBuffer): . line check for news
	* fm.h (NNTP_server): added
		(NNTP_mode): added
		(MaxNewsMessage): added
	* html.h (SCM_NEWS_GROUP): added
	* main.c (main): NNTP_server or NNTPSERVER
			NNTP_mode or NNTPMODE
			add SCM_NEWS_GROUP
		(followA): remove news:..@.. check
		(cmd_loadURL): remove news:...@.. check
		(w3m_exit): disconnectNews
	* proto.h (openNewsStream): added
		(readNewsgroup): added
		(disconnectNews): added
	* rc.c (CMT_NNTP_SERVER): added
		(CMT_NNTP_MODE): added
		(CMT_MAX_NEWS): added
		(params9): add nntpserver, nntpmode, max_news
	* url.c (DefaultPort): add 119 for news group
		(parseURL2): news:..@... is SCM_NEWS_GROUP
		(_parsedURL2Str): add news for SCM_NEWS_GROUP
		(openURL): cleanup SCM_NEWS
			add SCM_NEWS_GROUP
	* news.c: added
	
2002-12-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03607] mymktime: time zone support
	* etc.c (get_zone): added
		(mymktime): parse timezone

2002-12-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03606] Re: clean up displayBuffer()
	* main.c (followA): B_FORCE_REDRAW
		(follow_map): ditto

2002-12-27  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03604] http response code and content-type
	* file.c (loadGeneralFile): don't guessContentType if http errors

2002-12-26  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03602] Re: w3mimgdisplay core dump
	* w3mimgdisplay.c (DrawImage): check load_image, imageBuf[n].pixmap
	* w3mimg/fb/fb_w3mimg.c (w3mfb_show_image): check img->pixmap
	* w3mimg/x11/x11_w3mimg.c (x11_show_image): check img->pixmap

2002-12-26  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03601] Re: meta refresh
	* main.c (LastEvent): added
		(pushEvent): add to LastEvent

2002-12-26  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03600] Re: meta refresh
	* main.c (main): move add_download_list

2002-12-25  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03598] restore cursor when download list panel is updated.
	* main.c (stopDownload): delete->replace
		(ldDL): use DownloadListBuffer()

2002-12-25  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03597] Re: meta refresh
	* main.c (Event): next, linked list
		(N_EVENT_QUEUE): deleted
		(eventQueue): deleted
		(n_event_queue): deleted
		(CurrentEvent): added
		(main): event processing, add CurrentEvent linked list
		(pushEvent): add Event to CurrentEvent
		(SigAlarm): Currentbuf->event
	* proto.h (pushEvent): rename args

2002-12-25  Hiroaki Shimotsu <shim@d5.bs1.fc.nec.co.jp>

	* [w3m-dev 03596] LIST
	* anchor.c (link_list_panel): check internal

2002-12-25  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03595] tolower, toupper
	* Str.c (Strlower): TOLOWER
		(Strupper): TOUPPER
	* backend.c: delete ctype.h
	* etc.c (gethtmlcmd): TOLOWER
	* file.c (readHeader): TOLOWER
		(checkOverWrite): TOLOWER
		(guess_charset): TOLOWER
	* ftp.c: delete ctype.h
	* indep.c (strcasecmp): TOLOWER
		(strncasecmp): TOLOWER
		(strcasematch): TOLOWER
	* istream.c: include myctype.h
		(ssl_get_certificate): TOLOWER
	* mailcap.c (mailcapMatch): TOLOWER
	* main.c (_quitfm): TOLOWER
	* menu.c (accesskey_menu): TOLOWER
	* mimehead.c: include myctype.h
		(decodeWord): TOUPPER
	* mktable.c: delete ctype.h, include myctype.h
		(main): IS_SPACE
	* myctype.h: delete ctype.h
		(TOLOWER): added
		(TOUPPER): added
	* parsetagx.c (parse_tag): TOLOWER
	* rc.c (str_to_bool): TOLOWER
		(str_to_color): TOLOWER
	* regex.c: delete ctype.h, include myctype.h
		(TOLOWER): added
		(TOUPPER): added
		(regmatch1): TOLOWER
		(matchWhich): TOLOWER, TOUPPER

2002-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* mimehead.c (decodeWord): don't use toupper() (requires ctype.h)

2002-12-22  ABE Yuji <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03594] mime decode with encoding named 'b' & 'q'
	* mimehead.c (decodeWord): toupeer(method)

2002-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* file.c (discardline): not used

2002-12-22  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03593] Re: segmentation fault when <title> exist after <img>
	* file.c (cur_title): added
		(save_obuf): deleted
		(process_title): added
		(process_n_title): added
		(feed_title): added
		(HTMLtagproc1): rewrite HTML_TITLE, HTML_N_TITLE, 
				HTML_TITLE_ALT, HTML_N_HEAD, HTML_HEAD
		(HTMLlineproc0): check RB_TITLE
		(completeHTMLstream): add RB_TITLE
		(loadHTMLstream): initialize cur_title

2002-12-21  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03590] segmentation fault when <title> exist after <img>
	* file.c (save_line): deleted
		(save_prevchar): deleted
		(save_obuf): added
		(HTMLtagproc1): bcopy save_obuf

2002-12-20  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03588] include time.h in ftp.c
	* ftp.c: include <time.h>

2002-12-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03583] w3mman
	* scripts/w3mman/README: W3MMAN_W3M, W3MMAN_MAN
	* scripts/w3mman/w3mman.1.in: add ENVIRONMENT
	* scripts/w3mman/w3mman.in: $ENV{'W3MMAN_W3M'}, $ENV{'W3MMAN_MAN'}
	* scripts/w3mman/w3mman2html.cgi.in: $ENV{'W3MMAN_MAN'}
					hyphenation

2002-12-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03582] add config options graphic_char and use_proxy
	* NEWS: rc: graphic_char, use_proxy
	* fm.h (Do_no_use_proxy): macro using use_proxy
		(use_proxy): added
		(no_graphic_char): deleted
		(UseGraphicChar): added
	* main.c (main): UseGraphicChar, use_proxy
	* rc.c (CMT_GRAPHIC_CHAR): added
		(CMT_USE_PROXY): added
		(params1): graphic_char
		(params4): use_proxy
	* terms.c (graph_ok): UseGraphicChar

2002-12-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03581] MARK_URL, MARK_WORD
	* main.c (chkWORD): accept ()[]{}&|;*?$ as anchor

2002-12-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03580] Re: clean up displayBuffer()
	* main.c (main): force redraw

2002-12-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03579] Re: clean up displayBuffer()
	* display.c (displayBuffer): re calcTabPos() when force or image redraw
	* main.c (_mark): force redraw
		(reinit): redraw image
	* search.c (backwardSearch): found_last

2002-12-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03584] Re: meta refresh
	* main.c (DefaultAlarm): fix initialize value

2002-12-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03578] meta refresh
	* file.c (getMetaRefreshParam): do nothing if refresh_interval < 0
		(HTMLtagproc1): rewrite refresh
		(HTMLlineproc2body): add HTML_META
	* fm.h (BP_RELOAD): deleted
		(Buffer): add event
		(AL_IMPLICIT_DONE): deleted
		(AL_ONCE): deleted
		(AL_RESTORE): deleted
		(AlarmEvent): added
	* main.c (AlarmEvent): deleted
		(PrevAlarm): deleted
		(DefaultAlarm): added
		(CurrentAlarm): point to DefaultAlarm
		(main): CurrentKeyData, CurrentCmdData
			handle Currentbuf->event
		(SigAlarm): CurrentAlarm is pointer
		(copyAlarmEvent): deleted
		(setAlarm): setAlarmEvent pass &DefaultAlarm
		(setAlarmEvent): arg event
		(ldDL): no BP_RELOAD
	* proto.h (setAlarmEvent): arg event

2002-12-18  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03577] incorrect table width
	* table.c (dv2sv): fix move direction
		(set_integered_width): ditto
		(check_table_height): ditto
		(feed_table_tag): ditto

2002-12-17  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03576] Re: news support
	* anchor.c (_put_anchor_news): convert to document code and quote
		(_put_anchor_all): convert to document code
	* main.c (chkNMIDBuffer): change url_like_pat

2002-12-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: rc: preserve_timestamp

2002-12-15  Takahashi Youichirou <nikuq@hk.airnet.ne.jp>

	* [w3m-dev 03574] Re: preserve timestamp
	* ftp.c (getFtpModtime): don't call localtime,gettime in same expr

2002-12-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03573] Re: Bug#172851: w3m: In form, takes hostname as baseref for relative URI action
	* url.c (parseURL): if empty is URL, base URL is used

2002-12-15  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03571] base=0 -> 10 in toNumber()
	* parsetagx.c (toNumber): strtol base=10

2002-12-15  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03570] meta tag in frame
	* frame.c (createFrameFile): fix meta equiv parse in frame

2002-12-15  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03569] Re: preserve timestamp
	* file.c (loadGeneralFile): PresetveTimestamp
		(_doFileCopy): is_pipe, PreserveTimestamp
		(doFileSave): PreserveTImestamp
	* fm.h (PreserveTimestamp): added
	* rc.c (CMT_PRESERVE_TIMESTAMP): added
		(params3): add preserve_timestamp

2002-12-15  Takahashi Youichirou <nikuq@hk.airnet.ne.jp>

	* [w3m-dev 03568] Re: preserve timestamp
	* etc.c (USE_COOKIE): moved
	* file.c (utime.h): include
		(setModtime): added
		(loadGeneralFile): set f.modtime
		(_doFileCopy): setModtime()
		(doFileSave): setModtime()
	* ftp.c (getFtpModtime): added
		(openFTP): pass URLFile, set modtime
	* html.h (URLFile): add modtime
	* proto.h (openFTP): arg URLFile *uf
		(mymktime): always
	* url.c (init_stream): initialize modtime
		(openFTPStream): pass URLFile 
		(openURL): openFTPStream
	
2002-12-13  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03567] default keybinding
	* doc-jp/keymap.default (C-q,C-t,(,),+,-,D,L,T,m,r,{,|,},
				M-c,M-k,M-l,M-m,M-o,M-t): assign
	* doc/keymap.default: ditto
	* keybind.c: ditto
	* doc-jp/keymap.lynx (C-q,C-t,C-u,(,),,,.,;,D,L,T,W,[,],
				m,r,w,{,|,},M-<,M->,M-W,M-c,M-g,
				M-k,M-l,M-m,M-n,M-o,M-p,M-t,M-w): assign
	* doc/keymap.lynx: ditto
	* keybind_lynx.c: ditto
	* doc-jp/menu.default (Main): Select,SelectTab,TAB_LINK
	* doc/menu.default: ditto

2002-12-13  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03566] configure prefix
	* configure: add X prefix for expr args

2002-12-13  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03564] clean up displayBuffer()
	* display.c (delayed_msg): static
		(drawAnchorCursor): static
		(redrawBuffer): define
		(redrawNLine): static
		(redrawLine): static
		(redrawLineRegion): static
		(do_effects): static
		(do_color): static
		(make_lastline_link): added
		(make_lastline_message): added
		(displayBuffer): rewrite with make_lastline_message()
		(drawAnchorCursor0): added
		(drawAnchorCursor): added
	* main.c (main): remove onA()
		(keyPressEventProc): remove onA()
		(disp_srchresult): static
			disp_message TRUE
		(isrch): remove onA()
		(srch): displayBuffer
			remove onA()
		(srch_nxtprv): remove onA()
		(pipeBuf): disp_message TRUE
		(pipesh): disp_message TRUE
		(readsh): disp_message TRUE
		(_mark): dispBuffer
		(_followForm): break, always dispBuffer
		(drawAnchorCursor0): deleted
		(drawAnchorCursor): deleted
		(onA): deleted
		(anchorMn): delete onA()
		(svBuf): displayBuffer B_NORMAL
		(reload): disp_err_message TRUE
			displayBuffer
		(rFrame): displayBuffer
		(invoke_browser): displayBuffer
		(extbrz): disp_err_message TRUE
		(process_mouse): onA -> displayBuffer
		(movMs): delete onA()
		(menuMs): onA -> displayBuffer
		(closeTMs): disp_message TRUE
		(wrapToggle): disp_message TRUE
		(execdict): disp_message TRUE
		(SigAlarm): displayBuffer, delete onA
		(reinit): displayBuffer
	* map.c (getCurrentMapLabel): deleted
		(retrieveCurrentMapArea): added
	* proto.h (redrawBuffer): deleted
		(redrawNLine): deleted
		(redrawLine): deleted
		(redrawLineRegion): deleted
		(do_effects): deleted
		(do_color): deleted
		(message_list): deleted
		(getCurrentMapLabel): deleted
		(retrieveCurrentMapArea): added

2002-12-13  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03563] Directory Traversal Vulnerabilities in FTP Clients
	* file.c (guess_save_name): pass guess_filename

2002-12-13  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03562] #undef BUFINFO
	* config.h.dist (BUFINFO): undef
	* configure (use_bufinfo): n
	* main.c (saveBufferInfo): ifdef USE_BUFINFO
	* proto.h (reloadBuffer): if 0
		(saveBufferInfo): ifdef USE_BUFINFO

2002-12-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03559] Re: use select instead of signal for loading images
	* fm.h (Buffer): add image_loaded
	* image.c (W3M_SIGIMG): deleted
		(image_lock): deleted
		(need_load_image): deleted
		(load_image_handler): deleted
		(load_image_next): deleted
		(getAllImage): check image_loaded
		(loadImage): delete image_lock
			delete IMG_FLAG_NEXT
	* main.c (main): check image_loaded
	* proto.h (sleep_till_anykey): return int
	* terms.c (sleep_till_anykey): return int

2002-12-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03558] long title is displayed over tab region
	* display.c (redrawNLine): check l < 0
				use addnstr

2002-12-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03554] Re: Undo/Redo
	* doc/README.func (REDO): added
			(UNDO): added
	* doc-jp/README.func (REDO): added
			(UNDO): added
	* scripts/w3mhelp.cgi.in: (Page/Cursor motion): add undoPos, redoPos

2002-12-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: func: REDO, UNDO

2002-12-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03553] Undo/Redo
	* fm.h (Buffer): add undo
		(BufferPos): added
	* funcname.tab (REDO): added
			(UNDO): added
	* main.c (save_buffer_position): added
		(main): save_buffer_position
		(resetPos): added
		(undoPos): added
		(redoPos): added
	* proto.h (undoPos): added
		(redoPos): added

2002-12-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03552] Re: link list
	* menu.c (accesskey_menu): check hseq
		(list_menu): check hseq

2002-12-11  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03551] Re: External URI loader
	* file.c (loadGeneralFile): fix SCM_UNKNONWN

2002-12-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: func: LIST, LIST_MENU, MOVE_LIST_MENU

2002-12-10  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03549] link list
	* anchor.c (addMultirowsImg): add a->slave
		(getAnchorText): arg AnchorList *al
		(link_list_panel): added
	* funcname.tab (LIST): added
		(LIST_MENU): added
		(MOVE_LIST_MENU): added
	* main.c (anchorMn): added
		(accessKey): use anchorMn()
		(listMn): added
		(movlistMn): added
		(linkLst): added
	* map.c (searchMapList): not static
	* menu.c (accesskey_menu): pass AnchorList to getAnchorText()
		(lmKeys): added
		(lmKeys2): added
		(nlmKeys): added
		(nlmKeys2): added
		(lmGoto): added
		(lmSelect): added
		(list_menu): added
	* proto.h (linkLst): added
		(listMn): added
		(movlistMn): added
		(list_menu): added
		(searchMapList): added
		(getAnchorText): arg AnchorList *al
		(link_list_panel): added
	* doc/README.func (LIST): added
		(LIST_MENU): added
		(MOVE_LIST_MENU): added
	* doc-jp/README.func (LINK_MENU): fix message
		(LIST): added
		(LIST_MENU): added
		(MOVE_LIST_MENU): added
	* scripts/w3mhelp.cgi.in (Page/Cursor motion): add movlistMn
		(Hyperlink operation): add linkLst linkMn

2002-12-10  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03548] close anchor before <img align=...>
	* file.c (process_img): use div_int
		(process_hr): use div_int
		(process_idattr): don't close_anchor
		(CLOSE_A): added
		(HTMLtagproc1): </p> close anchor
		  <dl>,<ul>,<ol>,<blockquote>,<li>,<dt>,<dd> close anchor
		  <noframes> close anchor
		  <pre> close anchor
		  <center> close anchor
		  <div> close anchor
		  add DIV_INT
		  <form> close anchor
	* html.c (TagMAP): add div_int
	* html.h (HTML_DIV_INT): added
		(HTML_N_DIV_INT): added
	* tagtable.tab (div_int): added
			(/div_int): added

2002-12-10  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03544] Can't display "1&2" in table
	* file.c (HTMLlineproc0): continue -> R_ST_NORMAL

2002-12-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* file.c (loadGeneralFile): missing `{', fix indent for SCM_UNKNOWN
	* main.c (set_buffer_environ): unused variables `prev_col'

2002-12-10  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03543] External URI loader (Debian closes: Bug#169962)
	* file.c (loadGeneralFile): rewrite SCM_UNKNOWN

2002-12-10  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03542] news support
	* file.c (loadGeneralFile): NNTP as well as NEWS
	* indep.c (url_unquote_char): check % hex hex
		(url_unquote): unquote except \0, \n, \r

2002-12-10  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03541] Re: W3M_LINE_NO / W3M_CURRENT_COLUMN
	* main.c (goLine): check searchKeyData()
		(set_buffer_environ): W3M_CURRENT_*

2002-12-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03536] <del>, <s>
	* file.c (HTMLtagproc1): <s>..</s> is [S:...:S]
		(HTMLtagproc0): <del> will delete <table>
	* fm.h (RB_S): added
	* html.c (TagMAP): <s>,</s>
			move <internal>, </internal>
	* html.h (HTML_S): added
		(HTML_N_S): added
		(HTML_INTERNAL): renumed
		(HTML_N_INTERNAL): ditto
		(MAX_HTMLTAG): add 2
	* rc.c (CMT_DISP_INS_DEL): update
	* table.c (feed_table_tag): add HTML_S, HTML_N_S
	* table.h (TBLM_S): added
		(TBLM_ANCHOR): renum
	* tagtable.tab: (strike, s): HTML_S
		(/strike, /s): HTML_N_S

2002-12-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03535] close anchor, quote <
	* file.c (HTMLtagproc1): close_anchor
	* frame.c (createFrameFile): quote <

2002-12-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03534] cleanup file.c
	* file.c (HTMLlineproc2body): cleanup

2002-12-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: w3m/0.3.2.2+cvs
	* NEWS: 0.3.2.2

2002-12-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* security fix
	* file.c (process_img): html_quote()

2002-12-06  Takahashi Youichirou <nikuq@hk.airnet.ne.jp>

	* [w3m-dev 03530] save history
	* history.c (saveHistory): save tmpfile and rename

2002-12-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: func: ACCESSKEY, LINK_MENU

2002-12-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03529] Support of title, accesskey of anchor
	* anchor.c (putAnchor): arg title, key 
				initialize slave
		(registerHref): arg title, key
		(registerName): title = NULL, key = '\0'
		(registerForm): title = NULL, key = '\0'
		(_put_anchor_news): title = NULL, key = '\0'
		(_put_anchor_all): title = NULL, key = '\0'
		(addMultirowsImg): register title, accesskey
		(addMultirowsForm): title = NULL, key = '\0'
		(getAnchorText): added
	* display.c (displayBuffer): show title if any
	* file.c (set_breakpoint): use bcopy
		(back_to_breakpoint): use bcopy
		(flushline): s/anchor/anchor.url/
			     s/anchor_hseq/anchor.hseq/
			     s/anchor_target/anchor.target/
			     add anchor.*
		(close_effect0): s/anchor/anchor.url/
				s/anchor_hseq/anchor.hseq/
		(close_anchor): use bzero
		(process_img): ATTR_TITLE, 
		(HTMLtagproc1): s/anchor/anchor.url/
				target, referer, title, accesskey, hseq
		(HTMLlineproc2body): ATTR_TITLE, ATTR_ACCESSKEY
		(init_henv): use bzero
	* fm.h (Anchor): add title, accesskey, slave
		(Breakpoint): use Anchor
		(struct readbuffer): use Anchor
	* funcname.tab (ACCESSKEY): added
		(LINK_MENU): added
	* html.c (ALST_A): add ATTR_TITLE, ATTR_ACCESSKEY
		(ALST_IMG): add ATTR_TITLE
		(ALST_IMG_ALT): add ATTR_TITLE
		(AttrMAP): add accesskey, renum
	* html.h (ATTR_ACCESSKEY): added
		(ATTR_*): renum 50->60
	* main.c (linkMn): added
		(accessKey): added
	* menu.c (LinkMenu): deleted
		(LinkV): deleted
		(initLinkMenu): deleted
		(lmGoURL): deleted
		(popupMenu): delete initLinkMenu()
		(initMenu): delete Link
		(link_menu): added
		(accesskey_menu): added
	* proto.h (linkMn): added
		(link_menu): added
		(accessKey): added
		(accesskey_menu): added
		(putAnchor): arg title, key
		(registerHref): arg title, key
		(registerImg): arg title
		(getAnchorText): added
	* doc/README.func (ACCESSKEY): added
			(LINK_MENU): added
	* doc-jp/README.func (ACCESSKEY): added
			(LINK_MENU): added
	* scripts/w3mhelp.cgi.in (Hyperlink operation): add linkMn accessKey

2002-12-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03528] area without alt
	* map.c (getCurrentMapLabel): when a->alt is empty 

2002-12-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03527] fix frame.c
	* frame.c (createFrameFile): move need_reconstruct

2002-12-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03526] Re: fix doc*/README.func, w3mhelp.cgi.in
	* scripts/w3mhelp.cgi.in: (load_keymap): 
			always upcase ESC,SPC,TAB,DEL,UP,DOWN,RIGHT,LEFT

2002-12-05  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03525] Re: sync option
	* func.c (initKeymap): delete check force, keymap_initialized

2002-12-05  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03524] fix doc*/README.func, w3mhelp.cgi.in
	* doc/README.func (REINIT): added
	* doc-jp/README.func (REINIT): added
	* scripts/w3mhelp.cgi.in (Page/Cursor motion): 
				add moveR1 movL1 movD1 movU1 ldown1 lup1
		(File/Stream operation): add pipeBuf
		(Miscellany): add dispVer execCmd reinit
		(load_keymap): rewrite
		(norm_key): rewrite
	
2002-12-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: rc: display_ins_del

2002-12-05  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03523] Re: del/ins
	* file.c (HTMLtagproc1): check displayInsDel, RB_DEL
	* fm.h (RB_DEL): added
		(displayInsDel): added
	* rc.c (CMT_DISP_INS_DEL): added
		(display_ins_del): added
	* table.c (feed_table_tag): check displayInsDel, TBLM_DEL
	* table.h (TBLM_DEL): added
		(TBLM_ANCHOR): renum
		(struct table_mode): unsigned int pre_mode

2002-12-05  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03522] newline around <pre>..</pre>
	* file.c (HTMLtagproc1): break before <pre>/after </pre> if necessary

2002-12-05  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03521] sync option
	* display.c (redrawNLine): calcTabPos()
	* func.c (initKeymap): return if keymap_initialized
	* main.c (calcTabPos): no more static
		(main): move sync_with_option, initCookie, setLocalCookie
			move backend
			move initKeymap, initMouseAction, initMenu
			remove calcTabPos
			add displayBuffer
		(numTab): static
		(deleteTab): delete calcTabPos
		(moveTab): delete calcTabPos
	* proto.h (calcTabPos): added
		
2002-12-05  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev-en 00841] Re: w3m segfaults if the terminal is not writable
	* terms.c (reset_tty): don't close stderr

2002-12-04  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03516] Re: 2 stroke keybinding
	* func.c (keymap_initialized): initialized to FALSE
		(setKeymap): push KeyData

2002-12-04  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: 2 stroke keybinding
		func: MULTIMAP

2002-12-04  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03515] 2 stroke keybinding
	* func.c (setKeymap): add map
				K_MULTI support
		(getKey2): added
		(getKey): rewrite to use getKey2()
	* func.h (K_MULTI): added
		(MULTI_KEY): added
	* funcname.tab (MULTIMAP): added
	* main.c (escKeyProc): added
		(escmap): rewrite to use escKeyProc()
		(escbmap): rewrite to use escKeyProc()
		(escdmap): rewrite to use escKeyProc()
		(multimap): added
	* proto.h (multimap): added

2002-12-04  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03514] Effect of tab title
	* display.c (redrawNLine): rewrite, do without clrtoeolx()

2002-12-04  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03512] Re: HTML parser
	* table.c (feed_table_tag): HTML_N_SELECT, HTML_N_CAPTION

2002-12-04  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03510] waiting time when cookie was rejected.
	* file.c (readHeader): display cookie warnings for only 1 sec 

2002-12-04  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03509] HTML parser
	* file.c (close_textarea): delete
		(HTMLtagproc1): rewrite 
				delete HTML_EOL
				move HTML_LISTING, HTML_N_LISTING
				add HTML_PRE_PLAIN, HTML_N_PRE_PLAIN
				add HTML_PLAINTEXT
				end_tag
		(HTMLlineproc0): s/str/line/
				rewrite
		(completeHTMLstream): </textarea> if necessary
	* fm.h (struct readbuffer): delete ignore_tag
				add end_tag
		(RB_XMPMODE): deleted
		(RB_LSTMODE): deleted
		(RB_SCRIPT): added
		(RB_STYLE): added
		(RB_*): renumber
		(R_ST_EOL): added
		(R_ST_*): renumber
		(ST_IS_TAG): check R_ST_EOL
	* form.c (form_fputs_decode): remove <eol> handling
	* frame.c (newFrame): remove_space()
		(CASE_TABLE_TAG): added
		(createFrameFile): rewrite
	* html.c (TagMAP): delete eol
			add pre_plain, /pre_plain
	* html.h (HTML_EOL): deleted
		(HTML_PRE_PLAIN): added
		(HTML_N_PRE_PLAIN): added
	* table.c (visible_length): rewrite
		(visible_length_plain): added
		(maximum_visible_length_plain): added
		(do_refill): R_ST_EOL
		(table_close_select): end_tag
		(table_close_textarea): end_tag
		(TAG_ACTION_PLAIN): added
		(feed_table_tag): rewrite
		(feed_table): rewrite
	* table.h (TBLM_*) reassign
		(struct table_mode): delete ignore_tag
				add end_tag
	* tagtable.tab (eol): deleted
			(pre_plain): added
			(/pre_plain): added

2002-12-03  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03505] Re: coredump when ssl error
	* file.c (loadGeneralFile): term_raw(), SIGINT before retry

2002-12-03  AIDA Shinra <aida-s@jcom.home.ne.jp>

	* [w3m-dev 03504] coredump when ssl error
	* file.c (loadGeneralFile): term_raw, SIGINT

2002-12-03  Fumitoshi UKAI  <ukai@debian.or.jp>

	* remove ununsed variables
	* file.c (addLink): unused variable `t'
	* menu.c (lmGoURL): unused variable `pu'

2002-12-03  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03501] link tag support
	* buffer.c (reshapeBuffer): initialize formlist, linklist,
					maplist, hmarklist, imarklist
	* file.c (addLink): added
		(HTMLlineproc2body): add HTML_LINK
		(loadHTMLstream): use HTMLlineproc0 not in R_ST_NORMAL
		(reloadBuffer): initialize linklist, maplist, 
				hmarklist, imarklist
	* fm.h (LINK_TYPE_NONE): added
		(LINK_TYPE_REL): added
		(LINK_TYPE_REV): added
		(LinkList): added
		(Buffer): add linklist
	* html.c (ALST_LINK): added
		(TagMAP): add link
		(AtrMAP): add rel, rev, title
	* html.h (HTML_LINK): added
		(ATTR_REL): added
		(ATTR_REV): added
		(ATTR_TITLE): added
	* map.c (append_map_info): anchor
		(append_link_info): added
		(page_info_panel): append_link_info
	* menu.c (LinkMenu): added
		(linkV): added
		(initLinkMenu): added
		(lmGoURL): added
		(popupMenu): initLinkMenu()
		(initMenu): w3mMenuList new 4
				add "Link"
	* tagtable.tab (link): added

2002-11-29  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m bug] internal tag
	* display.c (loadHTMLstream): HTMLlineproc0 internal

2002-11-29  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03498] Re: parse <!-- ... --> in <script>
	* file.c (HTMLlineproc0): tag in textarea
	* frame.c (createFrameFile): fix comment processing in frame

2002-11-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03497] incorrect image size
	* image.c (getImageSize): invoke w3mimgdiplay -size instead of "5;..."
	* w3mimgdisplay.c (defined_size): added
			(main): if defined_size get_image_size()
			(GetOption): -size

2002-11-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03496] parse <!-- ... --> in <script>
	* etc.c (read_token): check <pre>
	* file.c (HTMLlineproc0): remove comment processing
			check pre mode
			comment processing move

2002-11-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03495] local CGI can't work
	* local.c: #include "hash.h"
		(set_environ): env string put in hash

2002-11-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03494] Number of line is few when pager mode.
	* display.c (redrawLine): buf->rootY

2002-11-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03493] scroll menu
	* menu.c (mLineU): added
		(mLineD): added
		(MenuKeymap): C-r, C-s, J, K
		(mouse_scroll_line): added
		(process_mMouse): drag
			BTN4, BTN5
	* doc-jp/README.menu: update

2002-11-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: w3m/0.3.2.1+cvs

2002-11-27  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03491] Re: case insensitive regexp search
	* regex.c (matchWhich): tolower

2002-11-27  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* use local_cookie for support local-cgi commands
	* file.c (loadGeneralFile): pass Local_cookie to DirBufferCommand
	* fm.h (Local_cookie): Str
	* local.c (setLocalCookie): Str, set_environ()
		(set_cgi_environ): remove LOCAL_COOKIE
	* main.c (ldhelp): pass Local_cookie
		(adBmark): ditto
	* rc.c (optionpanel_src1): cookie
		(load_option_panel): pass Local_cookie
	* w3mbookmark.c (main): check Local_cookie
	* w3mhelperpanel (main): ditto
	* scripts/dirlist.cgi.in: ditto
	* scripts/w3mhelp.cgi.in: ditto
	* scripts/multipart/multipart.cgi.in: ditto

2002-11-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* frame.c (createFrameFile): html_quote()

2002-11-27  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03488] meta refresh in frame
	* file.c (getMetaRefreshParam): added
		(HTMLtagproc1): use getMetaRefreshParam()
	* frame.c (createFrameFile): check meta refresh
	* proto.h (getMetaRefreshProgram): added

2002-11-27  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* w3m 0.3.2.1 security fix
	* frame.c (createFrameFile): html_quote()

2002-11-27  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03486] fix of displayLineInfo
	* display.c (displayBuffer): don't divide by 0

2002-11-26  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03485] fix mouse menu position
	* main.c (do_mouse_action): use anchor_map is no active_map
			check top left corner
		(FRAME_WIDTH): added
		(menuMs): adjust cursorX using FRAME_WIDTH

2002-11-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: func: CLOSE_TAB_MOUSE, MENU_MOUSE, MOVE_MOUSE, TAB_MOUSE

2002-11-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc/README.mouse_menu: deleted
	* doc/README.mouse: added
	* doc-jp/README.mouse_menu: deleted
	* doc-jp/README.mouse: added

2002-11-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* map.c (follow_map_menu): MapArea *a is used ifdef MENU_MAP
	* func.c (initMouseAction): remove unsed variables: x, width, map

2002-11-26  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03478] mouse action configuration
	* display.c (displayBuffer): mouse_menu -> mouse_action.menu_str
				mouse_action.lastline_str
			(redrawNLine): mouse_menu -> mouse_action.menu_str
	* fm.h (MouseMenuMap): deleted
		(MouseActionMap): added
		(MouseAction): added
		(mouse_action): added
	* func.c (default_mouse_action): added
		(setMouseAction0): added
		(setMouseAction1): added
		(setMouseAction2): added
		(initMouseMenu): deleted
		(initMouseAction): added
	* funcname.tab (CLOSE_TAB_MOUSE): added
		(MENU_MOUSE): added
		(MOVE_MOUSE): added
		(TAB_MOUSE): added
	* main.c (main): initMouseMenu() -> initMouseAction()
			mouse_menu -> mouse_action
		(posTab): mouse_menu -> mouse_action
			check y > LastTab->y
		(mouse_menu_action): deleted
		(do_mouse_action): added
		(process_mouse): mouse_menu -> mouse_action
			do_mouse_action()
		(movMs): added
		(menuMs): added
		(tabMs): added
		(closeTMs): added
		(reinit): initMouseMenu() -> initMouseAction()
			resource: MOUSE_MENU -> MOUSE
		(calcTabPos): mouse_menu -> mouse_action
	* menu.c (mainMn): mouse_menu -> mouse_action
		(selMn): mouse_menu -> mouse_action
		(tabMn): mouse_menu -> mouse_action
		(initMenu): add SelectTag to w3mMenuList
	* proto.h (movMs): added
		(menuMs): added
		(tabMs): added
		(closeTMs): added
		(initMouseMenu): deleted
		(initMouseAction): added
	* rc.c (sync_with_option): initMouseMenu() -> initMouseAction()
	* doc/README.func (CLOSE_TAB_MOUSE): added
		(MENU_MOUSE): added
		(MOVE_MOUSE): added
		(TAB_MOUSE): added
	* doc-jp/README.func (CLOSE_TAB_MOUSE): added
		(MENU_MOUSE): added
		(MOVE_MOUSE): added
		(TAB_MOUSE): added

2002-11-26  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03476] Re: Bug#170506: w3m: Unable to use mozilla bugzilla
	* file.c (HTMLtagproc1): initialize ignore_tag in table_mode
		(HTMLtagproc0): check table_level
	* table.c (feed_table_tag): set mode->ignore_tag
	* table.h (struct table_mode): add ignore_tag

2002-11-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03471] Re: SETPGRP()
	* configure: SETPGRP() always defined
	* proto.h (close_all_fds): added
		(myExec): #ifdef HAVE_SETPGRP
	* etc.c (close_all_fds): added
		(myExec): #ifdef HAVE_SETPGRP
		(mySystem): #ifndef -> #ifdef
	* file.c (_doFileCopy): delete #ifdef HAVE_SETPGRP
		(doFileSave): ditto
	* image.c (openImgdisplay): delete #ifdef HAVE_SETPGRP
				use close_all_fds()
	* search.c (open_migemo): ditto

2002-11-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03466] Re: background download when external viewer
	* file.c (doExternal): UFclose(&uf);

2002-11-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03464] Re: case insensitive regexp search
	  (rewrite [w3m-dev 03462] by Hiroyuki Ito <hito@crl.go.jp>)
	* regex.c (matchWhich): add int
		(newRegex0): igncase
		(regmatch1): matchWhich with re->mode & RE_IGNCASE
		(matchWhich): add igncase

2002-11-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03459] background download when external viewer
	* etc.c (myExec): added
		(mySystem): rewrite to use myExec()
	* file.c (doExternal): run background if BackgroundExtViewer
	* proto.h (myExec): added

2002-11-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc/README.mouse_menu: delete column 10 limit
	* doc-jp/README.mouse_menu: ditto

2002-11-23  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03458] Re: mouse menu
	* display.c (displayBuffer): nTab2 -> nTab, mouse_menu
	* fm.h (nTab2): deleted
		(MouseMenuMap): added
		(MouseMenu): added
		(LIMIT_MOUSE_MENU): added
	* func.c (initMouseMenu): delete mouse_menu_map initialization
			conv_from_system
			mouse_menu->width
	* main.c (main): mouse_menu->in_action = FALSE
		(posTab): check mouse_menu
		(mouse_menu_action): add y arg
			mouse_menu_width check
		(process_mouse): nTab2 -> nTab, mouse_menu
		(nTabLine): deleted
		(calcTabPos): check mouse_menu
	* menu.c (mainMn): x, y
		(selMn): mouse_menu check
		(tabMn): mosue_menu check
	* proto.h (nTabLine): deleted

2002-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: options: -N

2002-11-22  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03457] open URL of command line on each new tabs
	* main.c (delBuffer): static
		(fusage): -N
		(main): add open_new_tab for -N

2002-11-22  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03456] tiling of tab
	* display.c (displayBuffer): use LastTab->y
		(redrawNLine): fix column calculation
	* fm.h (TabBuffer): add x1, x2, y
	* main.c (calcTabPos): added
		(main): calcTabPos()
		(mouse_scroll_line): rewrite
		(process_mouse): use LastTab->y
		(_newT): calcTabPos()
		(calcTabPos): added
		(deleteTab): calcTabPos()
		(moveTab): calcTabPos()

2002-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc/README.mouse_menu: added
	* doc-jp/README.mouse_menu: added

2002-11-22  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03455] mouse menu
	* configure (config.h): MOUSE_FILE
	* display.c (displayBuffer): nTab -> nTab2, N_TAB -> nTabLine()
		(redrawNLine): nTab -> nTab2, N_TAB -> nTabLine()
				mouse_menu support
	* fm.h (nTab2): added
		(N_TAB): deleted
		(NO_TABBUFFER): added
		(struct _MouseMenu): added
		(mouse_menu_map): added
		(mouse_menu): added
	* func.c (initMouseMenu): added
	* main.c (main): initMouseMenu()
		(posTab): mouse_menu support
		(mouse_menu_action): added
		(process_mouse): mouse_menu support
		(reinit): initMouseMenu()
		(nTabLine): added
		(moveTab): check NO_TABBUFFER
	* proto.h (nTabLine): added
		(initMouseMenu): added
	* rc.c (sync_with_option): initMouseMenu()

2002-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: func: NEXT, PREV

2002-11-22  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03454] next / previous buffer
	* funcname.tab (NEXT): added
			(PREV): added
	* main.c (nextBf): added
		(prevBf): added
	* proto.h (nextBf): added
		(prevBf): added
	* doc/README.func (NEXT): added
			(PREV): added
	* doc-jp/README.func (NEXT): added
			(PREV): added
	* scripts/w3mhelp.cgi.in (Buffer operation): nextBf prevBf

2002-11-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: rc: image_map_list

2002-11-20  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03452] image map
	* display.c (displayBuffer): use getCurrentMapLabel()
	* fm.h (MapArea): delete ifdef MENU_MAP
		(image_map_list): added
	* main.c (followA): don't call retrieveCurrentImg() ifdef USE_IMAGE
		use retrieveCurrentMap() ifndef USE_IMAGE
		(_followForm): indent
		(drawAnchorCursor0): add AnchorList
		(drawAnchorCuror): pass AnchorList to drawAnchorCursor0
		(follow_map): follow_map_panel
	* map.c (searchMapList): added
		(nearestMapArea): n, min default value to -1
		(searchMapArea): added
		(getCurrentMapLabel): added
		(getMapXY): moved
		(retrieveCurrentMap): added
		(follow_map_menu): parsed_tagarg -> name
				rewrite to search map list/area
		(follow_map_panel): parsed_tagarg -> name
				rewrite to search map list/area
		(newMapArea): delete ifdef MENU_MAP
		(append_map_info): added
		(page_info_panel): append_map_info
	* proto.h (follow_map_menu): parsed_tagarg -> name
		(follow_map_panel): parsed_tagarg -> name
		(getCurrentMapLabel): added
		(retrieveCurrentMap): added
	* rc.c (CMT_IMAGE_MAP_LIST): added
		(image_map_list): added

2002-11-20  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03450] Re: cygwin console on Win9X
	* terms.c (mouse_init): ifdef __CYGWIN__
		(mouse_end): ditto

2002-11-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* ftp.c (ftp_fclose): void return 

2002-11-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>
	
	* [w3m-dev 03444] download from ftp.
	* file.c (FTPhalfclose: static
		(loadGeneralFile): UFclose
				FTPhalfclose for SCM_FTP
				UFclose before signal back
		(loadImageBuffer): UFclose before signal back
		(openGeneralPagerBuffer): UFclose
	* ftp.c (ftp_fclose): added
		(Ftpfclose): dont read response(), but ftp_fclose()
		(FtpBye): ftp_fclose()

2002-11-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03449] Add DOWNLOAD_LIST to doc*/README.func and scripts/w3mhelp.cgi.in
	* doc-jp/README.func (DOWNLOAD_LIST): added
	* doc/README.func (DOWNLOAD_LIST): added
	* scripts/w3mhelp.cgi.in (Miscellany): add ldDL

2002-11-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03448] Some fixes
	* url.c (KeyAbort): SIGNAL_RETURN
	* .cvsginore: delete w3mimgsize
	* scripts/.cvsignore: delete xface2xbm
	* scripts/xface2xbm.in: deleted

2002-11-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03447] Re: Open download list panel on new tab
	* main.c (download_action): buffer management deleted
		(ldDL): buffer management moved here

2002-11-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: rc: open_tab_dl_list

2002-11-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03446] Open download list panel on new tab
	* fm.h (open_tab_dl_list): added
	* main.c (download_action): buffer delete when download done
		(ldDL): open buf in new tab if open_tab_dl_list
	* rc.c (CMT_OPEN_TAB_DL_LIST): added
		(open_tab_dl_list): added

2002-11-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03445] download list for "w3m foo.tar.gz"
	* main.c (main): display download list

2002-11-19  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03443] Can't display "echo only_one_line | w3m"
	* display.c (redrawNLine): check 1st line

2002-11-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03442] Re: setting form on loading
	* form.c (preFormUpdateBuffer): ifdef MENU_SELECT

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03441] charset of save file
	* file.c (_doFileCopy): use conv_from_system()
		(doFileSave): conv_from_system()
	* main.c (DownloadListBuffer): conv_from_system()

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03440] Re: restore alarm event
	* fm.h (BP_RELOAD): added
		(DOWNLOAD_LIST_TITLE): added
	* main.c (main): if BP_RELOAD, do reload
		(reload): if buffer is DOWNLOAD_LIST, ldDL()
		(DownloadListBuffer): rewrite with DOWNLOAD_LIST_TITLE
		(download_action): delete "update"
				don't delete prev buffer
		(ldDL): rewrite to do reload

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03439] restore alarm event
	* fm.h (AL_RESTORE): added
	* main.c (alarm_sec): deleted
		(alarm_status): deleted
		(alarm_buffer): deleted
		(alarm_event): deleted
		(AlarmEvent): added
		(CurrentAlarm): added
		(PrevAlarm): added
		(main): rewrite with CurrentAlarm
		(SigAlarm): rewrite with CurrentAlarm
		(copyAlarmEvent): added
		(setAlarm): if AL_RESTORE, copy back from PrevAlarm
			rewrite with CurrentAlarm

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03438] Re: segmentation fault by large complex table.
	* table.c (check_table_height): check MAXROWCELL
	* table.h (MAXROWCELL): added

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03437] Re: Check image size
	* fm.h (MAX_IMAGE_SIZE): changed to 2048

2002-11-16  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03436] Check image size
	* file.c (process_img): check w > MAX_IMAGE_SIZE
		(HTMLlineproc2body): check w,h > MAX_IMAGE_SIZE
	* fm.h (MAX_IMAGE_SIZE): added
	* image.c (getImageSize): check w,h,width,height > MAX_IMAGE_SIZE

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03435] save image with SAVE
	* buffer.c (discardBuffer): check image
	* file.c (loadImageBuffer): add st
			IMG_FLAG_DONE_REMOVE
			s/sourcefile/mailcap_source/
	* fm.h (IMG_FLAG_DONT_REMOVE): added
	* image.c (drawImage): & IMG_FLAG_LOADED
		(deleteImage): & IMG_FLAG_DONT_REMOVE
		(showImageProgress): & IMG_FLAG_LOADED
		(getImage): & IMG_FLAG_LOADED
		(getImageSize): & IMG_FLAG_LOADED
	* main.c (vmSrc): delete ifdef USE_IMAGE

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03434] Re: cygwin console on Win9X
	* terms.c (cygwin_mouse_btn_swapped): ifdef USE_MOUSE
		(lastConMouse): deleted
		(check_win9x): static
		(read_win32_console): static
		(GetConsoleHwnd): static
		(cygwin_version): ifdef USE_MOUSE, static
		(check_cygwin_console): static
		(NEED_XTERM_ON): added
		(NEED_XTERM_OFF): added
		(NEED_CYGWIN_ON): added
		(NEED_CYGWIN_OFF): added
		(XTERM_TITLE): static char[]
		(SCREEN_TITLE): static char[]
		(CYGWIN_TITLE): static char[]
		(term_title): check title_str
	* terms.h (LASTLINE): added
		(is_xterm): deleted
		(enable_win9x_console_input): extern
		(disable_win9x_console_input): extern
		(NEED_XTERM_ON): deleted
		(NEED_XTERM_OFF): deleted

2002-11-16  WATANABE Katsuyuki <katsuyuki_1.watanabe@toppan.co.jp>

	* [w3m-dev 03433] cygwin console on Win9X
	* configure (config.h): SUPPORT_WIN9X_CONSOLE_MBCS
	* linein.c (inputLineHistSearch): enable_win9x_console_input()
					disable_win9x_console_input()
	* main.c (mouse): cygin_mouse_btn_swapped
	* terms.c (is_xterm): static
		(isLocalConsole): added
		(cygwin_mouse_btn_swapped): added
		(check_win32_console): deleted
		(check_win9x): added
		(init_win32_console_handle): check ttyslot()
		(enable_win9x_console_input): added
		(disable_win9x_console_input): added
		(read_win32_console_input): delete ifdef MOUSE
		(cmp_tv): deleted
		(subtract_tv): deleted
		(GetConsoleHwnd): added
		(cygwin_version): added
		(select_or_poll_win32_console): deleted
		(check_cygwin_console): added
		(select_win32_console): deleted
		(set_tty): check_cygin_console()
		(term_title): SetConsoleTitle()
		(CYGWIN_ON): added
		(CYGIN_OFF): added
		(mouse_init): NEED_CYGWIN_ON
		(mouse_end): NEED_CYGWIN_OFF
	* terms.h (cygwin_mouse_btn_swapped): added
		(enable_win9x_console_input): added
		(disable_win9x_console_input): added
		(NEED_CYGWIN_ON): added
		(NEED_CYGWIN_OFF): added

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03432] Re: tab browser
	* display.c (displayBuffer): s/buf->LINES/LASTLINES/ in cygwin

2002-11-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: func: DOWNLOAD_LIST

2002-11-16  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03431] save file by background process
	* file.c (loadGeneralFile): use _doFileCopy()
		(_doFileCopy): renamed from doFileCopy()
				lock
				fork & save
		(doFileSave): lock
				fork & save
	* fm.h (DownloadList): added
		(FirstDL): added
		(LastDL): added
	* form.c (struct internal_action): add download
	* funcname.tab (DOWNLOAD_LIST): added
	* html.h (URLFile): add url
	* main.c (dump_extra): add add_download_list
		(main): add_download_list, ldDL()
		(_quitfm): added
		(quitfm): rewrite with _quitfm()
		(qquitfm): ditto
		(w3m_exit): stopDownload()
		(addDownloadList): added
		(checkDownloadList): added
		(convert_size3): added
		(DownloadListBuffer): added
		(download_action): added
		(stopDownload): added
		(ldDL): added
	* proto.h (ldDL): added
		(convert_size): added
		(convert_size2): added
		(doFileCopy): deleted
		(_doFileCopy): added
		(addDownloadList): added
		(stopDownload): added
		(checkDownloadList): added
		(download_action): added
	* url.c (openURL): save url in uf

2002-11-15  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03430] disable display of alarm command
	* main.c (SigAlarm): remove display_message_nsec()
		(setAlarm): show sec

2002-11-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: env,rc: https_proxy

2002-11-15  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03429] https proxy
	* fm.h (HTTPS_proxy): added
		(HTTPS_proxy_parsed): added
	* main.c (main): check https_proxy
	* rc.c (CMT_HTTPS_PROXY): added
		(https_proxy): added
		(parse_proxy): HTTPS_proxy
	* url.c (openURL): for HTTPS, use HTTPS_proxy
		(schemeToProxy): HTTPS_proxy_parsed

2002-11-14  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03428] install manual as w3m.exe.1 on Cygwin
	* XMakefile (MAN1_TARGET): added
		(HELP_TARGET): added
		(install): use MAN1_TARGET, HELP_TARGET
		(uninstall): use MAN1_TARGET, uninstall HELP_TARGET

2002-11-14  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03427] Re: Select the nearest map area as default.
	* map.c (newMapArea): accept sign chars
			if points is not enough, return as SHAPE_UNKNOWN

2002-11-14  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03425] charset of title
	* display.c (displayBuffer): buffername converted to system coding
					for term title

2002-11-14  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03424] Content length
	* file.c (loadGeneralFile): current_content_length before do_download
		(save2tmp): current_content_length move before return

2002-11-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03422] Re: setting form on loading
	* form.c (loadPreForm): initialize name
			check textarea, name for /textarea

2002-11-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03418] Re: tab browser
	* display.c (redrawNLine): s/clrtoeol/clrtoeolx/
				move rootY

2002-11-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03417] install_w3mimgdisplay
	* configure: define install_w3mimgdisplay 
			after use_w3mimg_fb determined

2002-11-12  Akira TAGOH <at@gclab.org>

	* [w3m-dev 03415] fix a build issue for 64bit arch
	* gcmain.c: deleted
	* main.c: no need gcmain.c
		s/MAIN/main/
	* mktable.c: ditto
	* w3mbookmark.c: ditto
	* w3mhelperpanel.c: ditto

2002-11-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc/w3m.1: update
	* doc-jp/w3m.1: update
	* NEWS: update: -show-option

2002-11-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03414] Re: show parameter
	* main.c (fusage): add -show-option
		(MAIN): check -show-option

2002-11-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03413] Re: setting form on loading
	* form.c (loadPreForm): add textarea
		(preFormUpdateBuffer): submit if value is matched as well
				case FORM_TEXTAREA
				case FORM_SELECT ifdef MENU_SELECT

2002-11-12  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03411] do AUXBIN_TARGETS
	* scripts/Makefile (all): add AUXBIN_TARGETS
			(clean): add AUXBIN_TARGETS

2002-11-12  AIDA Shinra <aida-s@jcom.home.ne.jp>

	* [w3m-dev 03408] edit From in w3mail.cgi 
	* scripts/w3mmail.cgi.in: edit from as well

2002-11-12  AIDA Shinra <aida-s@jcom.home.ne.jp>

	* [w3m-dev 03408] fix Bug#87472
	    MOUSE_SCROLL_LINE should be a run-time option
	* fm.h (relative_wheel_scroll): added
		(fixed_wheel_scroll_count): added
		(relative_wheel_scroll_ratio): added
	* main.c (mouse_scroll_line): added
		(process_mouse): s/MOUSE_SCROLL_LINE/mouse_scroll_line()/
	* menu.c (MOUSE_SCROLL_LINE): deleted
	* terms.h (MOUSE_SCROLL_LINE): deleted
	* rc.c (CMT_RELATIVE_WHEEL_SCROLL): added
		(CMT_RELATIVE_WHEEL_SCROLL_RATIO): added
		(CMT_FIXED_WHEEL_SCROLL_COUNT): added
		(wheelmode): added
		(params3): add relative_wheel_scroll,
				relative_wheel_scroll_ratio,
				fixed_wheel_scroll_count
	* NEWS: updated

2002-11-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03407] char GlobalKeymap -> unsigned char GlobalKeymap
	* fm.h (GlobalKeymap): char->unsigned char
		(EscKeymap): ditto
		(EscBKeymap): ditto
		(EscDKeymap): ditto
		(PcKeymap): ditto
	* keybind.c: ditto
	* keybind_lynx.c: ditto

2002-11-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03406]
	* scripts/Makefile: add AUXBIN_DIR
			update LIB_DIR, HELP_DIR
			xface2xpm installed in AUXBIN_DIR
	* scripts/multipart/Makefile: update LIB_DIR
	* scripts/w3mman/Makefile: update LIB_DIR

2002-11-12  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03405] Re: tab browser
	* main.c (moveTab): B_FORCE_REDRAW

2002-11-10  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03401] w3mhelp.cgi
	* proto.h (tabMn): nulcmd ifndef USE_MENU
	* scripts/w3mhelp-funcdesc.en.pl.in: add LINEEDIT:EDITOR
	* scripts/w3mhelp-funcdesc.ja.pl.in: add LINEEDIT:EDITOR
					Tab operation
	* scripts/w3mhelp-funcname.pl.in: add LINEEDIT:EDITOR C-o
	* scripts/w3mhelp.cgi.in: add tabA in Hyperlink operation
				add tabURL, tabrURL in File/Stream operation
				add Tab operation
				add lineedit_editor in Line edit mode
	
2002-11-10  NOMIYA Masaru <nomiya@ttmy.ne.jp>

	* [w3m-dev 03399]
	* XMakefile: ;; -> ;

2002-11-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03398] auxbindir
	* XMakefile: EXT_TARGETS -> LIB_TARGETS, AUXBIN_TARGETS
	* config.h.dist: add AUXBIN_DIR
			LIB_DIR is cgi-bin
	* configure: add -auxbindir
			add AUXBIN_DIR
			LIB_DIR is cgi-bin
			EXT_TARGETS -> LIB_TARGETS, AUXBIN_TARGETS
	* file.c (compression_decoder): libfile_p -> auxbin_p
		(check_command): libfile_p -> auxbin_p
				use w3m_auxbin_dir() instead of w3m_lib_dir()
		(acceptableEncoding): libfile_p -> auxbin_p
		(xface2xpm): use auxbinFile() instead of libFile()
		(uncompress_stream): libfile_p -> auxbin_p
				use auxbinFile() instead of libFile()
	* image.c (getCharSize): use w3m_auxbin_dir() instead of w3m_lib_dir()
		(openImgdisplay): use w3m_auxbin_dir() instead of w3m_lib_dir()
	* indep.c (w3m_auxbin_dir): added
	* indep.h (w3m_auxbin_dir): added
	* proto.h (auxbinFile): added
	* rc.c (auxbinFile): added
		(libFile): #if 0, no longer used
		(helpFile): used only #ifndef USE_HELP_CGI
	* NEWS: separate auxbindir and libdir (local-CGI, file:///$LIB/)

2002-11-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03396] Re: meta refresh problem
	* main.c (MAIN): AL_IMPLICIT -> alarm_status
		(SigAlarm): AL_IMPLICIT -> alarm_status

2002-11-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03391] use editor when input at last line
	* linein.c (_editor): added

2002-11-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03390] some fixes related with form
	* form.c (input_textarea): goto input_end
			unlink(tmpf);
	* main.c (_followForm): s/TEXT/Password/

2002-11-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03388] meta refresh problem
	* fm.h (AL_IMPLICIT_DONE): 3->4
		(AL_ONCE): 8
		(AL_IMPLICIT_ONCE): (AL_IMPLICIT|AL_ONCE)
	* main.c (MAIN): & AL_IMPLICIT, & AL_IMPLICIT_DONE
		(SigAlarm): & AL_IMPLICIT, & AL_IMPLICIT_DONE, & AL_ONCE
		(setAlaramEvent): & AL_IMPLICIT

2002-11-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03387] Re: tab browser
	* buffer.c (newBuffer): buf->LINES initialize
		(gotoLine): use buf->LINES
		(gotoRealLine): use buf->LINES
	* display.c (displayBuffer): check by buf->LINES
		(redrawNLine): buf->LINES
		(redrawLine): buf->LINES
		(redrawLineImage): no need buf->rootY
		(cursorDown): buf->LINES
		(arrangeCursor): buf->LINES
	* etc.c (columnSkip): buf->LINES
		(lineSkip): buf->LINES
		(currentLineSkip): buf->LINES
	* fm.h (Buffer): add LINES
	* main.c (nscroll): Currentbuf->LINES
		(pgFore): Currentbuf->LINES
		(pgBack): Currentbuf->LINES
		(ctrCsrV): Currentbuf->LINES
		(movD): Currentbuf->LINES
		(movU): Currentbuf->LINES
		(_goLine): Currentbuf->LINES
		(drawAnchorCursor): Currentbuf->LINES
		(setOpt): B_REDRAW_IMAGE
		(newT): B_REDRAW_IMAGE
		(closeT): B_REDRAW_IMAGE
		(nextT): B_REDRAW_IMAGE
		(prevT): B_REDRAW_IMAGE
		(moveTab): B_NORMAL

2002-11-09  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03386] Re: Interrupt in no_proxy_check()
	* file.c (getAuthCookie): term_cbreak()
		(loadGeneralFile): term_cbreak()
				term_raw()
				preFormUpdateBuffer() before term_raw()
		(loadHTMLstream): term_raw()

2002-11-07  Katsumi@yamaoka.cc

	* [w3m-dev 03385] install-sh typo
	* install-sh: s/'/"/

2002-11-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03383] Select the nearest map area as default.
	* fm.h (MapArea): add center_x, center_y
	* map.c (nearestMapArea): added
		(follow_map_menu): initial by nearestMapArea()
		(newMapArea): set center_x, center_y

2002-11-07  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03382] Interrupt in no_proxy_check()
	* url.c (check_no_proxy): SIGINT trap by KeyAbort

2002-11-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03380] fix configure
	* configure: s/INSTALL_W3MIMGDISPLAY/install_w3mimgdisplay/
			already define
	* config.h.dist (INSTALL_W3MIMGDISPLAY): added

2002-11-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03379] setuid w3mimgdisplay and check console tty
	* XMakefile: w3mimgdisplay install by INSTALL_W3MIMGDISPLAY
	* configure: ask setuid w3mimgdisplay
		(w3mimgdisplay_setuid): added
		(INSTALL_W3MIMGDISPLAY): added
	* etc.c (mySystem): close until FOPEN_MAX
	* image.c (openImgdisplay): setenv W3M_TTY
			stderr to /dev/null
			close until FOPEN_MAX
	* install-sh: -o, -g for owner, group
	* proto.h (ttyname_tty): added
	* search.c (open_migemo): stderr to /dev/null
			close until FOPEN_MAX
	* terms.c (ttyname_tty): added
	* w3mimgdisplay.c: include <sys/types.h>, <unistd.h>
			W3MIMGDISPLAY_SETUID
			stderr to /dev/null
	* w3mimg/w3mimg.c: include <sys/types.h>, <unistd.h>
			W3MIMGDISPLAY_SETUID
	* w3mimg/fb/fb_w3mimg.c (check_tty_console): added
	
2002-11-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03377] sync_with_option
	* etc.c (loadPassword): reset passwords
	* form.c (loadPreForm): reset PreForm
	* main.c (option_assigned): deleted
		(parse_proxy): deleted
		(MAIN): move initCookie(), setLocalCookie() 
			  after sync_with_option()
			delete parseURL for *_proxy
			s/WrapSearch/WrapDefault/
			move initKeymap(), initMenu() after setupscreen()
			sync_with_option() after init_rc()
	* rc.c (pre_form_file): move in params9 (network settting)
		(sync_with_option): initKeymap(), initMenu() is done
				if fmInitialized
		(init_rc): delete sync_with_option()

2002-11-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03375] NULL check of CurrentTab
	* display.c (disp_message_nsec): check CurrentTab
	* file.c (doExternal): check CurrentTab
	* image.c (loadImage): check CurrentTab

2002-11-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03374] disable_secret_security_check
	* etc.c (openSecurityFile): disable_secret_security_check
	* fm.h (disable_secret_security_check): added
	* rc.c (CMT_DISABLE_SECRET_SECURITY_CHECK): added
		(disable_secret_security_check): added
	* NEWS: rc: disable_secret_security_check

2002-11-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* NEWS: update

2002-11-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* rc.c (CMT_PRE_FORM_FILE): added
		(pre_form_file): added

2002-11-06  Fumitoshi UKAI  <ukai@debian.or.jp>
	
	* doc-jp/README.tab: added [w3m-dev 03372]
	* doc/README.tab: brief translation

2002-11-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03372] tab browser
	* display.c (displayBuffer): add ny
				rootY offset by tab
				tab line
		(cursorDown): offset rootY
		(arrangeCursor): offset rootY
	* etc.c (columnSkip): offset rootY
		(lineSkip): offset rootY
		(currentLineSkip): offset rootY
	* file.c (HTMLlineproc2body): ATTR_TARGET
	* fm.h (MapArea): add target
		(Buffer): add rootY
		(TabBuffer): added
		(Currentbuf): comment out
		(Firstbuf): comment out
		(CurrentTab): added
		(FirstTab): added
		(LastTab): added
		(open_tab_blank): added
		(close_tab_back): added
		(nTab): added
		(TabCols): added
		(N_TAB): added
		(Currentbuf): CurrentTab->currentBuffer
		(Firstbuf): CurrentTab->firstBuffer
	* funcname.tab (CLOSE_TAB): added
		(NEW_TAB): added
		(NEXT_TAB): added
		(PREV_TAB): added
		(TAB_GOTO): added
		(TAB_GOTO_RELATIVE): added
		(TAB_LEFT): added
		(TAB_LINK): added
		(TAB_MENU): added
		(TAB_RIGHT): added
	* html.c (ALST_AREA): add ATTR_TARGET
	* image.c (showImageProgress): offset rootY
	* main.c (_newT): added
		(followTab): added
		(moveTab): added
		(check_target): added
		(MAIN): init tab related values
			buf => tab
		(nscroll): offset rootY
		(pgFore): offset rootY
		(pgBack): offset rootY
		(ctrCsrV): offset rootY
		(_movD): offset rootY
		(_movU): offset rootY
		(_goLine): offset rootY
		(_mark): offset rootY
		(followA): check target
		(_followForm): offset rootY
		(drawAnchorCursor0): offset rootY
		(drawAnchorCursor): offset rootY
		(backBf): check close_tab_back
		(follow_map): rewrite for tab, check target
		(posTab): added
		(process_mouse): tab operation
				offset rootY
		(deleteFiles): for all buffers in all tabs
		(newTab): added
		(newT): added
		(numTab): added
		(deleteTab): added
		(closeT): added
		(nextT): added
		(prevT): added
		(followTab): added
		(tabA): added
		(tabURL0): added
		(tabURL): added
		(tabrURL): added
		(moveTab): added
		(tabR): added
		(tabL): added
	* map.c (follow_map_menu): return MapArea
		(newMapArea): add target args
	* menu.c (SelTabMenu): added
		(SelTabV): added
		(initSelTabMenu): added
		(smChTab): added
		(smDelTab): added
		(MainMenuItem): add Select Tab
					on New Tab
		(popupMenu): add initSelTabMenu()
				offset rootY
		(mainMn): offset rootY
		(selMn): offset rootY
		(initSelectMenu): offset rootY
		(tabMn): added
	* proto.h (newT): added
		(closeT): added
		(nextT): added
		(prevT): added
		(tabA): added
		(tabURL): added
		(tabrURL): added
		(tabR): added
		(tabL): added
		(newTab): added
		(deleteTab): added
		(follow_map_menu): return MapArea
		(newMapArea): add target arg
		(tabMn): added
	* rc.c (CMT_OPEN_TAB_BLANK): added
		(CMT_CLOSE_TAB_BACK): added
		(open_tab_blank): added
		(close_tab_back): added
	* doc/README.func (CLOSE_TAB): added
		(NEW_TAB): added
		(NEXT_TAB): added
		(PREV_TAB): added
		(TAB_GOTO): added
		(TAB_GOTO_RELATIVE): added
		(TAB_LEFT): added
		(TAB_LINK): added
		(TAB_MENU): added
		(TAB_RIGHT): added
	* doc-jp/README.func: ditto doc/README.func

2002-11-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc-jp/README.pre_form: added [w3m-dev 03373]
	* doc/README.pre_form: brief translation

2002-11-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* etc.c (PASS_IS_READABLE_MSG): deleted
		(FILE_IS_READABLE_MSG): added
		(openPasswdFile): deleted
		(openSecretFile): delete error_msg arg
		(loadPasswd): use openSecretFile()
	* form.c (next_token): delete unused static decl
		(FILE_IS_READABLE_MSG): deleted
		(loadPreForm): no need pass error_msg
	* proto.h (openSecretFile): delete error_msg arg

2002-11-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03373] setting form on loading
	* config.h.dist (PRE_FORM_FILE): added
	* configure (PRE_FORM_FILE): added
	* etc.c (openPasswdFile): define by openSecretFile()
		(openSecretFile): renamed, not static
	* file.c (loadGeneralFile): preFOrmUpdateBuffer()
	* fm.h (Buffer): add submit
		(pre_form_file): added
	* form.c (struct pre_form_item): added
		(struct pre_form): added
		(next_token): added
		(PreForm): added
		(add_pre_form): added
		(add_pre_form_item): added
		(loadPreForm): added
		(preFormUpdateBuffer): added
	* frame.c (renderFrame): add preFormUpdateBuffer()
	* main.c (MAIN): buf->submit check
	* proto.h (preFormUpdateBuffer): added
		(openSecretFile): added
		(loadPreForm): added
	* rc.c (sync_with_option): add loadPreForm()
	
2002-11-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03371] segmentation fault by large complex table.
	* table.c (bsearch_2short): indexarry char to short
		(bsearch_double): ditto
		(dv2sv): ditto
		(table_rule_width): ditto
		(set_integrated_width): ditto
		(check_table_height): ditto
		(feed_table_tag): ditto
	* table.h (struct table_cell): index, eindex char to short

2002-11-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.3.2
	* version.c.in: update
	* doc/README: version 0.3.2, release date
	* doc-jp/README: ditto
	* NEWS: update

2002-11-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* scripts/w3mhelp.cgi.in: add chkWORD

2002-11-04  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00827] Re: w3m-cvs segfaults on news://<mid> URLs
	* url.c (openURL): check pu->file for news:

2002-10-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* fix compilation warnings
	* w3mimgdisplay.c: add #include <string.h> for strlen, strcmp
	* w3mimg/fb/fb.c: add #include <string.h> for memset
	* w3mimg/fb/fb_w3mimg.c: add #include <string.h> for memset

2002-10-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* 0.3.2 release candidate 4
	* version.c.in: update

2002-10-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03365] ~/.netrc support
	* etc.c (add_auth_pass_entry): add netrc arg
			add new entry to tail
		(find_auth_pass_entry): ent->host == NULL is "default"
		(loadPasswd): rewrite with next_token, parsePasswd, 
				openPasswdFile
				load ~/.netrc
		(next_token): added
		(parsePasswd): added
		(openPasswdFile): added
	* ftp.c (openFTP): use find_auth_user_passwd
	* NEWS: ~/.netrc

2002-10-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03363] refresh download
	* file.c (HTMLtagproc1): alarm is implicit once
	* fm.h (AL_IMPLICIT_ONCE): added
	* main.c (searchKeyData): reset CurrentKeyData, CurrentCmdData
		(SigAlarm): CurrentCmdData is saved to data
			message displayed on AL_EXPLICIT
			clear alarm when AL_IMPLICIT_ONCE
		(setAlarmEvent): AL_IMPLICIT_ONCE

2002-10-31  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03362] Re: support for http://user:pass@www.url.com
	* etc.c (loadPasswd): accept host, passwd

2002-10-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03359] support for http://user:pass@www.url.com
	* etc.c (find_auth_user_passwd): use ParsedURL for args
		use user and passwd if these are defined in ParsedURL
	* file.c (getAuthCookie): change find_auth_user_passwd()
	* proto.h (find_auth_user_passwd): change prototype
	* NOTE: http://user:pass@www.url.com is NOT RECOMMENDED
		for security reasons.

2002-10-30  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03357] tab in <pre> in <ul>,<ol>,...
	* file.c (HTMLlineproc2): check indent for tabstop

2002-10-30  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03354] display current line number
	* display.c (displayBuffer): %3d -> %d

2002-10-29  Fumitoshi UKAI  <ukai@debian.or.jp>

	* 0.3.2 release candidate 3
	* version.c.in: update

2002-10-29  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03352] w3mimgsize is not necessary.
	* XMakefile (IMGSIZE): removed
	* config.h.dist (IMGSIZE): removed
	* configure (imgtarget): remove IMGSIZE
		(config.h): remove IMGSIZE
	* rc.c (CMT_IMGSIZE): removed
	* doc/README.img: remove imgsize
	* w3mimgsize.c: removed

2002-10-28  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03351] w3m core dump
	* table.c (feed_table_tag): fix rendering problem (maybe security hole?)

2002-10-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00796]
	* configure: expand here. ($var in Makefile is $v + ar)
	* XMakefile: clean w3mimg/**/*.o

2002-10-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00795]
	* configure: IMLIB_CONFIG, IMLIB2_CONFIG, GDKPIXBUF_CONFIG
	* rc.c (CMT_DISP_IMAGE): need if not defined USE_IMAGE

2002-10-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* 0.3.2 release candidate 2
	* version.c.in: update

2002-10-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00788]
	* fm.h (displayImage): FALSE ifndef USE_IMAGE
	* rc.c (displayImage): display_image even if USE_IMAGE undefined
		(sync_with_options): display_image is forced to be FALSE 
				ifndef USE_IMAGE

2002-10-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00783] hsaka@mth.biglobe.ne.jp (Hironori SAKAMOTO)
	  add display_lineinfo option
	* display.c (displayBuffer): check displayLineInfo
	* fm.h (displayLineInfo): added
	* rc.c (CMT_DISPLINEINFO): added
		(display_lineinfo): added
	* NEWS (rc: display_lineinfo): add

2002-10-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00781] "Clemens Fischer" <ino-waiting@gmx.net>
	  zope doesn't recognize implied *LWS in accept-language
	* rc.c (sync_with_option): remove optional LWS

2002-10-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00780] "Carlo E. Prelz" <fluido@fluido.as>
	  always print on screen the relative position
	* display.c (displayBuffer): relative position

2002-10-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* 0.3.2 release candidate 1
	* version.c.in: update

2002-10-26  Gary Johnson <garyjohn@spk.agilent.com>

	* [w3m-dev-en 00777] patch to fix w3m-0.3.1 word break problem
	* file.c (is_period_char): 
		0x203A - SINGLE RIGHT-POINTING ANGLE QUOTATION MARK
		(is_beginning_char):
		0x2018 - LEFT SINGLE QUOTATION MARK
		0x2039 - SINGLE LEFT-POINTING ANGLE QUOTATION MARK
		(is_word_char): add several chars ifndef JP_CHARSET
			add ':' and '*'

2002-10-17  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03342]
	* doc/README.img: updated
	* doc-jp/README.img: updated

2002-10-17  Daiki Ueno <ueno@unixuser.org>

	* [w3m-dev 03341] white space is needed to close an empty-element tag
	* parsetagx.c (parse_tag): extract tagname until '/'

2002-10-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03339] Re: Debian Bug#164098 w3m: <sup> is not properly supported
	* file.c (HTMLtagproc1): HTML_SUP, HTML_N_SUP, HTML_SUB, HTML_N_SUB
	* html.c (TagMAP): sup, /sup, sub, /sub
	* html.c (HTML_SUP): added
		(HTML_N_SUP): added
		(HTML_SUB): added
		(HTML_N_SUB): added
	* table.c (feed_table_tag): HTML_SUP, HTML_N_SUP, HTML_SUB, HTML_N_SUB
	* tagtable.tab (sup): added
		(/sup): added
		(sub): added
		(/sub): added

2002-10-11  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03337] delete unused functions in fb.c etc. (Re: canna patch)
	* w3mimg/fb/fb.c (fb_image_rotate): delete
		(fb_frame_rotate): delete
		(fb_pset): delete
		(fb_get_color): delete
		(fb_clear): delete
		(fb_cmap_disp): delete
		(fb_fscrn_disp): delete
		(fb_vscrn_disp): delete
	* w3mimg/fb/fb.h (fb_image_rotate): delete
		(fb_frame_rotate): delete
		(fb_pset): delete
		(fb_get_color): delete
		(fb_clear): delete
		(fb_cmap_disp): delete
		(fb_fscrn_disp): delete
		(fb_vscrn_disp): delete
	* w3mimg/fb/fb_img.c (fb_image_draw_simple): delete
	* w3mimg/fb/fb_img.h (fb_image_draw_simple): delete

	* w3mimg/fb/license.txt: removed, follow w3m license

2002-10-09  AIDA Shinra <aida-s@jcom.home.ne.jp>

	* [w3m-dev 03336] proxy check for https authorization:
	* url.c (HTTPrequest): check CONNECT request for ssl

2002-10-06  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03333] x11 image animation
	* w3mimg/x11/x11_w3mimg.c (struct x11_image): added
		(x11_img_new): added
		(resize_image): added
		(x11_load_image): rewrite GdkPixbuf
		(x11_show_image): rewrite GdkPixbuf
		(x11_free_image): rewrite GdkPixbuf

2002-10-02  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03332] Re: hang up when seeing web page that contains xbm file
	* w3mimg/x11/x11_w3mimg.c (x11_load_image): transparent support

2002-10-02  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03331] Re: hang up when seeing web page that contains	 xbm file
	* configure: check gdk-pixbuf-config existence

2002-10-01  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03330] Re: hang up when seeing web page that contains xbm file
	* w3mimg/x11/x11_w3mimg.c (x11_load_image): scaling

2002-09-30  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03327] gdk-pixbuf support for w3m-img/x11
	* configure (use_w3mimg_x11) Imlib1 or GdkPixbuf
		check gdkpixbuf
	* w3mimg/x11/x11_w3mimg.c (USE_GDKPIXBUF): added
		(x11_init): USE_GDKPIXBUF
		(x11_load_image): USE_GDKPIXBUF
		(x11_get_image_size): USE_GDKPIXBUF

2002-09-30  qhwt@myrealbox.com

	* [w3m-dev 03325] Re: hang up when seeing web page that contains xbm file
	* w3mimgdisplay.c (main): always return response 
				even if size is unknown

2002-09-29  Hiroaki Shimotsu <shim@d5.bs1.fc.nec.co.jp>

	* [w3m-dev 03323] EDITOR
	* main.c (MAIN): use not_null()

2002-09-29  AIDA Shinra <aida-s@jcom.home.ne.jp>

	* Re: [w3m-dev 03320] Re: Passwords
	* etc.c (dir_under): same path is ok
	* file.c (loadGeneralFile): if missing, return NULL
		ssl cert already checked
	* html.h (URLFILE): add ssl_certificate
	* istream.c (ssl_get_certificate): change args
	* istream.h (ssl_get_certificate): ditto
	* url.c (openSSLHandle): add p_cert
		ssl certificate check here
		(HTTPrequest): auth_cookie fix

2002-09-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03321] Bug#162104: file descriptors 1 and 2 are closed rather than reopened to /dev/null
	* etc.c (mySystem): fd 0,1,2 redirect /dev/null, close all other fds

2002-09-25  AIDA Shinra <aida-s@jcom.home.ne.jp>

	* [w3m-dev 03319] mailto
	* main.c (followA): mailto
	* main.c (cmd_loadURL): mailto
	* url.c (_parsedURL2Str): mailto: query

2002-09-25  AIDA Shinra <aida-s@jcom.home.ne.jp>

	* [w3m-dev 03318] Re: Passwords
	* etc.c (struct auth_path): added
		(passwords): added
		(dir_under): added
		(add_auth_pass_entry): added
		(find_auth_pass_entry): added
		(find_auth_user_passwd): added
		(loadPasswd): added
		(find_auth): dir_under()
		(add_auth_cookie): check file
	* file.c (find_auth_user_passwd): removed
		(getAuthCookie): use delText()
				check proxy
		(get_auth_cookie): removed
		(loadGeneralFile): auth_pu
	* proto.h (schemeToProxy): added
		(get_auth_cookie): removed
		(loadPasswd): added
		(find_auth_user_passwd): added
	* rc.c (sync_with_option): loadPasswd()
	* textlist.c (delValue): added
	* textlist.h (delValue): added
		(delText): added
	* url.c (HTTPrequest): seen_www_auth
		(schemeToProxy): added

2002-09-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03312] Re: Passwords
	* config.h.dist: PASSWD_FILE
	* file.c (find_auth_user_passwd): return if passwd_file == NULL

2002-09-11  Yuuichi Teranishi <teranisi@gohome.org>

	* [w3m-dev 03311] Re: Passwords
	* configure (config.h): default PASSWD_FILE
	* fm.h (passwd_file): default PASSWD_FILE

2002-09-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03307] add password_file support
	* file.c (find_auth_user_passwd): added
	* fm.h (passwd_file): added
	* rc.c (CMT_PASSWDFILE): added
		(passwdfile): added

2002-09-09  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03300] framebuffer: 8bit color support
	* w3mimg/fb/fb.c: support FB_VISUAL_PSEUDOCOLOR 256 colors

2002-09-09  Hironori SAKAMOTO <h-saka@lsi.nec.co.jp>

	* [w3m-dev 03299] remove file before copying (install-sh)
	* install-sh: remove file before copying

2002-09-09  Hironori SAKAMOTO <h-saka@lsi.nec.co.jp>

	* [w3m-dev 03298] [ -f instead of [ -e (configure)
	* configure: use test -f instead of test -e

2002-09-09  Hironori SAKAMOTO <h-saka@lsi.nec.co.jp>

	* [w3m-dev 03297] TERM=mlterm
	* terms.c (w3m_term_info_list): add mlterm

2002-09-09  Hironori SAKAMOTO <h-saka@lsi.nec.co.jp>

	* [w3m-dev 03296] fix configure (strtoq)
	* configure (strtoq): fix missing semicolon

2002-09-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03292] Re: load file at cursor
	* anchor.c (reAnchorPos): added
		(reAnchorWord): added
		(reAnchorAny): rewrite to use reAnchorPos()
	* funcname.tab (MARK_WORD): added
	* keybind.c (;) MARK_WORD
	* main.c (getCurWord): added
		(chkWORD): added
		(is_wordchar): added
		(getCurWord): added
		(GetWord): rewrite to use getCurWord()
	* proto.h (chkWORD): added
		(reAnchorWord): added
	* doc/README.func: add MARK_WORD
	* doc/keymap.default: add MARK_WORD
	* doc-jp/README.func: add MARK_WORD
	* doc-jp/keymap.default: add MARK_WORD
	* NEWS: add MARK_WORD

2002-08-28  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03291] parsetagx.c:toNumber()
	* parsetagx.c (toNumber): don't parse non-number value as 0, 
	                            just ignore

2002-08-28  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03290] Re: Forward: Bug#157098: wrong file presentation on large files
	* indep.c (strtoclen): need defined()

2002-08-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Debian Bug#157098: wrong file presentation on large files
	  from "Eduard Bloch" <blade@debian.org>
	* configure (clen_t): added
			(HAVE_STRTOLL): added
			(HAVE_STRTOQ): added
			(HAVE_ATOLL): added
			(HAVE_ATOQ): added
	* config.h.dist: ditto
	* file.c (current_content_length): s/int/clen_t/
		(loadGeneralFile): s/atoi/strtoclen/
		(convert_size): s/int/clen_t/
		(convert_size2): s/int/clen_t/
		(showProgress): s/int/clen_t/
		(loadHTMLstream): s/int/clen_t/ linelen, trbyte
		(loadBuffer): ditto
		(getNextPage): s/int/clen_t/ linelen
		(save2tmp): s/int/clen_t/ linelen, trbye
		(_MoveFile): s/int/clen_t/ linelen, trbye
	* fm.h (_Buffer): s/int/clen_t/ linelen, trbye
	* ftp.c (size_int2str): s/long/clen_t/
		(ex_ftpdir_name_size_date): s/long/clen_t/
	* indep.c (strtoclen): added
	* indep.h (strtoclen): added
	* proto.h (showProgress): s/int/clen_t/

2002-07-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Debian Bug#154766: w3m-img: support DirectColor framebuffer visuals?
	  from Colin Watson <cjwatson@debian.org>
	* w3mimg/fb/fb.c (fb_open): accept FB_VISUAL_DIRECTCOLOR

2002-07-30  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03282] Re: w3m-img for framebuffer update
	* w3mimg/fb/fb.c (fb_image_new): ignore no image
					calloc multiple images
			(fb_image_fill): added
			(fb_image_draw): width, height fix
			(fb_image_rotate): fix typo
			(fb_image_copy): added
			(fb_frame_new): added
			(fb_freme_free): added
			(fb_frame_rotate): added
	* w3mimg/fb/fb.h (FB_IMAGE): add num, id, delay
			(fb_frame_new): added
			(fb_frame_free): added
			(fb_frame_rotate): added
	* w3mimg/fb/fb_gdkpixbuf.c (get_image_size): animation support
			(fb_image_load): animation support
			(draw): add bg, x, y, w, h args
	* w3mimg/fb/fb_img.h (fb_image_load): return FB_IMAGE**
	* w3mimg/fb/fb_imlib2.c (fb_image_load): return FB_IMAGE**
	* w3mimg/fb/fb_w3mimg.c (w3mfb_show_image): animation support

2002-07-23  Hiroyuki Ito <hito@crl.go.jp>

	* [w3m-dev 03280] w3m-img without w3mimgsize
	* fm.h (Imagesize): deleted
	* image.c (getImageSize): rewrite to use w3mimgdisplay 
		instead of w3mimgsize
	* rc.c (params1): remove imgsize, merged to imgdisplay

2002-07-23  Hiroyuki Ito <hito@crl.go.jp>
	
	* [w3m-dev 03279] w3m-img for framebuffer update
	  http://homepage3.nifty.com/slokar/fb/w3mfb.patch.gz
	* w3mimg/fb/readme.txt: update
	* w3mimg/fb/fb.c: update
	* w3mimg/fb/fb.h: update
	* w3mimg/fb/fb_gdkpixbuf.c: update
	* w3mimg/fb/fb_img.c: update
	* w3mimg/fb/fb_img.h: update
	* w3mimg/fb/fb_imlib2.c: update
	* w3mimg/fb/fb_w3mimg.c: update
	* w3mimg/fb/fb_gdkpixbuf.h: deleted
	* w3mimg/fb/fb_imlib2.h: deleted
	* w3mimg/w3mimg.h (w3mimg_op): add get_image_size()
	* w3mimg/x11/x11_w3mimg.c: update
	* w3mimgdisplay.c (main): use get_image_size()
	* w3mimgsize.c (main): use get_image_size()

2002-07-19  Hideyuki SHIRAI <shirai@rdmg.mgcs.mei.co.jp>

	* [w3m-dev 03277] compile error on Solaris7
	* w3mimg/w3mimg.c: include <stdio.h> for NULL

2002-07-19  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

a	* [w3m-dev 03276] compile error on EWS4800
	* file.c (extract_auth_val): fix warnings
	* w3mimg/w3mimg.c: include <stdlib.h>

2002-07-18  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03275] fix of multipart.cgi
	* scripts/multipart/multipart.cgi.in: check REQUEST_METHOD first
					need $count for POST

2002-07-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3mimgdisplay.c (main): '5' for w3mimgsize

2002-07-18  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03270] Re: w3m-img for framebuffer merged
	* w3mimg/x11/x11_w3mimg.c (w3mimg_x11open): unsigned int nchildren

2002-07-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* XMakefile (w3mimg/w3mimg): added
		(w3img/fb) fixed
	* w3mimg/w3mimg.h (w3mimg_open): deleted to avoid compilation warnings
	* w3mimg/w3mimg.c: added
	* configure (imgobjs): add w3mimg/w3mimg.o 

2002-07-18  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03272] Re: w3m-img for framebuffer merged (Re:  Re: w3m-img for framebuffer)
	* XMakefile (w3mimg/x11): chdir
		(w3mimg/fb): chdir

2002-07-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03273] Re: w3m-img for framebuffer merged
	* configure (use_w3mimg_fb): check linux, use test -c

2002-07-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* merge w3m-img for framebuffer support
	* w3mimg/w3mimg.h: created
	* w3mimg/x11/x11_w3mimg.c: created
	* w3mimg/fb/fb_w3mimg.c: created
	* w3mimgsize.c w3mimgdisplay.c: modified
	* configure: modified
	* XMakefile: modified
	* config.h.dist: updated

2002-07-18  ZXB01226@nifty.com

	* w3m-img for framebuffer support
	* http://homepage3.nifty.com/slokar/fb/
	* w3mimg/fb/fb.c w3mimg/fb/fb.h 
	  w3mimg/fb/fb_img.c w3mimg/fb/fb_img.h
	  w3mimg/fb/fb_gdkpixbuf.c w3mimg/fb/fb_gdkpixbuf.h
	  w3mimg/fb/fb_imlib2.c w3mimg/fb/fb_imlib.h
	  w3mimg/fb/readme.txt w3mimg/fb/license.txt: added

2002-07-18  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03263] fix lastA segfault
	* main.c (lastA): fix lastA segfault when no anchor found

2002-07-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: cvs version

2002-07-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.3.1
	* version.c.in: update
	* doc/README: version 0.3, release date
	* doc-jp/README: ditto
	* NEWS: update

2002-07-12  WATANABE Katsuyuki <katsuyuki_1.watanabe@toppan.co.jp>

	* [w3m-dev 03255] update cygwin info
	* doc-jp/README: update
	* doc/README: update
	* doc-jp/README.cygwin: deleted
	* doc/README.cygwin: deleted

2002-07-10  SAKAI Kiyotaka <ksakai@kso.netwk.ntt-at.co.jp>

	* [w3m-dev 03240] doc-jp update
	* doc-jp/MANUAL.html: update
	* doc-jp/README: update
	* doc-jp/README.SSL: update
	* doc-jp/README.img: update

2002-07-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* gc/: import gc6.1alpha5

2002-07-09  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* delete old mail addresses of aito-san from docs
	* delete old ftp site from w3m-doc/install.html.in

2002-07-01  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev 03235] topA/lastA with prec_num
	* main.c: add prec_num to topA() and lastA()

2002-06-24  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03233] "obuf->flag |= RB_IGNORE_P" after <body> tag
	* file.c (HTMLtagproc1): no need RB_IGNORE_P after <body> tag

2002-06-18  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev 03215] Re: Boehm GC 6.1alpha5
	* XMakefile: add "base_lib gc.a" for making GC

2002-06-18  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03212] lstat() in form.c
	* form.c: define lstat unless HAVE_LSTAT
		(form_write_from_file): always check lstat()

2002-06-17  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev 03214] strtoul() in frame.c
	* frame.c (parseFrameSetLength): strtoul() -> strtol()

2002-06-10  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev-en 00752] Re: tab completion weirdness in w3m 0.3
	* file.c (doFileCopy): same fix as [w3m-dev-en 00751]

2002-06-10  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev-en 00751] Re: tab completion weirdness in w3m 0.3
	* main.c (svBuf): unescape spaces when input is filename
	* proto.h (unescape_spaces): added

2002-06-08  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03207] strchr(), strcasecmp(), and strncasecmp()
	* etc.c (strchr): removed
		(strcasecmp): removed
		(strncasecmp): removed
	* indep.c (strchr): moved, cast
		(strcasecmp): moved, fix the case that s1 = ""
		(strncasecmp): moved, fix the case that s1 is shorter than s2
	* indep.h (strchr): added
		(strcasecmp): added
		(strncasecmp): added

2002-06-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03206] Re: dict
	* main.c (execdict): quote word

2002-06-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03204] INET6
	* main.c (fversion): s/USE_INET6/INET6/

2002-06-06  Hironori SAKAMOTO <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03203] dict
	* main.c (execdict): fix loadGeneralFile()

2002-06-02  Tushar Samant <scribble@pobox.com>

	* [w3m-dev-en 00748] PATCH: Reinitialize w3m while running
	* funcname.tab (INIT_MAILCAP): deleted
		(REINIT): added
	* main.c (config_filename): added
		(reinit): added
	* proto.h (reinit): added
	* rc.c (rc_initialized): deleted
	* w3mhelperpanel.c (editMailcap): use REINIT MAILCAP

2002-06-02  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03200] Re: New configuration option ``keymap_file'' and new command ``DEFINE_KEY''
	* fm.h: add <sts/stat.h>, unistd.h>
	* fm.h (keymap_file): added
	* func.c (keymap_initialized): added
		(current_keymap_file): added
		(setKeymap): added
		(initKeymap): rewrite to use setKeymap()
	* funcname.tab (DEFINE_KEY): added
	* main.c (MAIN): initKeymap(TRUE)
		(defKey): added
	* proto.h (defKey): added
		(setKeymap): added
		(initKeymap): add force param
	* rc.c (CMT_KEYMAP_FILE): added
		(params3): add keymap_file
		(sync_with_option): add initKeymap(FALSE)
	* doc/README.func (DEFINE_KEY): added
	* doc-jp/README.func: (DEFINE_KEY): added
	* scripts/w3mhelp.cgi.in: add defKey
	* NEWS:
		func: DEFINE_KEY
		rc: keymap_file

2002-06-02  Hiroaki Shimotsu <shim@d5.bs1.fc.nec.co.jp>

	* [w3m-dev 03196] C-w
	* linein.c (inputLineHistSearch) move_word changed
	* linein.c (setStrType): add space to termchar

2002-05-15  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03191] typo in file.c:extract_auth_val()?
	* file.c (extract_auth_val): s/177/0177/

2002-05-15  Tsutomu OKADA <okada@furuno.co.jp>

	* [w3m-dev 03190] a tiny patch for configure
	* configure (ask_choice): reset default value

2002-04-27  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03185] Re: cmd_mark in main.c, rev 1.60 broke unmark?
	* main.c (cmd_mark): deleted
		(_mark): xor PE_MARK
		(reMark): or PE_MARK

2002-04-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* scripts/.cvsignore: add xface2xpm

2002-04-26  Tushar Samant <scribble@pobox.com>
	
	* [w3m-dev-en 00733] Submission: "English" patch
	* rc.c: update english

2002-04-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00730] Re: Patch for a more flexible dictionary lookup
	* NEWS: rc: use_dictcommand, dictcommand
	* main.c (execdict): use url_quote_conv() instead of cURLcode()
	* proto.h (cURLcode): deleted
	* doc-jp/README.dict: updated

2002-04-25  Tushar Samant <scribble@pobox.com>

	* [w3m-dev-en 00729] Re: Patch for a more flexible dictionary lookup
	* config.h.dist (DICT): define
	* configure (use_dict): default y
	* fm.h (DICTCMD): deleted
		(UseDictCommand): added
		(DictCommand): added
	* main.c (execdict): rewrite to use DictCommand, loadGeneralFile()
	* rc.c (CMT_USE_DICTCOMMAND): added
		(CMT_DICTCOMMAND): added
		(params1): use_dictcommand, dictcommand added
	* doc/README.dict: updated

2002-04-21  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03181] KEYBIND_SRC was not passed to scripts/Makefile
	* Makefile (all-scripts): pass KEYBIND_SRC

2002-04-17  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03178] Parser of ``cols'' and ``rows''
	* frame.c (parseFrameSetLength): added
		(newFrameSet): use parseFrameSetLength()

2002-04-17  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03177] SIGUSR1 --> W3M_SIGIMG in image.c
	* image.c (W3M_SIGIMG): added
		(load_image_handler): s/SIGUSR1/W3M_SIGIMG/
		(load_image_next): ditto
		(loadImage): ditto

2002-04-17  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03176] no Content-Type in http response header
	* file.c (loadGeneralFile): guess content-type from filename

2002-04-09  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03169] Can't calculate table height if number of cells > 20.
	* table.c (check_table_height): change row, rowspan, indexarray, height
			from array to pointer

2002-04-09  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03167] xface2xbm -> xface2xpm (current imlib can't handle XBM)
	* configure: s/XFACE2XBM/XFACE2XPM/
	* config.h.dist: ditto
	* file.c (xface2xpm): renamed from xface2xbm
			modified for xpm
		(readHeader): s/xface2xbm/xface2xpm/
	* scripts/Makefile (LIB_TARGETS): s/xface2xbm/xface2xpm/
	* scripts/xface2xpm.in: added

2002-03-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03162] Re: "ttp:" is marked instead of "http:" by MARL_URL
	* main.c (chkURLBuffer): "mailto" removed when USE_W3MMAILER
		in this case, chkExternalURIBuffer() will mark mailto: URL.

2002-03-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03160] Re: "ttp:" is marked instead of "http:" by MARL_URL
	* NEWS: mark_all_pages
	* anchor.c (reAnchorAny): check MarkAllPages
	* fm.h (MarkAllPages): added
	* rc.c (CMT_MARK_ALL_PAGES): added
		(mark_all_pages): added

2002-03-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03159] "ttp:" is marked instead of "http:" by MARL_URL
	* main.c (chkURLBuffer): check internal URLs first

2002-03-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* terms.c (set_tty): s/term_info/w3m_term_info/g;
		struct term_info is defined in FreeBSD's sys/consio.h
		reported by KOIE Hidetaka <hide@koie.org>

2002-03-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03146] Re: header option
	* main.c (make_optional_header_string): cleanups

2002-03-28  Yuuichi Teranishi <teranisi@gohome.org>

	* [w3m-dev 03145] header option
	* main.c (MAIN): hide args for security

2002-03-23  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 03140] Forward: Bug#139305: 
	   w3m: EXTERN_LINK does not work if href ends with ampersand
	* main.c (invoke_browser): check bg by browser

2002-03-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* terms.c (term_title): use ttyf instead of stderr

2002-03-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03137] Re: w3mman.1
	* XMakefile (MAN1): added
		    (MAN1_JA): added
		    (install-core): install man
		    (install-scripts): pass MAN_DIR
		    (uninstall): uninstall man, pass MAN_DIR to subdirs
	* config.h.dist (MAN_DIR): added
			(MAN1_DIR): added
			(MAN1_JA_DIR): added
	* configure: -mandir
		  (config.h): add MAN_DIR, MAN1_DIR, MAN1_JA_DIR
	* scripts/w3mman/Makefile (MAN1_DIR): added

2002-03-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03136] Add COMMAND to execute multiple commands
	* fm.h (CurrentMenuData): deleted
		(CurrentCmdData): added
	* func.c (getKey): check next char of ^
		(getWord): get word until ';'
		(getQWord): rewrite using Str
	* funcname.tab (COMMAND): added
	* main.c (MAIN): delete CurrentMenuData
			initialize CurrentCmdData
		(searchKeyData): use CurrentCmdData
		(execCmd): added
		(SigAlarm): delete CurrentMenuData, use CurrentCmdData
	* menu.c (action_menu): delete CurrentMenuData, use CurrentCmdData
	* proto.h (execCmd): added
	* doc/README.func (ALARM): capitalize
			(COMMAND): added
	* doc-jp/README.func (COMMAND): added

2002-03-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03135] commit of [w3m-dev 03006] is incomplete.
	* file.c (HTMLlineproc2body): check form_int fid attr
			update forms[]
			fix buf->formlist

2002-03-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* part of [w3m-dev-en 00713] contrib: unofficial "current page info" patch, updated for w3m-0.3
	  by Moritz Barsnick <barsnick@gmx.net>
	* map.c (page_info_panel): s/line/lines/
				s/byte/bytes/
				anchor for URL of current anchor

2002-03-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* -title support
	  modified [w3m-dev-en 00710] contrib: unofficial "xterm title" patch, updated for w3m-0.3
	  by Moritz Barsnick <barsnick@gmx.net>
	* NEWS: -title
	* fm.h (displayTitleTerm): added
	* proto.h (term_title): added
	* main.c (fusage): add -title
		(MAIN): add -title
		(quitfm): term_title("")
	* display.c (displayBuffer): term_title()
	* terms.c (title_str): added
		(TERM_INFO): added
		(term_info): modified from mouse_term_info
		(term_info_list): modified from xterm_mouse_term
				add "screen"
		(set_tty): check displayTitleTerm
		(term_title): added

2002-03-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03132] Re: Reload image
	* file.c (loadGeneralFile): b->type = "text/html"
	* file.c (loadImageBuffer): comment out getImageSize()
				image_flag = IMG_FLAG_AUTO
	* file.c (openGeneralPagerBuffer): buf->type = "text/html"
	* frame.c (resetFrameElement): if (buf->mailcap_source) ...
	* frame.c (frame_download_source): if (buf->mailcap_source) ...
	* main.c (vwSrc): #ifdef USE_IMAGE

2002-03-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03133] Re: w3mman.1
	* scripts/w3mman/Makefile (MAN1_TARGETS): added
			(MAN_TARGETS): use $(MAN_TARGETS)
			(INSTALL_MAN): added
			(install): use $MAN1_TARGETS, $(INSTALL_MAN)
	* scripts/w3mman/w3mman2html.cgi.in: $PAGER='cat'

2002-03-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* scripts/.cvsignore: add xface2xbm

2002-03-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03130] w3mman.1
	* scripts/w3mman/.cvsignore: add w3mman.1
	* scripts/w3mman/Makefile (MAN_DIR): added
		(MAN_TARGETS): added
		(all): add $(MAN_TARGETS)
		(.in): replace @LIB_DIR@
		(install): install $(MAN_TARGETS)
		(uninstall): uninstall $(MAN_TARGETS)
		(clean): clean $(MAN_TARGETS)
	* scripts/w3mman/w3mman.1.in: added
	* scripts/w3mman/w3mman2html.cgi.in: undef $PAGER

2002-03-15  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03129] Re: X-Face
	* configure (use_xface): ask
	* fm.h (_Buffer): add header_source
	* buffer.c (reshapeBuffer): fix reshape when reading stdin with image
			fix disappearing header when reading stdin
	* file.c (xface2xbm): check file existence
	* file.c (readHeader): save to tmp file
			X-Face when activeImage & displayImage
	* main.c (dispI): comment out checking content type
	* main.c (stopI): ditto
	* scripts/xface2xbm.in: update compface URL
			read from file $XF
			write to file $XBM

2002-03-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* proto.h (readHeader): added

2002-03-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03127] X-Face
	* NEWS: X-Face support
	* configure (use_xface): added
	* config.h.dist (USE_XFACE): added
		(XFACE2XBM): added
	* file.c (xface2xbm): added
		(readHeader): X-Face: handling
	* scripts/Makefile (LIB_TARGETS): add xface2xbm
	* scripts/xface2xbm.in: added

2002-03-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03126] reshapeBuffer() and -m option
	* buffer.c (reshapeBuffer): fix reshapeBuffer() in case of -m option

2002-03-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03125] w3m -m < image
	* file.c (openGeneralPagerBuffer): use internal viewer for -m option

2002-03-13  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03116] Re: aligned block in <td align="center">
	* file.c (flushline): align if align="align"
	* fm.h (RB_LEFT): change value
	       (RB_ALIGN): include RB_LEFT
	       (RB_INTABLE): added
	* table.c (do_refill): obuf.flag |= RB_INTABLE

2002-03-11  WATANABE Katsuyuki <katsuyuki_1.watanabe@toppan.co.jp>

	* [w3m-dev 03110] Re: gopher broken
	* file.c (loadGeneralFile): #ifdef USE_GOPHER

2002-03-11  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03106] Re: displayBuffer
	* display.c (displayBuffer): revert previous changes
	* file.c (process_img): remove space in src attribute

2002-03-10  Rei FURUKAWA <furukawa@tcp-ip.or.jp>

	* [w3m-dev 03096] displayBuffer 
	* display.c (displayBuffer): buf->need_reshape = 0 to prevent recursive
			displayBuffer calls

2002-03-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03095] Re: gopher broken 
		(Re: Bug#137287: w3m: segfault on gopher://xxxx.xxx URI)
	* file.c (loadGopherDir): html_quote(url_quote_conv())

2002-03-09  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03092] Reload image
	* file.c (loadImageBuffer): cache->index = 0

2002-03-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03093] Re: gopher broken 
		(Re: Bug#137287: w3m: segfault on gopher://xxxx.xxx URI)
	* file.c (loadGopherDir): fix ->ptr
		q should be url_quote()
	* url.c (openURL): url_unquote() for gopher selector

2002-03-09  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03090] Re: gopher broken 
		(Re: Bug#137287: w3m: segfault on gopher://xxxx.xxx URI)
	* file.c (loadGeneralFile): if loadGopherDir, type is real_type
	* file.c (loadGopherDir): rewrite to use loadHTMLstream()

2002-03-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03088] gopher broken 
		(Re: Bug#137287: w3m: segfault on gopher://xxxx.xxx URI)
	* file.c (form_max): initial value should be -1
	* file.c (loadGopherDir): </A>

2002-03-08  YAMAMOTO Takashi <yamt@mwd.biglobe.ne.jp>

	* [w3m-dev 03087] vi +1 emptyfile
	* etc.c (myEditor): line > 1

2002-03-06  Christian Weisgerber <w3m-dev-en@mips.inka.de>

	* [w3m-dev-en 00699]
	* configure: define SETPGRP() instead of setpgrp()
	* etc.c (mySystem): use SETPGRP() instead of setpgrp()
	* image.c (openImgdisplay): ditto
	* search.c (open_migemo): ditto
	* url.c: revert changes by Dai Sato on 2002-02-01
		since stdio.h and config.h is included with this order
		in fm.h

2002-03-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.3+cvs

2002-03-06  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.3
	* version.c.in: update
	* doc/README: version 0.3, release date
	* doc-jp/README: ditto
	* NEWS: update

2002-03-06  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03084] A temporary file remains when pipe + 'v'
	* proto.h (saveBufferDelNum): deleted
	* file.c (saveBufferDelNum): deleted
	* file.c (saveBuffer): saveBufferDelNum() renamed 
	* main.c (vwSrc): tmpfname() recorded as fileToDelete
			use saveBuffer() instead of saveBufferDelNum()

2002-03-04  Fumitoshi UKAI  <ukai@debian.or.jp>

	* doc-jp/MANUAL.html: add note about file:/cgi-bin
	* doc/MANUAL.html: ditto

2002-03-01  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03073] frame + image
	* file.c (loadGeneralFile): w3m_dump & ~DUMP_FRAME
	* file.c (loadImageBuffer): comment out if (frame_source)

2002-03-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03072] Proxy-Authorization (Re:  Re: https through proxy)
	* file.c (loadGeneralFile) delete Proxy-Authorization set here
	* fm.h (HR_FLAG_PROXY): added
	* main.c (MAIN): need "Basic " for proxy_auth_cookie
	* url.c (HTTPrequest): add seen_proxy_auth
		if proxy and no Proxy-Authorization: header seen and
		has proxy_auth_cookie, use it
	* url.c (openURL): hr->flag |= HR_FLAG_PROXY
	
	* file.c (loadGeneralFile) comment indent fix
	* html.c (TagMAP): ditto

2002-02-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03070] Re: https through proxy
	* url.c (openURL): pass extra_header (Proxy-Authorization:)

2002-02-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03067] Re: https through proxy
	* file.c (loadGeneralFile): comment out ssl_get_certificate here

2002-02-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00691] Re: w3m 0.2.5.1 fails to recognize '<dt id="XXX">'
	* html.c: ATTR_CORE for dt, dd, blockquote, caption 

2002-02-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03064] Re: SELECTED form value
	* form.c (formResetBuffer): set inititial value

2002-02-23  HIDAI Ken-ichi <hidai@nmn.jp>

	* [w3m-dev 03060] doc-jp/README.migemo
	* doc-jp/README.migemo: added

2002-02-23  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03059] table + hborder + rowspan + valign=bottom
	* table.c (renderTable): add case BORDER_NOWIN:

2002-02-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03057] Re: Bug#134350: w3m: Forgets (http auth) login information upon reload (or almost anything else)
	* etc.c (find_auth): add `file'
			check file as well
	* etc.c (find_auth_cookie): add `file'
	* etc.c (add_auth_cookie): add `file'
	* file.c (AuthBasicCred): add "Basic "
	* file.c (AuthDigestCred): add "Digest "
	* file.c (getAuthCookie): if h_auth == NULL, get recorded cookie
	* file.c (get_auth_cookie): get recorded cookie
	* file.c (loadGeneralFile): don't clear add_auth_cookie_flag 
				by redirection
		add_auth_cookie if authorization is required and passed 
	* fm.h (auth_cookie): add file
	* ftp.c (openFTP): follow change auth_cookie
	* proto.h (get_auth_cookie): added
	* proto.h (find_auth_cookie): add `file'
	* proto.h (add_auth_cookie): add `file'
	* url.c (openURL): get_auth_cookie

2002-02-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03058] mailer
	* NEWS: rc: mailer
	* fm.h (Mailer): change default
	* main.c (MAIN): $MAILER will be used as "mailer"
	* main.c (followA): if "mailer" defined & simple mailto: URL, 
		use mailer instead of w3mmail.cgi
	* main.c (cmd_loadURL): ditto
	* rc.c (params6): remove ifndef USE_W3MMAILER

2002-02-15  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03056] DISPLAY_IMAGE, STOP_IMAGE don't work.
	* main.c (dispI): fix DISPLAY_IMAGE
	* main.c (stopI): fix STOP_IMAGE

2002-02-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03055] LIB_DIR -> w3m_lib_dir()
	* image.c (getCharSize): s/LIB_DIR/w3m_lib_dir()/
	* image.c (openImgdisplay): ditto
	* image.c (getImageSize): ditto

2002-02-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03048] garbage of images on the right edge of termical.
	* display.c (redrawLineImage): fix width calculation

2002-02-14  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03053] Re: SSL indicator
	* main.c (dump_extra): Output SSL certificate.

2002-02-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* [w3m-dev 03038] LDFLAGS
	* XMakefile: refer to LDFLAGS when linking
	* configure: add -ldflags=*

2002-02-12  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03036]
	* display.c (displayBuffer): ifdef USE_SSL

2002-02-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03034] check buf
	* frame.c (frame_download_source): buf->ssl_certificate can be used
			only if buf != NULL && buf != NO_BUFFER

2002-02-10  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03033] SSL indicator
	* display.c (displayBuffer): show SSL indicator

2002-02-08  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 03025] fix image loading on EWS4800
	* image.c (loadImage): exit if symlink failed
			exit if fopen failed

2002-02-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03022] SSL certificates of frame body
	* frame.h (frame_body): add ssl_certificate
	* frame.c (frame_download_source): save ssl_certificate
	* map.c (append_frame_info): display ssl_certificate of frame_body

2002-02-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03021] Bug#132934: w3m should recognize file:/uris
				in chkURLBuffer function
	* main.c (chkURLBuffer): add "file:" 

2002-02-08  Yuji Abe <cbo46560@pop12.odn.ne.jp>

	* [w3m-dev 03017] URI scheme is case insensitive
	* url.c (searchURIMethods): s/strcmp/strcasecmp/

2002-02-08  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 03011] segmentation fault on <input> tag without <form>
	* file.c (process_input): tmp initialization fix

2002-02-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [emacs-w3m:02733] for emacs-w3m better rendering with inline image
	* main.c (MAIN): activeImage = TRUE when -halfdump & display_image=1

2002-02-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 03006] fix form order in table
	* file.c (process_form): static
			fix form index order
			method should be quoted
	* file.c (process_form): added
	* file.c (HTMLlineproc2body): add form_id
	* html.c (ALST_FORM_INT): added
	* html.c (form_int): update

2002-02-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 03005] fix Bad cert ident
	* istream.c (ssl_match_cert_ident): added
	* istream.c (ssl_check_cert_ident): use ssl_match_cert_ident()

2002-02-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02999] don't ask accept bad cert when background downloading
	* file.c (getAuthCookie): if QuietMessage, return NULL
	* file.c (inputAnswer): if QuietMessage, input "n"

2002-02-05  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02991] form support in w3m -halfdump foo.html|w3m -halfload
	* fm.h (DUMP_HALFEXTRA): deleted
	* proto.h (process_select): return Str
	* file.c (process_img): process_form() fix
	* file.c (process_input): process_form() fix
	* file.c (process_select): return Str
				process_form() fix
	* file.c (process_textarea): process_form() fix
	* file.c (process_form): support -halfdump
	* file.c (HTMLtagproc1): delete case HTML_FORM_INT, HTML_N_FORM_INT
				process_{form,select,textarea}() fix
	* file.c (HTMLlineproc2body): support -halfload
				HTML_INTERNAL, HTML_N_INTERNAL,
				HTML_FORM_INT, HTML_FORM_INT,
				HTML_TEXTAREA_INT, HTML_N_TEXTAREA_INT,
				HTML_SELECT_INT, HTML_N_SELECT_INT,
				HTML_OPTION_INT, HTML_TITLE_ALT
	* file.c (print_internal_information): fix -halfdump
	* file.c (loadHTMLstream): no DUMP_HALFEXTRA
	* html.h: add HTML_INTERNAL, HTML_N_INTERNAL, 
			HTML_SELECT_INT, HTML_N_SELECT_INT,
			HTML_OPTION_INT, HTML_TEXTAREA_INT, HTML_N_TEXTAREA_INT
	* html.c (ALST_TEXTAREA_INT): added
	* html.c (ALST_SELECT_INT): added
	* html.c: add <internal>, </internal>, <select_int>, </select_int>
		<option_int>, <textarea_int>, </textarea_int>
	* main.c (MAIN): delete -halfdump_extra
		dont output <pre> by -halfdump
	* table.c (feed_table_tag): process_{form,select}() fix
		add case HTML_INTERNAL, HTML_N_INTERNAL,
		    HTML_SELECT_INT, HTML_N_SELECT_INT,
		    HTML_OPTION_INT, HTML_TEXTAREA_INT, HTML_N_TEXTAREA_INT,
	* tagtable.tab: add internal, /internal, select_int, /select_int
		option_int, textarea_int, /textarea_int

2002-02-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02990]
	* file.c (doFileCopy): use Strfgets() instead of fgets()
	* file.c (doFileSave): ditto

2002-02-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02989]
	* file.c (inputAnswer): use Strfgets() instead of fgets()

2002-02-04  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* [w3m-dev 02986]
	* file.c (print_internal_information): Don't print boundaries.
          Use henv->f instead of stdout.
	
2002-02-04  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02984] inline image improvements and cleanups
	* config.h.dist (HAVE_SYMLINK) added
	* config.h.dist (HAVE_LSTAT): added
	* configure: symlink() check
	* configure: lstat() check
	* fm.h (maxLoadImage): added
	* form.c (form_write_from_file): s/HAVE_READLINK/HAVE_LSTAT/
	* image.c: include <sys/stat.h>
	* image.c (MAX_LOAD_IMAGE): default 8
	* image.c (max_load_image): deleted
	* image.c (n_load_image): added
	* image.c (showImageProgress): added
	* image.c (loadImage): check load image count
			s/HAVE_READLINK/HAVE_LSTAT/ (HAVE_SYMLINK)
			showImageProgress
	* local.c: include <sys/stat.h>
		s/HAVE_READLINK/HAVE_LSTAT/
	* rc.c (CMT_MAX_LOAD_IMAGE): added
	* rc.c (max_load_image): added
	* doc/README.img: update
	* doc-jp/README.img: update
	
	* file.c (process_img): pre_int fix

2002-02-04  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02985] inputAnswer() and no "ssl_forbid_method"
	* file.c (inputAnswer): buf size is 80
	* url.c (openSSLHandle): if old_ssl_forbid_method == ssl_forbid_method
			ssl path is not modified

2002-02-04  Fumitoshi UKAI <ukai@debian.or.jp>

	* [w3m-dev 02980] Re: code_to_str not found ifndef JP_CHARSET
	* backend.c (get_mime_charset_name): used only ifdef JP_CHARSET

2002-02-04  Kazuhiko <kazuhiko@archi.kyoto-u.ac.jp>

	* [w3m-dev 02979] code_to_str not found ifndef JP_CHARSET
	* file.c (print_internal_information): ifdef JP_CHARSET

2002-02-03  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02967] parallel image downloading
	* fm.h (ImageCache): add touch, pid
	* image.c (getCharSize): retry fscanf
	* image.c (drawImage): retry fflush
	* image.c (MAX_LOAD_IMAGE): added, default 4
	* image.c (image_cache): change to ImageCache**
	* image.c (image_lock): added
	* image.c (load_image_handler): signal SIGUSR1
	* image.c (load_image_next): signal SIGUSR1
	* image.c (loadImage): parallel image downloading
	* image.c (getImage): initialize touch, pid
	* image.c (getImageSize): return value is TRUE or FALSE
			retry fscanf

2002-02-03  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02970] multiple -lnsl -lsocket
	* configure: merge bsdlib and extlib detection, use extlib only
		add ldflags to extlib
		(SYS_LIBRARIES): remove extlib
		(LOCAL_LIBRARIES): exlib only

2002-02-03  TSUCHIYA Masatoshi <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* [w3m-dev 02964] Print data of forms when halfdump option is set
	* backend.c (print_headers): print w3m-current-url and w3m-base-url
	* backend.c (print_formlist): deleted
	* backend.c (internal_get): remove "if (buf->formlist) {}"
	* file.c (print_internal_information): added
	* file.c (loadHTMLstream): if halfdump, print_internal_information
				if w3m_backend, print_internal_information
	* fm.h (DUMP_HALFEXTRA): added
	* main.c (-halfdump_extra): added

2002-02-01  Dai Sato  <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev 02972] #include "config.h"
	* url.c, mktable.c: fix the order of including files

2002-02-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02968] fix problem with Netscape-Enterprise WWW-authenticate
	* file.c (findAuthentication): token is case insensitive

2002-02-01  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02961] halfdump image is not consistent
	* file.c (flushline): check f
	* file.c (do_blankline): fix blanklink conditions

2002-02-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* gcc -Wall -Werror safe
	* anchor.c (addMultirowsImg): unused variable: fi
	* display.c (redrawLineImage): unused variable: ncol
	* file.c (process_img): uninitialized variables: r2, ni, w0, i0, ismap
			unused variable: url, ext
	* file.c (loadHTMLstream): need volatile image_flag
	* image.c (image_index): int
	* image.c (getCharSize): need prototype
	* image.c (getImage): uninitialized variable: key
			return NULL
	* map.c (follow_map_menu): used only USE_IMAGE: px, py, map
	* map.c (newMapArea): used only USE_IMAGE: p, i, max
	* proto.h (addMultirowsImg): added
	* w3mimgdisplay.c (main): format string fix
	* w3mimgdisplay.c (DrawImage): need (Pixmap) cast

	* inflate.c: indent

2002-02-01  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* w3m-img merge (w3m-0.2.4+cvs-1.278-img-2.2.patch.gz)
	* NEWS: w3m-img merge
	* .cvsignore: add w3mimgdisplay, w3mimgsize
	* XMakefile: add image.c to SRCS 
		     add image.o to OBJS
	             add IMGDISPLAY, IMGSIZE
	* config.h.dist: USE_IMAGE, IMGSIZE, IMGDISPLAY
	* configure: add find_imlib
			ask use_image
		(config.h) add $imgtarget to EXT_TARGETS
			   $def_use_image
			   IMGSIZE, IMGDISPLAY
	* fm.h (MAX_IMAGE): added
	* fm.h (DEFAULT_PIXEL_PER_CHAR): fix for USE_IMAGE
	* fm.h (DEFAULT_PIXEL_PER_LINE): added
	* fm.h (B_REDRAW_IMAGE): added
	* fm.h (IMG_FLAG_SKIP): added
	* fm.h (IMG_FLAG_AUTO): added
	* fm.h (IMG_FLAG_START): added
	* fm.h (IMG_FLAG_STOP): added
	* fm.h (IMG_FLAG_NEXT): added
	* fm.h (IMG_FLAG_UNLOADED): added
	* fm.h (IMG_FLAG_LOADED): added
	* fm.h (IMG_FLAG_ERROR): added
	* fm.h (MapArea): added
	* fm.h (MapList): s/urls/alts/, add area
	* fm.h (ImageCache): added
	* fm.h (Image): added
	* fm.h (Anchor): add image
	* fm.h (Buffer): add imarklist, image_flag, need_reshape
	* fm.h (RG_FRAME_SRC): added
	* fm.h (ALIGN_MIDDLE): added
	* fm.h (ALIGN_TOP): added
	* fm.h (ALIGN_BOTTOM): added
	* fm.h (QuietMessage): added
	* fm.h (Imgdisplay): added
	* fm.h (Imgsize): added
	* fm.h (activeImage): added
	* fm.h (displayImage): added
	* fm.h (autoImage): added
	* fm.h (useExtImageViewer): added
	* fm.h (image_source): added
	* fm.h (view_unseenobject): change default if USE_IMAGE
	* fm.h (set_pixel_per_char): added
	* fm.h (pixel_per_line): added
	* fm.h (set_pixel_per_line): added
	* fm.h (image_scale): added
	* proto.h (dispI): added
	* proto.h (stopI): added
	* proto.h (deleteImage): added
	* proto.h (getAllImage): added
	* proto.h (loadImage): added
	* proto.h (getImage): added
	* proto.h (getImageSize): added
	* proto.h (process_img): add width arg
	* proto.h (loadImageBuffer): added
	* proto.h (follow_map_menu): add a_img arg
	* proto.h (getMapXY): added
	* proto.h (newMapArea): added
	* proto.h (touch_cursor): added
	* proto.h (cURLcode): added
	* proto.h (initImage): added
	* proto.h (termImage): added
	* proto.h (addImage): added
	* proto.h (drawImage): added
	* proto.h (clearImage): added
	* anchor.c (addMultirowsImg): added
	* buffer.c (discardBuffer): deleteImage if USE_IMAGE
	* buffer.c (reshapeBuffer): buf->need_reshape check
	* display.c (fmTerm): if activeImage, stop load image
	* display.c (fmInit): if displayImage, initImage
	* display.c (image_touch): added
	* display.c (draw_image_flag): added
	* display.c (redrawLineImage): added
	* display.c (displayBuffer): buf->need_reshape = TRUE
				mode == B_REDRAW_IMAGE
				image flag checks
				force redraw image in mode == B_REDRAW_IMAGE
				displayBuffer if need reshape
				drawImage
	* display.c (redrawNLine): redrawLineImage
	* display.c (redrawLineImage): added
	* display.c (disp_message_nsec): return immediately if QuietMessage
	* etc.c (reset_signals): ignore SIGUSR1
	* file.c (frame_source): added
	* file.c (_MoveFile): added
	* file.c (cur_baseURL): added
	* file.c (cur_document_code): added
	* file.c (cur_iseq): added
	* file.c (loadGeneralFile): fix fmInitialized and prevtrap checks
				save cur_baseURL
				image_source load
				loadImageBuffer for "image/*"
				frame_source flag
				fix b->type when proc is loadImageBuffer
	* file.c (process_img): add width arg
			parse height and width attr, align
			fix for inline-image
	* file.c (process_input): fix for form <input type="image">
	* file.c (HTMLtagproc1): pass h_env->limit to process_img()
			fix <img_alt> for inline-image
			save cur_baseURL
	* file.c (HTMLlineproc2body): fix <img_alt> for inline-image
	* file.c (loadHTMLstream): fix for inline-image
			fix fmInitialized and prevtrap checks
			save cur_document_code
			save image_flag
	* file.c (loadGopherDir): save cur_document_code
			fix fmInitialized and prevtrap checks
	* file.c (loadImageBuffer): added for inline-image
	* file.c (save2tmp): fix fmInitialized and prevtrap checks
	* frame.c (frame_download_source): set RG_FRAME_SRC flag
			image check
	* funcname.tab (DISPLAY_IMAGE): added
	* funcname.tab (STOP_IMAGE): added
	* html.c (ALST_IMG): add align, ismap
	* html.c (ALST_AREA): add shape, coords
	* html.c (ALST_IMG_ALT): add width, height, usemap, ismap, hseq,
				xoffset, yoffset, top_margin, bottom_margin
	* html.c (AttrMap): add shape, coords, ismap, xoffset, yoffset
	* html.h (ATTR_SHAPE): added
	* html.h (ATTR_COORDS): added
	* html.h (ATTR_ISMAP): added
	* html.h (ATTR_XOFFSET): added
	* html.h (ATTR_YOFFSET): added
	* html.h (ATTR_TOP_MARGIN): added
	* html.h (ATTR_BOTTOM_MARGIN): added
	* html.h (SHAPE_UNKNOWN): added
	* html.h (SHAPE_DEFAULT): added
	* html.h (SHAPE_RECT): added
	* html.h (SHAPE_CIRCLE): added
	* html.h (SHAPE_POLY): added
	* image.c: added
	* main.c (fversion): add USE_IMAGE
	* main.c (fusage): -ppl option
	* main.c (MAIN): set_pixel_per_char if ppc specified
			-ppl option
			loadImage
	* main.c (pushBuffer): deleteImage
	* main.c (quitfm): termImage
	* main.c (selBuf): deleteImage
	* main.c (followA): fix for inline-image and map area
	* main.c (query_from_followform): getMapXY()
	* main.c (setOpt): displayBuffer B_REDRAW_IMAGE
	* main.c (follow_map): fix calculate x, y
	* main.c (dispI): added
	* main.c (stopI): added
	* map.c: include <math.h>
	* map.c (inMapArea): added
	* map.c (follow_map_menu): add a_img arg to handle inline-image
	* map.c (follow_map_panel): use MapArea
	* map.c (getMapXY): added
	* map.c (newMapArea): added
	* menu.c (smChBuf): deleteImage
	* parsetagx.c (toAlign): align top, bottom, middle
	* rc.c (P_SCALE): added
	* rc.c (CMT_PIXEL_PER_LINE): added
	* rc.c (CMT_DISP_IMAGE): added
	* rc.c (CMT_AUTO_IMAGE): added
	* rc.c (CMT_EXT_IMAGE_VIEWER): added
	* rc.c (CMT_IMAGE_SCALE): added
	* rc.c (CMT_IMGDISPLAY): added
	* rc.c (CMT_IMGSIZE): added
	* rc.c (show_param): P_PIXELS
	* rc.c (set_param): P_PIXELS
	* rc.c (sync_with_option): initImage
	* rc.c (to_str): P_PIXELS
	* table.c (feed_table_tag): fix <img> for inline-image
	* tagtable.tab (image): added
	* terms.c (wgetch): retry read when EINTR or EAGAIN
	* terms.c (touch_cursor): added
	* w3mimgdisplay.c: added
	* w3mimgsize.c: added
	* doc/README.func (DISPLAY_IMAGE): added
	* doc/README.func (STOP_IMAGE): added
	* doc/README.img: added
	* doc-jp/README.func (DISPLAY_IMAGE): added
	* doc-jp/README.func (STOP_IMAGE): added
	* doc-jp/README.img: added
	* scripts/w3mhelp.cgi.in: show dispI, stopI
	* scripts/multipart/multipart.cgi.in: inline image support
	
2002-02-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.5+cvs

2002-01-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.5
	* version.c.in: update
	* doc/README: version 0.2.5, release date
	* doc-jp/README: ditto
	* NEWS: update

2002-01-31  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02960] inflate without memmove()
	* inflate.c: rewrite without memmove()

2002-01-31  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* inflate.c: support raw deflate without zlib header

2002-01-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02955] compression_decoders error message
	* file.c (uncompress_stream): redirect stderr 
	* inflate.c (main): print error message

2002-01-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02949] fix for #undef USE_MIGEMO
	* main.c (dispincsrch): need #ifdef USE_MIGEMO

2002-01-31  Fumitoshi UKAI <ukai@debian.or.jp>

	* [w3m-dev 02946] toggle migemo
	* fm.h (migemo_active): added
	* proto.h (inputLineHistSearch): add arg `prop' to incrfunc()
	* linein.c (inputLineHistSearch): ditto
	* main.c (isrch): ditto
	* main.c (dispincsrch): ditto
			C-\ toggle migemo
			underline when migemo is active
	* search.c (migemo_active): deleted
	* search.c (migemo_running): added
	* search.c (init_migemo): migemo_running
	* search.c (migemostr): ditto
	* search.c (forwardSearch): migemo_active > 0
	* search.c (backwardSearch): ditto

2002-01-31  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02942] Digest qop=auth support
	* file.c (http_auth): add request to cred() arg
	* file.c (AuthBasicCred): ditto
	* file.c (AuthDigestCred): ditto
	* file.c (AuthDigestCred): support algorithm=MD5, MD5-sess
			qop=auth, auth-int
	* file.c (qstr_unquote): return NULL if input is NULL
	* file.c (none_auth_param): added
	* file.c (findAuthentication): skip weak or unknown auth
	* file.c (getAuthCookie): add request to arg
	* file.c (loadGeneralFile): add request to getAuthCookie()

2002-01-31  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02934] add auth cookie with unquoted realm
	* file.c (loadGeneralFile): need unquote realm

2002-01-31  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02933] segmentation fault when w3m -dump https:
	* file.c (readHeader): use inputAnswer()
	* file.c (getAuthCookie): remove term_cbreak()
	* file.c (checkOverWrite): use inputAnswer()
	* file.c (inputAnswer): added
	* istream.c (ssl_get_certificate): use inputAnswer()
	* main.c (qquitfm): change prompt 
	* proto.h (inputAnswer): added

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02931] use POST in multipart.cgi
	* scripts/multipart/multipart.cgi.in: support POST method

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02930] Re: fixed w3mmail.cgi
	* scripts/w3mmail.cgi.in (lang_header_default): [=_?] should be encoded
	* scripts/w3mmail.cgi.in (lang_body_default): '=' should be encoded

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02929] Re: fixed w3mmail.cgi
	* file.c (openPagerBuffer): use content_charset as document_code
	* file.c (getNextPage): code is document_code or DocumentCode

2002-01-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02928] RFC2617: HTTP Digest authentication
	* NEWS: RFC2617: HTTP Digest authentication
	* config.h.dist (USE_DIGEST_AUTH): added
	* configure (use_digest_auth): added, enabled when openssl found
				(because it used openssl/md5.h)
	* file.c (auth_param): added
	* file.c (http_auth): added
	* file.c (extract_auth_val): added
	* file.c (qstr_unquote): added
	* file.c (extract_auth_param): added
	* file.c (get_auth_param): added
	* file.c (AuthBasicCred): added
	* file.c (digest_hex): added
	* file.c (AuthDigestCred): added
	* file.c (basic_auth_param): added
	* file.c (digest_auth_param): added
	* file.c (www_auth): added
	* file.c (findAuthentication): added
	* file.c (getAuthCookie): rewrite, use http_auth
	* file.c (loadGeneralFile): HRequest hr
	* file.c (loadGeneralFile): use findAuthentication, new getAuthCookie
	* proto.h (HTTPrequestMethod): added
	* proto.h (HTTPrequestURI): added
	* proto.h (openURL): add `hr' arg
	* url.c (HTTPrequestMethod): added
	* url.c (HTTPrequestURI): added
	* url.c (HTTPrequest): use HTTPrequestMethod and HTTPrequestURI
	* url.c (openURL): add `hr' arg

2002-01-30  SASAKI Takeshi <sasaki@ct.sakura.ne.jp>

	* [w3m-dev 02927] mailto: POST method with w3mmail.cgi
	* file.c (loadGeneralFile): pass request even if SCM_UNKNOWN 
			(for external URI loader)
	* scripts/w3mmail.cgi.in: support POST method

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02926] fixed w3mmail.cgi
	* scripts/w3mmail.cgi.in: dont MIME encode for preview
	* scripts/w3mmail.cgi.in (lang_body): add 7bit/8bit flag arg
	* scripts/w3mmail.cgi.in: fix hidden from value
	* scripts/w3mmail.cgi.in (lang_setup): check $LC_ALL, $LC_CTYPE
	* scripts/w3mmail.cgi.in (lang_header_default): fix MIME encode word

2002-01-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02920] don't use inttypes.h and/or stdint.h
	* mktable.c: remove inttypes.h, uintptr_t, use unsigned long instead
	* configure: remove inttypes.h detection
	* config.h.dist: remove HAVE_INTTYPES_H

2002-01-29  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02921] use inttypes.h instead of stdint.h
	* configure: check inttypes.h instead of stdint.h
	* config.h.dist: s/STDINT_H/INTTYPES_H/
	* mktable.c: use inttypes.h instead of stdint.h

2002-01-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02919] no need of width
	* scripts/w3mmail.cgi.in: no need width=80 for header field name

2002-01-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02919] wrong table width calculation
	* table.c (set_table_matrix0): refine width calculation

2002-01-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02918] fixed scripts/w3mmail.cgi.in
	* scripts/w3mmail.cgi.in: add width=80 for header field name
	* scripts/w3mmail.cgi.in (url_unquote): use pack instead of chr

2002-01-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02914]
	* history.c (copyHist): added
	* history.h (copyHist): ditto
	* main.c (goURL0): copyHist(URLHist), push current and anchor URLs
		default set by DefaultURLString

2002-01-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02913] wrong table width calculation
	* table.c (set_table_matrix0): refine width calculation

2002-01-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02875] rendering a table with inconsistent colspan,rowspan
	* table.c (feed_table_tag): don't clear HTT_X|HTT_Y 
		instead, if set these flags, break the loop

2002-01-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02909] wrong table width calculation (sf.net Bug#506949)
	* table.c (correct_table_matrix4): added
	* table.c (set_table_matrix0): use correct_table_matrix4()

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02908] document code of frame
	* frame.c (renderFrame): save document_code if JP_CHARSET

2002-01-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02904]
	* rc.c (N_STR): use cpp stringification

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02902] mouse inactive after calling some command with ALARM.
	* main.c (SigAlarm): mouse_inactive() and mouse_active()

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02901] Default URL for GOTO*
	* fm.h (DEFAULT_URL_*): added
	* fm.h (DefaultURLString): added
	* main.c (cmd_loadURL): add arg `referer'
	* main.c (goURL0): 2nd arg is `relative' flag
		check DefaultURLString
		if relative, then current and referer is set
	* main.c (ldhelp): cmd_loadURL arg changes
	* main.c (deletePrevBuf): ditto
	* main.c (cmd_loadBuffer): ditto
	* main.c (adBmark): ditto
	* main.c (follow_map): ditto
	* rc.c (CMT_DEFAULT_URL): added
	* rc.c (defaulturls): added
	* rc.c (params9): add "default_url"

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02901] DNS_ORDER_*
	* fm.h (DNS_ORDER_*): added
	* rc.c (dnsorders): use N_S(DNS_ORDER_*)

2002-01-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>
	
	* [w3m-dev 02901] ACCEPT_BAD_COOKIE_*
	* file.c (readHeader): accept_bad_cookie is one of ACCEPT_BAD_COOKIE_*
	* fm.h (PERHAPS): deleted
	* fm.h (ACCEPT_BAD_COOKIE_*): added
	* rc.c (n_s): added
	* rc.c (N_S): added
	* rc.c (badcookiestr): use N_S(ACCEPT_BAD_COOKIE_*)

2002-01-24  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02896] fid attr value should be in sequence
	* table.c (feed_table_tag): s/line/""/ for HTML_FORM,HTML_N_FORM

2002-01-24  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02894] Re: goURL
	* file.c (HTMLtagproc1): s/goURL/gorURL/
	* keybind.c (EscKeymap): M-u = GOTO_RELATIVE
	* keybind_lynx.c (EscKeymap): ditto
	* doc/keymap.default: ditto
	* doc/keymap.lynx: ditto
	* doc-jp/keymap.default: ditto
	* doc-jp/keymap.lynx: ditto
	* main.c (MAIN): add $HTTP_HOME or $WWW_HOME to history 
	* main.c (MAIN): add history even if it is local file or local cgi
	* main.c (goURL0): change args, def_url -> current
	* main.c (goURL0): delete ParsedURL *b_url
	* main.c (goURL0): add Buffer *cur_buf
	* main.c (goURL0): if current is supplied, use its URL as default
	* main.c (goURL0): add URL to history if loadURL succeeded
	* main.c (goURL): change args for goURL0()
	* main.c (gorURL): ditto

2002-01-23  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02889] fix scripts/multipart/multipart.cgi.in
	* scripts/multipart/multipart.cgi.in: return "" instead of next

2002-01-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02885] Re: goURL
	* funcname.tab (GOTO_RELATIVE): added
	* main.c (goURL0): renamed from goURL
		don't add http:// here, if base URL is NULL, cmd_loadURL()
		will add http:// when necessary
	* main.c (goURL): go to URL with current URL
	* main.c (gorURL): go to relative URL
	* proto.h (gorURL): added
	* doc/README.func (GOTO_RELATIVE): added
	* doc-jp/README.func (GOTO_RELATIVE): ditto

2002-01-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00670] GOTO behavior change
	* main.c (goURL): default URL is current URL
		if retry_http specified, and inputed URL is not absolute URL
		add http:// to top of url
	
	* linein.c (InputKeymap): C-w as backword-kill-word

2002-01-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02880] URI_PATTERN
	* url.c (URI_PATTERN): better match for % hex hex
	* url.c (chkExternalURIBuffer): don't use URI_PATTERN as format string

2002-01-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02879] reset signals
	* etc.c (reset_signals): added
	* etc.c (mySystem): use reset_signals()
	* file.c (uncompress_stream): use reset_signals()
	* proto.h (reset_signals): added
	* search.c (init_migemo): kill by SIGKILL
	* search.c (open_migemo): use reset_signals()

2002-01-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* url.c (URI_PATTERN): remove \

2002-01-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02878] fix regexp [-...], [...-], []...]
	* regexp.c (newRegex0): if first char is `-' or ']' after '[', 
		it isn't meta char.
		if last char in [..] is `-', it isn't meta char.

2002-01-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02877] some fixes for urimethodmap
	* config.h.dist (RC_DIR): remove tailing /
	* configure (mailer): if use_w3mmailer = y, don't ask mailer
	* configure (RC_DIR): remove tailing /
	* fm.h (Mailer): ifndef USE_W3MMAILER
	* main.c (MAIN): ifndef USE_W3MMAILER getenv("MAILER")
	* rc.c ("mailer"): ifndef USE_W3MMAILER
	* regex.c (newRegex0): \ escape kanji chars
	* url.c (searchURIMethods): need escape for - 
	* scripts/w3mmail.cgi.in: move $url, $qurl
	* scripts/w3mmail.cgi.in: url_unquote $to

2002-01-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02876] w3mmail.cgi.in backport from w3mmee
	* action='file://$0'
	* don't add \n to $body's tail
	* $body =~ s/\r+\n/\n/g;
	* s/@cmd/@opt/
	* url_unquote: + should be unquote too

2002-01-18  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02873] delete "decode MIME-body" in doc{,-jp}/README
	* doc-jp/README: delete "decode MIME-body"
	* doc/README: ditto

2002-01-18  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 02872] EWS4800 sh doesn't work ${param-word}
	* configure (use_migemo): change migemo URL
	* configure (def_migemo_command): fix for EWS4800
	* configure (def_image_viewer): ditto
	* configure (def_audio_player): ditto

2002-01-18  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02871] ignore SIGCHLD (for at least EWS4800)
	* search.c (open_migemo): signal(SIGCHLD, SIG_IGN);

2002-01-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02870] don't kill migemo by SIGINT 
	* main.c (w3m_exit): init_migemo() to kill migemo 
	* search.c: #include <unistd.h>
	* search.c (migemo_active): added
	* search.c (migemo_pid): added
	* search.c (init_migemo): migemo_active = use_migemo
	* search.c (init_migemo): kill migemo_pid
	* search.c (open_migemo): s/pid/migemo_pid/
	* search.c (open_migemo): setpgrp()
	* search.c (open_migemo): s/use_migemo/migemo_active/
	* search.c (migemostr): ditto
	* search.c (forwardSearch): ditto
	* search.c (backwardSearch): ditto

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02867] mark URL for external URIs
	* main.c (chkURLBuffer): chkExternalURIBuffer()
	* proto.h (chkExternalURIBuffer): added
	* url.c (chkExternalURIBuffer): added

2002-01-17  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02866]
	* search.c: #include <signal.h>
	* search.c (open_migemo): ignore SIG_INT for migemo process
	* search.c (open_migemo): close_tty()
	* search.c (open_migemo): use execl() instead of system()
	
2002-01-17  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02865]
	* search.c (open_migemo): add flush_tty()

2002-01-17  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02864] def_migemo_command
	* configure (def_migemo_command): default is
		migemo -t egrep /usr/local/share/migemo/migemo-dict

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02863] discard migemo error message
	* search.c (open_migemo): close stderr

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02862] SIGPIPE for migemo support
	* main.c (SigPipe): added
	* main.c (MAIN): signal(SIGPIPE, )
	* search.c: #include <errno.h>
	* search.c (migemostr): check fflush() error
	* search.c (migemostr): check result string (empty is err)
	* search.c (migemostr): if error occured, disable use_migemo

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02861] IPv6 configuration check
	* configure: force "#define INET6" if socket(AF_INET6, SOCK_STREAM, 0)
			failed but use_ipv6=y in config.param

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02859]
	* config.h.dist (DEF_MIGEMO_COMMAND): added
	* configure (DEF_MIGEMO_COMMAND): added
	* fm.h (migemo_command): initial value is DEF_MIGEMO_COMMAND
	* main.c (migemostr): remove here, move search.c
	* main.c (srchcore): dont migemostr() here
	* proto.h (init_migemo): added
	* rc.c (sync_with_option): init_migemo()
	* search.c (init_migemo): added
	* search.c (open_migemo): added
	* search.c (migemostr): communicate background migemo
	* search.c (forwardSearch): if regexCompile for migemostr failed, 
		try original str
	* search.c (backwardSearch): ditto

2002-01-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02855]
	* main.c (dispincsrch): for C-s C-s, revert some changes

2002-01-17  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02854] highlight for incremental search
	* NEWS: highlight for incremental search
	* display.c (EFFECT_MARK_START): added
	* display.c (EFFECT_MARK_END): added
	* display.c (EFFECT_MARK_START_C): added
	* display.c (EFFECT_MARK_END_C): added
	* display.c (EFFECT_MARK_START_M): added
	* display.c (EFFECT_MARK_END_M): added
	* display.c: define_effect for MARK_{START,END}
	* display.c (mark_mode): added
	* display.c (redrawLine): if mark_mode
	* display.c (do_effects): do_effect2(PE_MARK, ...)
	* display.c (do_effects): do_effect1(PE_MARK, ...)
	* fm.h (P_EFFECT): changed to 0x01ff
	* fm.h (PE_MARK): moved
	* fm.h (mark_color): added
	* linein.c (inputLineHistSearch): incrfunc(int ch, Str str)
	* main.c (clear_mark): added
	* main.c (dispincsrch): remove arg `x', `y'
	* main.c (dispincsrch): move SAVE_BUFPOSITION()
	* main.c (srch): if (result & SR_FOUND) clear_mark()
	* main.c (cmd_mark): PE_MARK
	* main.c (nextMk): s/PM_MARK/PE_MARK/
	* main.c (prevMk): s/PM_MARK/PE_MARK/
	* proto.h (inputLineHistSearch): change prototype incfunc()
	* rc.c (CMT_MARK_COLOR): added
	* rc.c (params2): add "mark_color"
	* search.c (set_mark): added
	* search.c (forwardSearch): use set_mark()
	* search.c (backwardSearch): use set_mark()

2002-01-16  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02851]
	* regex.c (newRegex0): fix return NULL;

2002-01-16  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 02847]
	* menu.c (initSelectMenu): use /* */ instead of //

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02846]
	* regex.c (newRegex0): check msg

2002-01-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02845]
	* regex.c (newRegex0): check regex->storage[STORAGE_MAX]

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02843] w3mmail.cgi.in update
	* scripts/w3mmail.cgi.in: add $SENDMAIL_OPT
		change html

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02841] migemo patch
	* NEWS: migemo support
	* config.h.dist (USE_MIGEMO): added
	* configure: add use_migemo
	* fm.h (use_migemo): added
	* fm.h (migemo_command: added
	* main.c (fversion): add "migemo"
	* main.c (migemostr): added
	* main.c (srchcore): if use_migemo, use migemostr
	* rc.c (CMT_USE_MIGEMO): added
	* rc.c (CMT_MIGEMO_COMMAND): added
	* rc.c (params3): add use_migemo, migemo_command

2002-01-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* main.c (fversion): add "external-uri-loader,w3mmailer"

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02840]
	* scripts/w3mmail.cgi.in: use LOCAL_COOKIE
	* scripts/w3mmail.cgi.in: no need HTTP response header
	* scripts/w3mmail.cgi.in: fix typo $nkf_NKF
	* scripts/w3mmail.cgi.in: eval { use NKF; } is perl5ism
	* scripts/multipart/multipart.cgi.in: ditto

2002-01-16  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02835]
	* rc.c: move label_topline, nextpage_topline from param3 to param1
		param7 is SSL Setting

2002-01-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02834] mailto: use external program
	* NEWS: use w3mmail.cgi for mailto: URL
	* configure: add use_w3mmailer
	* frame.c (createFrameFile): ifndef USE_W3MMAILER
	* main.c (followA): ifndef USE_W3MMAILER
	* main.c (cmd_loadURL): ifndef USE_W3MMAILER
	* url.c (schemetable): ifndef USE_W3MMAILER, mailto: become SCM_UNKNOWN
	* url.c (parseURL2): ifndef USE_W3MMAILER
	* url.c (_parsedURL2Str): ifndef USE_W3MMAILER
	* url.c (default_urimethods): added
	* url.c (searchURIMethods): check default_urimethods
	* scripts/Makefile: add w3mmail.cgi
	* scritps/w3mmail.cgi.in: added
	* scripts/.cvsignore: ignore w3mmail.cgi

2002-01-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* file.c (loadGeneralFile): return NULL, not NO_BUFFER

2002-01-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02833] ssl_forbid_method in SSL Setting
	* rc.c (params7): ssl_forbid_method moved here
	* rc.c (params8): ssl_forbid_method removed here
	* rc.c (sections): params7 ifdef USE_SSL

2002-01-15  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02832] external URI loader support
	* NEWS: support external URI loader
	* config.h.dist (USE_EXTERNAL_URI_LOADER): added
	* config.h.dist (USER_URIMETHODMAP): added
	* config.h.dist (SYS_URIMETHODMAP): added
	* configure: ask use_external_uri_loader
	* file.c (loadGeneralFile): return NO_BUFFER, not NULL
	* file.c (loadGeneralFile): add SCM_UNKNOWN for USE_EXTERNAL_URI_LOADER
	* fm.h (urimethodmap_files): added
	* menu.c (initSelectMenu): SCM_UNKNOWN comment out
	* proto.h (initURIMethods): added
	* proto.h (searchURIMethods): added
	* rc.c (CMT_URIMETHODMAP): added
	* rc.c (params6): add urimethodmap
	* rc.c (sync_with_option): add initURIMethods()
	* url.c (parseURL): if SCM_UNKNOWN, url is saved in pu->file
	* url.c (_parsedURL2Str): if SCM_UNKNOWN, url is in pu->file
	* url.c (urimethods): added
	* url.c (loadURIMethods): added
	* url.c (initURIMethods): added
	* url.c (searchURIMethods): added

2002-01-13  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02828]
	* url.c (_parsedURL2Str): add '/' at the end when scheme is SCM_FTPDIR

2002-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02829]
	* file.c (loadGeneralFile): return NO_BUFFER
	* file.c (loadGeneralFile): if ssl_get_certificate() fails, 
			no buffer created
	* istream.c (ssl_certificate_validity): deleted
	* istream.c (ssl_set_certificate_validity): ditto
	* istream.c (accept_this_site): added
	* istream.c (ssl_accept_this_site): ditto
	* istream.c (ssl_check_cert_ident): 1st arg is `X509 *'
	* istream.c (ssl_get_certificate): 2nd arg is `char *hostname'
			cert check code moved here from openSSLHandle()
	* url.c (free_ssl_ctx): accept_this_site initialized
	* url.c (openSSLHandle): remove cert check code here
	
2002-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02827]
	* scripts/Makefile: use sed instead of /bin/sh while read; echo loop

2002-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02823]
	* scripts/Makefile: don't use read -r 
			because Solaris 8 for x86 doesn't work

2002-01-12  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02822] Print FTP directory list for -dump_extra option
	* file.c (loadGeneralFile): remove FTPDIRtmp, use readFTPDir() instead
		save to buf->sourcefile for -dump_extra
	* ftp.c (FTPDIRtmp): deleted
	* ftp.c (openFTP): delete readFTPDir() part
	* ftp.c (readFTPDir): added
	* proto.h (readFTPDir): added

2002-01-11  Akinori Ito <aito@fw.ipsj.or.jp>

	* [w3m-dev 02819]
	* regex.c (RegexMatch): loop condition changed (from < to <= )
	* regex.c (regmatch_iter): end condition changed (from >= to >)
	* search.c (forwardSearch): next search fix

2002-01-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02818]
	* regex.c (regmatch_iter): return 0 if out of range

2002-01-11  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02817]
	* menu.c (menuBackwardSearch): new regexMatch()

2002-01-11  aito@fw.ipsj.or.jp

	* [w3m-dev 02815]
	* cookie.c (domain_match): use new regex
	* main.c (chkURLBuffer): use new regex
	* main.c (chkNMIDBuffer): use new regex
	* menu.c (menuForwardSearch): new regexMatch()
	* regex.c (RegexMatch): negative length means whole string
	* regex.c (RegexMatch): new regmatch()
	* regex.c (regmatch_sub_anytime): add 5th arg `char *'
	* regex.c (regmatch_iter): add 4th arg `char *'
	* regex.c (regmatch): add 3rd arg `char *'
	* url.c (openSocket): use new regex

2002-01-10  aito@fw.ipsj.or.jp

	* [w3m-dev 02811] new regexp implementation
	* regex.h: remove defines
	* regex.h: struct regexchar, struct regex
	* regex.c: include stdio.h, stdlib.h, string.h, config.h
	* regex.c: remove include fm.h
	* regex.c (NULL JP_CHARSET IS_ALPHA IS_KANJI1): define unless defined
	* regex.c (RE_*) define
	* regex.c (st_ptr): deleted
	* regex.c (regmatch): remove 4th arg `int'
	* regex.c (newRegex0): rewrite, based on old newRegex
	* regex.c (newRegex): use newRegex0()
	* regex.c (RegexMatch): rewrite
	* regex.c (struct MatchingContext1): added
	* regex.c (struct MatchingContext2): added
	* regex.c (YIELD): added
	* regex.c (regmatch_sub_anytime): added
	* regex.c (regmatch_iter): added
	* regex.c (regmatch): use regmatch_iter()
	* regex.c (regmatch1): rewrite
	* regex.c (lc2c): add 2nd arg `len', rewrite

2002-01-10  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 02810]
	* scripts/Makefile: read -r
	* scripts/w3mhelp.cgi.in: fix bugs displaying "C-" only in some case

2002-01-08  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02794]
	* url.c (parseURL): cleanup
	* url.c (parseURL2): file_unquote(pu->file)

2002-01-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.4+cvs

2002-01-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.4
	* version.c.in: update
	* doc/README: version 0.2.4, release date
	* doc-jp/README: ditto
	* NEWS: update

2002-01-06  Fumitoshi UKAI <ukai@debian.or.jp>

	* [w3m-dev 02781] Re: Bug#127883: w3m tries to use xv as default
	* config.h.dist (DEF_IMAGE_VIEWER): added
	* config.h.dist (DEF_AUDIO_PLAYER): added
	* configure (def_image_viewer): added
	* configure (def_audio_player): added
	* configure (DEF_IMAGE_VIEWER): added
	* configure (DEF_AUDIO_PLAYER): added
	* mailcap.c (DefaultMailcap): use DEF_IMAGE_VIEWER, DEF_AUDIO_PLAYER

2002-01-05  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02779] `;' is valid in URL
	* main.c (chkURLBuffer): add ; 

2001-12-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02772]
	* istream.c (ssl_get_certificate): show certificate subject and issuer
	* istream.c (ssl_check_cert_ident): add missing NULL for Strcat_m_charp
	* url.c (openSSLHandle): close(sock) and SSL_free(handle) on failure

2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02770] form element outside <form>..</form>
	* main.c (_followForm): check whether parent action is "none"
	* form.c (internal_action): add "none"
	* form.c (do_internal): check internal_action[i].rout
	* file.c (process_input): check cur_form_id
	* file.c (process_select): ditto
	* file.c (process_textarea): ditto
	
2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02769] <form>..</form> as block element
	* file.c (HTMLtagproc1): CLOSE_P for <form>...</form>
	* table.c (feed_table_tag): add feed_table_block_tag for <form></form>

2001-12-28  Hironori Sakamoto <h-saka@lsi.nec.co.jp>

	* [w3m-dev 02765] backend
	* backend.c (internal_get): cleanups
	* file.c (flushline): remove w3m_backend checks
	* file.c (loadHTMLstream): add w3m_backend check
	* fm.h (backend_halfdump_str): deleted
	* fm.h (backend_halfdump_buf): added

2001-12-28  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02761]
	* file.c (loadcmdout): remove unnecessary buf check

2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02760]
	* file.c (getshell): check buf == NULL
	* main.c (execdict): check buf == NULL
		buf->type == NULL, then buf->type is set as "text/plain"

2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02759] fold textarea
	* fm.h (FoldTextarea): added
	* form.c (formUpdateBuffer): check FoldTextarea
	* rc.c (CMT_FOLD_TEXTAREA): added
	* rc.c (params1): add "fold_textarea"

2001-12-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02757]
	* main.c (execdict): w = conv_from_system(word)
	* main.c (dictword): call execdict() only

2001-12-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* url.c (openSSLHandle): accept_this_file is out of 
					#ifdef USE_SSL_VERIFY

2001-12-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02753]
	* url (ssl_verify_error_string): deleted
	* url.c (openSSLHandle): use X509_verify_cert_error_string()

2001-12-27  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02750] RFC2818 server identity check
	* istream.c (ssl_certificate_validity): added
	* istream.c (ssl_set_certificate_validity): added
	* istream.c (ssl_get_certificate): use ssl_certificate_validity
	* istream.h (ssl_set_certificate_validity): added
	* url.c (ssl_verity_error_string): added
	* url.c (openSSLHandle): add accept_this_site
	* url.c (openSSLHandle): dont check by SSL_VERIFY_PEER,
		use SSL_get_verify_result() instead
	* url.c (openSSLHandle): check peer_certificate() and then
		SSL_get_verify_result()

2001-12-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02749] cleanup code for editor,mailer,extbrowser
	* etc.c (myExtCommand): added
	* etc.c (myEditor): added
	* form.c (input_textarea): use myEditor()
	* main.c (pipeBuf): use myExtCommand()
	* main.c (editBf): use myEditor()
	* main.c (editScr): use myEditor()
	* main.c (followA): use myExtCommand()
	* main.c (cmd_loadURL): use myExtCommand()
	* main.c (invoke_browser): use myExtCommand()
	* main.c (execdict): use myExtCommand()
	* proto.h (myExtCommand): added
	* proto.h (myEditor): added

2001-12-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02748] cleanup code for restoring cursor position
	* buffer.c (reshapeBuffer): delete top, linenum, cursorY, pos, 
		currentColumn, formitem
	* buffer.c (reshapeBuffer): add sbuf and 
		use copyBuffer(), restorePosition()
	* buffer.c (reshapeBuffer): use chkURLBuffer(), chkNMIDBuffer()
	* display.c (in_check_url): deleted
	* display.c (displayBuffer): ditto
	* display.c (displayBuffer): s/Currentbuf/buf/
	* display.c (arrangeLine): ditto
	* display.c (restorePosition): added
	* fm.h (TOP_LINENUMBER): added
	* fm.h (CUR_LINENUMBER): added
	* main.c (editBf): delete type, top, linenum, cursorY, pos, 
		currentColumn
	* main.c (editBf): add sbuf and use copyBuffer(), restorePosition()
	* main.c (reload): delete type, top, linenum, cursorY, pos,
		currentColumn
	* main.c (reload): add sbuf and use copyBuffer(), restorePosition()
	* main.c (chkURLBuffer): added
	* main.c (chkURL): chkRULBuffer on Currentbuf
	* main.c (chkNMIDBuffer): added
	* main.c (chkNMID): chkNMIDBuffer on Currentbuf
	* proto.h (chkURLBuffer): added
	* proto.h (chkNMIDBuffer): added
	* proto.h (restorePosition): added

2001-12-27  "OMAE, jun" <jun-o@dai.meta.ne.jp>

	* [w3m-dev 02735]
	* indep.c (bcopy): need (chat *) cast
	* indep.c (bzero): use char * instead of void *

2001-12-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02745]
	* istream.h: #include <x509v3.h> deleted
	* istream.c: #include <x509v3.h>
	* istream.c (ssl_check_cert_ident): if subjectAltName dNSName found,
		don't try commonName

2001-12-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02743] RFC2818 server identity check
	* NEWS: RFC2818 server identity check
	* istream.c (ssl_check_cert_ident): added
	* istream.h (ssl_check_cert_ident): ditto
	* istream.h: #include <x509v3.h>
	* url.c (free_ssl_ctx): ssl_ctx = NULL
	* url.c (openSSLHandle): arg hostname to check cert id
	* url.c (openSSLHandle): check SSL_get_verify_result 
			if ssl_verify_server
	* url.c (openSSLHandle): check server identity by ssl_check_cert_ident
	* url.c (openURL): openSSLHandle with pu->host

2001-12-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02715] bugfix in scripts/multipart/multipart.cgi.in
	  was not applied
	* scripts/multipart/multipart.cgi: fix "use NKF" check

2001-12-26  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02732] fix Debian Bug#126381
	  		- Passwords entered for HTTPS are used for HTTP
	* etc.c (find_auth): add port arg
	* etc.c (find_auth_cookie): add port arg
	* etc.c (add_auth_cookie): add port arg
	* file.c (getAuthCookie): find_auth_cookie(host, port, realm)
	* file.c (loadGeneralFile): add_auth_cookie(host, port, realm, ss)
	* fm.h (struct auth_cookie): add port
	* ftp.c (openFTP): find_auth_cookie(host, port, user)
	* ftp.c (openFTP): add_auth_cookie(host, port, user, pwd)
	* proto.h (find_auth_cookie): add port
	* proto.h (add_auth_cookie): add port

2001-12-26  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02729]
	* doc-jp/README.func (DOWNLOAD): update
	* doc-jp/README.func (EDIT): ditto
	* doc-jp/README.func (EDIT_SCREEN): ditto
	* doc-jp/README.func (SAVE): ditto
	* doc/README.func (DOWNLOAD): ditto
	* doc/README.func (SAVE): ditto
	* doc/README.func (SUBMIT): ditto
	* scripts/w3mhelp.cgi.in: $key is normalized by &norm_key
	* scripts/w3mhelp.cgi.in: keyfunc update
	* scripts/w3mhelp.cgi.in (load_keymap): check data, &norm_key
	* scripts/w3mhelp.cgi.in (norm_key): added

2001-12-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#496613] LASTLINE in terms.c
	   by Kazuhiro NISHIYAMA (znz)
	* terms.c (LASTLINE): defined(__CYGWIN__) instead of defined(CYGWIN)
	* terms.c (setlinescols): ditto

2001-12-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#496610] #include <sys/wait.h>
	   by Kazuhiro NISHIYAMA (znz)
	* main.c: #if defined(HAVE_WAITPID) || defined(HAVE_WAIT3)
	* etc.c: ditto
	* file.c: ditto

2001-12-26  Kazuhiro NISHIYAMA <zn@mbf.nifty.com>

	* [w3m-dev 02725] bcopy, bzero
	* etc.c (bcopy): deleted
	* etc.c (bzero): deleted
	* indep.c (bcopy): added
	* indep.c (bzero): added
	* indep.c (bcopy): src should be const
	* fm.h (bcopy): ditto

2001-12-25  Kazuhiko <kazuhiko@archi.kyoto-u.ac.jp>
	
	* [w3m-dev 02727]
	* doc-jp/keymap.default (C-r): ISEARCH_BACK
	* doc-jp/keymap.default (C-s): ISEARCH
	* doc-jp/README.func: fix typo

2001-12-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02726] incremental search
	* NEWS: incremental search
	* fm.h (inputLineHist) define by inputLineHistSearch
	* fm.h (COPY_BUFPOTISION): added
	* fm.h (SAVE_BUFPOSITION): ditto
	* fm.h (RESTORE_BUFPOSITION): ditto
	* funcname.tab (ISEARCH): added
	* funcname.tab (ISEARCH_BACK): added
	* keybind.c (GlobalKeymap): C-s = ISEARCH, C-r = ISEARCH_BACK
	* linein.c (inputLineHistSearch): renamed from inputLineHist,
			new arg incrfunc() for increment search
	* linein.c (inputLineHistSearch): add cursorX, cursorY
	* main.c (srchcore): remove displayBuffer, onA
	* main.c (dispincsrch): added
	* main.c (isrch): ditto
	* main.c (isrchfor): ditto
	* main.c (isrchbak): ditto
	* main.c (srch): add displayBuffer, onA
	* main.c (srch_nxtprv): ditto
	* proto.h (isrchfor): added
	* proto.h (isrchbak): ditto
	* proto.h (inputLineHistSearch): renamed
	* doc/keymap.default (C-r): ISEARCH_BACK
	* doc/keymap.default (C-s): ISEARCH
	* doc/README.func (ISEARCH): added
	* doc/README.func (ISEARCH_BACK): ditto
	* doc-jp/README.func (ISEARCH): added
	* doc-jp/README.func (ISEARCH_BACK): ditto

2001-12-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02723] cleanup resizing
	* main.c (resized): renamed to need_resize_screen
	* main.c (need_resize_screen): added
	* main.c (resize_hook): prototype here
	* main.c (resize_handler): ditto
	* main.c (MAIN): move signal initialization
	* main.c (MAIN): remove duplicate signal initialization
	* main.c (resize_screen): added
	* proto.h (resize_hook): deleted
	* terms.c (mouse_init): remove signal

2001-12-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02721]
	* main.c (resize_handler): added
	* main.c (MAIN): use resize_handler in getch()

2001-12-25  WATANABE Katsuyuki <katsuyuki_1.watanabe@toppan.co.jp>
	
	* [w3m-dev 02714] 
	* scripts/w3mhelp.cgi.in: $helpdir should be handled by cygwin_pathconv
		when $CYGPATH=1

2001-12-25  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02715] bugfix in scripts/multipart/multipart.cgi.in
	* scripts/multipart/multipart.cgi: fix "use NKF" check

2001-12-25  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02719] (based on [w3m-dev 02708] comments)
	* resize_hook: set resized flag only
	* main.c (MAIN): in key input loop, process resize 
		when resized flag is set

2001-12-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02702] fix problem with emacs-w3m in [w3m-dev 02699]
	* main.c (MAIN): remove some flag initialization, its too early?
		this code caused problem with emacs-w3m.

2001-12-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02700] search refactoring
	* based on http://www.nmn.jp/~hidai/software/w3m/
	* fm.h: add SR_* constants, result value for search
	* main.c (srchcore): added
	* main.c (disp_srchresult): added
	* main.c (srch): added
	* main.c (srchfor): use srch()
	* main.c (srchbak): use srch()
	* main.c (srch_nxtprv): use srchcore() & disp_srch_result()
	* search.c (forwardSearch): return SR_* result value
	* search.c (backwardSearch): ditto

2001-12-23  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02699] initialization too late
	* main.c (MAIN): initializations moved before arg processing
	* debian bug closes: Bug##102445: ignores SIGWINCH while downloading

2001-12-22  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02696]
	* configure: fix bashism of w3mhelp-{lynx,w3m}_{en,ja} expansion

2001-12-22  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev 02687] version number in w3mhelp-*.html (+[w3m-dev 02689])
	* configure (cur_ver): w3mhelp*.html version subst
	* w3mhelp*.html: deleted
	* w3mhelp*.html.in: added

2001-12-22  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02682]
	* doc/README: remove README.dj
	* doc-jp/README.hp: deleted

2001-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02692] w3m on linux/ia64
	* mktable.c: #include "config.h"
	* mktable.c: #include "stdint.h" or uintptr_t typedef
	* mktable.c: use uintptr_t instead of unsigned int
	* configure: check pthread on linux
	* configure: add gc_cflags for linux/ia64,alpha,s390
	* configure: check stdint.h
	* configure (config.h): add $pthreadlib to GCLIB
	* configure (config.h): add $def_have_stdint_h
	* config.h.dist (HAVE_STDINT_H): added
	* Str.c: add #include <stdlib.h> for exit() on some platform (ia64)

2001-12-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02690] RC_DIR in scripts
	* configure (config.h): add RC_DIR
	* config.h.dist: ditto
	* XMakefile: pass RC_DIR
	* scripts/Makefile: subst RC_DIR
	* scripts/dirlist.cgi.in: $RC_DIR initial value
	* scripts/w3mhelp.cgi.in: ditto
	* scripts/w3mhelp.cgi.in (cygwin_pathconv): added

2001-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.3.2+cvs

2001-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3.2 - Security fix in w3m/scripts
	* version.c.in: update
	* w3mhelp-*.html: version 0.2.3.2
	* doc/README: version 0.2.3.2, release date
	* doc-jp/README: ditto
	* NEWS: added

2001-12-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* scripts/w3mhelp.cgi.in: lang=[a-z][a-z] only

2001-12-22  Hironori Sakamoto <h-saka@lsi.nec.co.jp>

	* Security hole in multipart.cgi.in, w3mman2html.cgi.in
	* scripts/w3mhelp.cgi.in: open(F, "< $var") instead of open(F, $var)
	* scripts/w3mhelp.cgi.in: fix eval qq{require ...};
	* scripts/multipart/multipart.cgi.in: ditto
	* scripts/w3mman/w3mman2html.cgi.in: validate $keyword, $section, $man

2001-12-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev-en 00656]
	* helpdir default is PREFIX/share/w3m

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.3.1-cvs

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3.1
	* version.c.in: update
	* w3mhelp-*.html: version 0.2.3.1
	* doc/README: version 0.2.3.1, release date
	* doc-jp/README: ditto

2001-12-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02683]
	* configure (def_param): fix wrong behavior unless variable initialized
	* configure (def_param): fix unnecessary eval
	* configure (ask_choice): ditto

2001-12-20  Dai Sato  <satodai@dog.intcul.tohoku.ac.jp>

	* w3mhelp-*.html, doc/README, doc-jp/README: 
	* fix version number to 0.2.3.

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* version.c.in: 0.2.3-cvs

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3 release
	* version.c.in: update

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3 release condidate 3
	* configure (use_bundled_gclib): added

2001-12-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* w3m 0.2.3 release candidate 2
	* [w3m-dev 02678]
	* configure: get mygcversion from gc/version.h
	* Makefile: update GCLIBTGZ

2001-12-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3m 0.2.3 release candidate 1
	* gc/: sync with w3m-0.2.2-inu-1.1/gc
	* Patches/ews4800: deleted
	* configure: comment out Patches/ews4800

2001-12-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02655] print version and compile options
	* configure: change order of questions
	* main.c (fversion): added
	* main.c (fusage): use fversion()
	* main.c (fusage): add -help, -version
	* main.c (MAIN): add -help, -version

2001-12-20  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02672]
	* main.c (wrap_GC_warn_proc): msg_ring initial value
	* main.c (SigAlarm): not need #ifdef USE_ALARM, already guarded

2001-12-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#493911] too few arguments to function `longjmp' 
		by Kazuhiro NISHIYAMA (znz)
	* configure (LONGJMP): need val argument

2001-12-18  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#493906] missing #ifdef by Kazuhiro NISHIYAMA (znz)
	* main.c (sig_chld): #ifdef SIGCHLD
	* main.c (SigAlarm): #ifdef USE_ALARM

2001-12-18  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02670]
	* table.c (maximum_visible_length): use strchr()
	* table.c (do_refill): use force==2 mode for flushline()

2001-12-18  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02669] delete cURLcode()
	* main.c (cURLcode): deleted
	* main.c (loadNormalBuf): no need to use cURLcode()
	* main.c (followI): ditto
	* main.c (query_from_followform): need conv_form_encoding()

2001-12-18  Rin Okuyama <okuyama@cna.ne.jp>

	* [w3m-dev 02668] install-sh: -e option of sh(1)
	* install-sh: add set -e

2001-12-18   Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02667]
	* terms.c (mouse_init): #ifdef SIGWINCH guard

2001-12-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02666] resizing on xterm with gpm support
	* terms.c (mouse_init): check Gpm_Open return value, signal(SIGWINCH)

2001-12-16  Rin Okuyama <okuyama@cna.ne.jp>

	* [w3m-dev 02664] install-sh -s option
	* XMakefile: install-sh -s
	* install-sh: support strip option

2001-12-15  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02663] fix prevA() cause loop
	* table.c (do_refill): force flushline
	* table.c (feed_table_tag): push line if <a> has no href attr

2001-12-15  Rin Okuyama <okuyama@cna.ne.jp>

	* [w3m-dev 02659] rc.c (show_srch_str)
	* fm.h (show_srch_str): added
	* main.c (srch_nxtprv): check show_srch_str
	* rc.c (CMT_SHOW_SRCH_STR): added

2001-12-15  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02657] 
	* main.c (chkURL): accept URL ending with '='

2001-12-15  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02656]
	* XMakefile (clean): remove functable.c
	* anchor.c (_put_anchor_new): use Strnew_size() and Strcat_charp_n()
	* indep.c (getescapechar): use GET_MYCDIGIT

2001-12-13  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02541] mouse support on cygwin
	* linein.c (_esc): ignore ESC M <ch> <ch> <ch> on cygwin
	* terms.c (is_xterm): not static on cygwin
	* terms.c (ConInV): INPUT_RECORD * -> char *
	* terms.c (MouseConToXTerm): deleted
	* terms.c (iMouseConXTerm): deleted
	* terms.c (expand_win32_console_input_buffer): added
	* terms.c (read_win32_console_input): use PeekConsoleInput 
						and ReadConsole
	* terms.c (read_win32_console): use read_win32_console_input()
	* terms.c (cmp_tv): added
	* terms.c (subtract_tv): added
	* terms.c (select_or_poll_win32_console): added
	* terms.c (select_win32_console): added
	* terms.c (xterm_mouse_term): deleted
	* terms.c (mouse_term_info): added
	* terms.c (set_tty): modified to use mouse_term_info
	* terms.c (sleep_till_anykey): use select_win32_console on cygwin
	* terms.c (mouse_init): check is_xterm flag
	* terms.c (mouse_end): check is_xterm flag
	* terms.h (is_xterm): if cygwin
	* terms.h (NEED_XTERM_ON): added
	* terms.h (NEED_XTERM_OFF): added

2001-12-11  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02651] search keymap using hash
	* XMakefile (func.c): depends functable.c funcname1.h
	* XMakefile (functable.c): generated from funcname.tab
	* functable.awk: added
	* fm.h (w3mKeyList): deleted
	* func.c (w3mKeyList): ditto
	* file.c (readHeader): change getFuncList()
	* func.c (w3mNFuncList): deleted
	* func.c (functable.c): include
	* func.c (initKeymap): no need to count w3mFuncList
	* func.c (initKeymap): change getFuncList()
	* func.c (initKeymap): put data to keyData hashtable
	* func.c (countFuncList): deleted
	* func.c (getFuncList): use getHash_si()
	* func.c (getKeyData): use getHash_iv()
	* func.c (addKeyList): deleted
	* func.c (searchKeyList): deleted
	* func.h (textlist.h): include
	* func.h (hash.h): include
	* func.h (KEY_HASH_SIZE): added
	* func.h (KeyListItem): deleted
	* func.h (KeyList): deleted
	* hash.c: s/hist/sv/
	* hash.c: add defhashfunc_i(int, void *, iv)
	* hash.h: s/hist/sv/
	* hash.h: defhash(int, void *, iv)
	* hash.h (putHash_*): added
	* hash.h (getHash_*): added
	* hash.h (defhashfunc_i): added
	* history.c (pushHashHist): s/hist/sv/
	* history.c (getHashHist): s/hist/sv/
	* history.h (Hist): s/hist/sv/
	* main.c (searchKeyData): item deleted
	* main.c (searchKeyData): data added
	* main.c (searchKeyData): use getKayData() instead of searchKeyList()
	* main.c (setAlarm): w3mNFuncList deleted
	* main.c (setAlarm): change getFuncList()
	* menu.c (w3mNFuncList): deleted
	* menu.c (w3mFuncList): deleted
	* menu.c (initMenu): no need to count w3mFuncList
	* menu.c (setMenuItem): change getFuncList()
	* proto.h (countFuncList): deleted
	* proto.h (getFuncList): change args
	* proto.h (addKeyList): deleted
	* proto.h (searchKeyList): deleted
	* proto.h (getKeyData): added

2001-12-11  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02650]
	* file.c (readHeader): Strnew_charp_n() should be used

2001-12-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02647]
	* proto.h (arg_is): deleted
	* etc.c (arg_is): ditto
	* etc.c (searchAnchorArg): ditto

2001-12-11  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02648] rewrite strCmp() with strcmp()
	* indep.c (strCmp): use strcmp()

2001-12-11  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02441] A patch against functions *_(un)?quote()
	* indep.c (url_unquote_char): use GET_MYCDIGIT, instead of sscanf
	* indep.c (url_quote): use xdigit[] instead of sprintf()
	* myctype.c (MYCTYPE_DIGITMAP): added
	* myctype.h (MYCTYPE_DIGITMAP): ditto
	* myctype.h (GET_MYCDIGIT): added

2001-12-11  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02647]
	* proto.h (getAnchor): deleted
	* etc.c (getAnchor): deleted

2001-12-09  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02646] Some code cleanups
	* configure: use host libgc instead of gc/gc.a on Linux and/or AIX
	            if possible
	* etc.c (get_cmd): deleted, merged into gethtmlcmd()
	* etc.c (gethtmlcmd): merge get_cmd() code
	* file.c (uncompressed_file_type): initialize slen
	* file.c (passthrough): status deleted
	* file.c (HTMLlineproc0): istr deleted, gethtmlcmd() argument fix
	* fm.h (_GNU_SOURCE): ifndef _GNU_SOURCE
	* proto.h (gethtmlcmd): fix prototypes
	* terms.c: include <sys/ioctl.h> always

2001-12-09  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02645]
	* configure: fix to prevent rcsid expansion

2001-12-08  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02641]
	* configure: generate version.c from version.c.in
	* version.c.in: added
	* version.c: deleted, autogenerated from version.c.in
	* .cvsignore (version.c): added

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02642]
	* linein.c (next_dcompl): fix ifdef EMACS_LIKE_LINEEDIT

2001-12-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02640]
	* linein.c (escape_spaces): rewrite
	* linein.c (unescape_spaces): rewrite

2001-12-07  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02638] completion for ! and/or @
	* linein.c (next_compl): check "\\ ", "\\\t"
	* linein.c (escape_spaces): added
	* linein.c (unescape_spaces): added
	* linein.c (doComplete): use unescape_spaces, escape_spaces

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02637]
	* url.c (openSocket): hostname volatile -> const
	* url.c (openSocket): add hname
	* url.c (openSocket): copy hostname to hname to be modified safely
	* url.c (otherinfo): revert previous change

2001-12-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02635] dirlist
	* file.c (loadGeneralFile): use pu.file instead of pu.real_file
	* scripts/dirlist.cgi.in: modified for perl4

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [#489463] Host: header is wrong IPv6 literal addr
	* url.c (otherinfo): IPv6 address should be quoted with bracket

2001-12-07  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02629]
	* linein.c (next_compl): completion for name including space

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02633]
	* url.c (parseURL2): filename should be quoted here, because
	                   it will be unquote() soon

2001-12-07  Fumitoshi UKAI  <ukai@debian.or.jp>

	* rename install.sh to install-sh
	* XMakefile: s/install.sh/install-sh/

2001-12-07  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02622]
	* tagtable.tab (noframes): added
	* tagtable.tab (/noframes): added
	* fm.h (RB_NOFRAMES): added
	* html.h (HTML_NOFRAMES): added
	* html.h (HTML_N_NOFRAMES): added 
	* html.c (ALST_NOFRAMES): added
	* html.c (98 HTML_NOFRAMES): added
	* html.c (99 HTML_N_NOFRAMES): added
	* file.c (HTMLtagproc1): add HTML_NOFRAMES, HTML_N_NOFRAMES
	* file.c (HTMLtagproc1): don't meta refresh if it is in noframes and
	                        auto frame rendering
	* main.c (MAIN): use setAlarmEvent()
	* main.c (SigAlarm): ditto
	* main.c (setAlarm): ditto
	* main.c (setAlarmEvent): check if status == AL_UNSET

2001-12-06  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02619]
	* file.c (loadHTMLString): set document type

2001-12-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02618]
	* configure: fix typo in --mimetypes

2001-12-05  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02617]
	* scripts/Makefile (HELP_LIBS): added
	* scripts/Makefile (all): depends $(HELP_LIBS)
	* scripts/Makefile (install): depends $(HELP_LIBS)
	* scripts/Makefile (w3mhelp-funcname.pl): split from helplibs
	* scripts/Makefile (w3mhelp-funcdesc.pl): split from helplibs, touch
	* scripts/Makefile (clean): clean *-stamp
	* scripts/.cvsignore: add w3mhelp-funcdesc-stamp

2001-12-05  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02616]
	* buffer.c (gotoLine): use set_delayed_message instead of disp_message
	* buffer.c (gotoRealLine): ditto
	* display.c (delayed_msg): added
	* display.c (displayBuffer): display deleyed_msg if it is set
	* display.c (set_delayed_message): added
	* proto.h (set_delayed_message): added

2001-12-05  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02615]
	* main.c (goLine): _goLine() called twice when prec_num was set

2001-12-05  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02614]
	* XMakefile (HELP_ALLFILES): added
	* XMakefile (INSTALL_PROGRAM): ditto
	* XMakefile (INSTALL_SCRIPT): ditto
	* XMakefile (INSTALL_DATA): ditto
	* XMakefile (install) use INSTALL_{PROGRAM,DATA}
	* XMakefile (install-helpfile): cleanup
	* XMakefile (install-scripts): pass MKDIR
	* XMakefile (uninstall): cleanup
	* XMakefile (clean): cleanup
	* scripts/Makefile (MKDIR): added
	* scripts/Makefile (INSTALL_DATA): added
	* scripts/Makefile (install): mkdir, use INSTALL_DATA
	* scripts/Makefile (uninstall): added
	* scripts/Makefile (clean): ignore errors
	* scripts/multipart/Makefile (MKDIR): added
	* scripts/multipart/Makefile (install): mkdir
	* scripts/multipart/Makefile (uninstall): added
	* scripts/multipart/Makefile (clean): ignore errors
	* scripts/multipart/Makefile (dist): cleanup
	* scripts/w3mman/Makefile (MKDIR): added
	* scripts/w3mman/Makefile (install): mkdir
	* scripts/w3mman/Makefile (uninstall): added
	* scripts/w3mman/Makefile (clean): ignore errors
	* scripts/w3mman/Makefile (dist): cleanup

2001-12-04  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02611] a improvement of find_cookie()
	* cookie.c (make_cookie): domainname is passed as argument
	* cookie.c (find_cookie): FQDN(pu->host) done only once
	* func.c (getQWord): comment reformat
	* local.c (check_local_cgi): ditto

2001-12-04  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02609]
	* proto.h: remove duplicate prototypes

2001-12-04  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02608]
	* local.c (localcgi_get): request == NULL means no ? in URL
	* url.c (openURL): ditto

2001-12-03  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02606]
	* XMakefile (install-scripts): run pwd outside for loop

2001-12-03  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02605] $(PWD) / allocStr()
	
	* XMakefile (install-scripts): use $$TOPDIR instead of $(PWD)

	* indep.c (allocStr): if len is negative, it will copy string in `s'
	* display.c (record_err_message): pass -1 as length to allocStr
	* etc.c (lastFileName): ditto
	* etc.c (mybasename): ditto
	* etc.c (FQDN): ditto
	* file.c (push_tag): ditto
	* func.c (addKeyList): ditto
	* history.c (unshiftHist): ditto
	* history.c (pushHist): ditto
	* indep.c (cleanupName): ditto
	* linein.c (inputLineHist): ditto
	* local.c (dirBuffer): ditto
	* main.c (gotoLabel): ditto
	* main.c (searchKeyData): ditto
	* parsetagx.c (parsedtag_set_value): ditto
	* terms.c (GETSTR): ditto
	* textlist.h (pushText): ditto
	* url.c (DefaultFile): ditto
	* url.c (parseURL): ditto
	* url.c (ALLOC_STR): ditto
	* url.c (parseURL2): ditto
	* url.c (openURL): ditto
	* w3mhelperpanel.c (extractMailcapEntry): ditto

2001-12-02  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02604]
	* configure: kanji_symbols=n if lang=EN
	* file.c (HTMLlineproc2body): initialize rule

2001-12-02  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02603]
	* scripts/w3mhelp.cgi.in: modified for perl4

2001-12-01  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02601]
	* Makefile (install-core): added
	* Makefile (install-helpfile): added
	* configure (use_help_cgi): default yes if perl found
	* configure (config.h): add HELP_CGI
	* configure (config.h): add $def_use_help_cgi
	* main.c (ldhelp): add USE_HELP_CGI code
	* scripts/Makefile: use w3mhelp*.pl.in
	* scripts/w3mhelp-funcname.pl.in: added
	* scripts/w3mhelp-funcdesc.en.pl.in: added
	* scripts/w3mhelp-funcdesc.ja.pl.in: added
	* scripts/w3mhelp.cgi.in: use %buf_*, %lineedit_*
	* scripts/w3mhelp.cgi.in: use %title

	* [w3m-dev 02660] (based on [w3m-dev 02577] 
			by Kiyokazu SUTO <suto@ks-and-ks.ne.jp>)
	* scripts/.cvsignore: add w3mhelp.cgi w3mhelp-*.pl
	* scripts/Makefile (HELP_DIR): added
	* scripts/Makefile (LIB_TARGETS): add w3mhelp.cgi
	* scripts/Makefile (DOCDIRS): added
	* scripts/Makefile (all): add helplibs
	* scripts/Makefile (.in): subst HELP_DIR, DOCDIRS
	* scripts/Makefile (helplibs): added
	* scripts/Makefile (install): s/DISTDIR/DESTDIR/
	* scripts/Makefile (install): install w3mhelp-*.pl
	
	* scripts/w3mhelp.cgi.in: added

	* XMakefile (INSTALL2): deleted
	* XMakefile (install): split
	* XMakefile (install-core): added
	* XMakefile (install-helpfile): added
	* XMakefile (all-scripts): HELP_DIR
	* XMakefile (install-scripts): HELP_DIR

	* doc/REAMDE.func: add ALARM, SUSPEND
	* doc-jp/README.func: ditto
	
	* config.h.dist: updated

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* url.c (otherinfo): use AcceptLang
	* rc.c (sync_with_option): initialize AcceptLang

2001-11-30  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02599]
	* main.c comment reformat

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02598]
	* url.c (otherinfo): add missing NULL

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02597] (based on [w3m-dev 02594] by aito@fw.ipsj.or.jp)
	* fm.h (AcceptLang): added
	* fm.h (AcceptMedia): added
	* rc.c (CMT_ACCEPTENCODING): added
	* rc.c (CMT_ACCEPTMEDIA): added
	* rc.c (params9): add accept_encoding, accept_media
	* rc.c (sync_with_option): initialize AcceptEncoding and AcceptMedia
	* url.c (otherinfo): use Strcat_m_charp()

2001-11-30  aito@fw.ipsj.or.jp

	* [w3m-dev 02594]
	* configure: s/dcode/display_code/

2001-11-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02596]
	* file.c (acceptableEncoding): fix segfault if no decoder found

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02595]
	* file.c (compression_decoder): add encodings
	* file.c (readHeader): use compression_decoder->encodings

2001-11-30  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02593]
	* form.h: comment reformat
	* matrix.c: ditto
	* menu.c: ditto
	* regex.c: ditto
	* table.h: ditto
	* terms.c: ditto

2001-11-30  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02592] Accept: and AcceptEncoding:
	* url.c (otherinfo): use acceptableEncoding() acceptableMimeTypes()

	* file.c: add compression_decoder
	* file.c (check_compress): rewrite by using compression_decoder
	* file.c (compress_application_type): ditto
	* file.c (uncompressed_file_type): ditto
	* file.c (check_command): added
	* file.c (acceptableEncoding): added
	* proto.h (acceptableEncoding): ditto
	* file.c (uncompress_stream): renamed from gunzip_stream
	* file.c (uncompress_stream): rewrite by using compression_decoder
	* configure: add PATH_SEPARATOR

	* mailcap.c (extractMailcapEntry): static
	* mailcap.c (loadMailcap): static
	* proto.h (loadMailcap): removed
	* mailcap.c (acceptableMimeTypes): added
	* proto.h (acceptableMimeTypes): added

	* configure: #define USE_PATH_ENVVAR for __EMX__
	* file.c: GUNZIP_*, BUNZIP2_*, INFLATE_* removed here -> config.h
	* file.c (gunzip_stream): s/(GUNZIP|BUNZIP2|INFLATE)_CMD/\1_CMDNAME/
	* configure (config.h): GUNZIP_*, BUNZIP2_*, INFLATE_* moved here
	* fm.h (DirBufferCommand): use CGI_EXTENSION
	* fm.h (mailcap_list): removed from global -> mailcap.c
	* fm.h (UserMailcap): removed from global -> mailcap.c
	* mailcap.c: static mailcap_list
	* mailcap.c: static UserMailcap
	* proto.h (initMimeTypes): moved
	* proto.h (get_os2_dft): removed
	* rc.c (loadMimeTypes): removed here -> url.c
	* rc.c (initMimeTypes): removed here -> url.c
	* fm.h (mimetypes_list): removed from global -> url.c
	* fm.h (UserMimeTypes): removed from global -> url.c
	* url.c: static mimetypes_list
	* url.c: static UserMimeTypes
	* url.c (loadMimeTypes): moved here
	* url.c (initMimeTypes): moved here

2001-11-30  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02590]
	* main.c (_peekURL): peek URL on <input type="image">

2001-11-30  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02589]
	* rc.c (params1): remove #ifdef VIEW_UNSEENOBJECTS

2001-11-29  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02588]
	* configure: fix alarm() check

2001-11-29  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02587]
	* file.c (gunzip_stream): s/__CYGWIN__/USE_BINMODE_STREAM/

	* [w3m-dev 02586]
	* configure: typo s/_zdmachdep.c/zmachdep.c/

	* fix shadow variable
	* main.c (HTMLtagproc1): s/refresh/refresh_interval/
	* matrix.c (LUfactor): s/index/indexarray/
	* matrix.c (LUsolve): ditto
	* matrix.c (m_inverse): ditto
	* matrix.c (LUinverse): ditto
	* table.c (bsearch_2short): ditto
	* table.c (bsearch_double): ditto
	* table.c (dv2sv): ditto
	* table.c (check_cell_width): ditto
	* table.c (set_integered_width): ditto
	* table.c (set_table_width): ditto
	* table.c (check_table_height): ditto
	* ftp.c: s/ftp/current_ftp/
	* ftp.c (Ftpfclose): ditto
	* ftp.c (openFTP): ditto
	* ftp.c (closeFTP): ditto
	* ftp.c (FtpLogin): save to current_ftp
	* ftp.c (openFTP): s/realpath/realpathname/
	* ftp.c (openFTP): remove i
	
	* ftp.c (ftp_pasv): s/sin/sockaddr/
	
	* [w3m-dev 02584] code cleanup

	* linein.c (_esc): fix #ifdef EMACS_LIKE_LINEEDIT
	
	* fix shadow variables (partially)
	* version.c: s/version/w3m_version/
	* configure: ditto
	* fm.h: ditto
	* local.c (set_environ): ditto
	* main.c (fusage): ditto
	* main.c (MAIN): ditto
	* main.c (dispVer): ditto
	* rc.c (load_option_panel): ditto
	* url.c (otherinfo): ditto
	* file.c (readHeader): s/tmp/tmp2/
	* file.c (loadGeneralFile): s/tmp/cmd/
	* file.c (flushline): s/f/df/
	* file.c (doExternal): s/stat/mc_stat/
	* proto.h: ditto
	* mailcap.c (unquote_mailcap_loop): ditto
	* mailcap.c (unquote_mailcap): ditto
	* main.c (cmd_loadBuffer): s/link/linkid/
	* main.c (sig_chld): s/stat/p_stat/
	* fm.h: remove config_file
	* main.c (MAIN): s/config_file/config_filename/
	* rc.c (init_rc): ditto
	* proto.h: ditto
	* rc.c: add config_file 
	* menu.c (goem_menu): s/select/mselect/
	* menu.c (draw_menu_item): ditto
	* menu.c (select_menu): ditto
	* menu.c (goto_menu): ditto
	* menu.c (action_menu): ditto
	* menu.c (mNext): ditto
	* menu.c (mPrev): ditto
	* menu.c (mOk): ditto
	* menu.c (mSrchF): ditto
	* menu.c (mSrchB): ditto
	* menu.c (mSrchN): ditto
	* menu.c (mSrchP): ditto
	* menu.c (process_mMouse): ditto
	* menu.c (smDelBuf): ditto
	* proto.h: ditto

	* printf format
	* display.c (redrawLine): use %*ld instead of %*d

	* require parentheses
	* ftp.c (FtpLogin): add paren

	* fix variable might be clobbered by `longjmp' or `vfork'
	* file.c (loadGeneralFile): add volatile
	* file.c (loadHTMLString): ditto
	* file.c (loadBuffer): ditto
	* file.c (doExternal): ditto
	* frame.c (createFrameFile): ditto
	* main.c (srchfor): ditto
	* main.c (srchbak): ditto
	* main.c (srch_nxtprv): ditto
	* url.c (openSocket): ditto

	* fix unused variables
	* file.c (readHeader): emssg if USE_COOKIE defined
	* file.c (HTMLlineproc2body: remove tmp
	* file.c (saveBufferDelNum): remove p
	* linein.c (_esc): c2 if JP_CHARSET defined
	
	* fix uninitialized variables
	* Str.c (Sprintf): initialize p
	* buffer.c (readBufferCache): initialize prevl
	* conv.c (cConvSE): initialize ub
	* conv.c (_cConvEE): initialize ub
	* conv.c (cConvES): initialize ub
	* file.c (loadGeneralFile): initialize proc, t, prevtral, ss, realm
	* file.c (HTMLlineproc2body): initialize debug
	* file.c (HTMLlineproc0): initialize tbl_mode, tbl_width
	* file.c (loadHTMLstream): initialize prevtrap
	* file.c (loadHTMLString): initialize prevtrap
	* file.c (loadBuffer): initialize prevtrap
	* form.c (formUpdateBuffer): initialize col
	* ftp.c (openFTP): initialize pwd
	* local.c (dirBuffer): initialize nrow
	* main.c (gpm_process_mouse): initialize btn
	* menu.c (gpm_process_menu_mouse): ditto
	* menu.c (initMenu): initialize nmenu, nitem, item
	* parsetagx.c (parse_tag): initialize attr_id
	* rc.c (show_params): initialize t
	* table.c (visible_length): initialize amp_len
	* table.c (set_integered_width): initialize x
	* table.c (check_table_height): initialize space
	* table.c (renderTable): initialize vrulea, vruleb, vrulec
	* terms.c (putchars): initialize s
	* url.c (openSocket): initialize trap, result
	* url.c (openURL): initialize sslh
	
2001-11-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02579]
	* configure: Use environment variables CC, CFLAGS, LDFLAGS

2001-11-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02574] sysconfdir
	* configure: add -bindir=* -libdir=* -helpdir=* -sysconfdir=*
	* configure: add ETC_DIR
	* indep.c (w3m_etc_dir): added
	* indep.h: ditto
	* rc.c (init_rc): use etcFile() instead of libFile()
	* rc.c (etcFile): added
	* proto.h: ditto

2001-11-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02578]
	* file.c (process_anchor): support <input type="image">
	* html.c (ALST_INPUT): add ATTR_SRC, ATTR_WIDTH, ATTR_HEIGHT
	* html.c (MAXA_INPUT): +3
	
	* conv.c (checkShiftCode): fix comments for indent(1)
	* main.c (loadLink): ditto
	* fm.h: ditto
	* file.c (process_anchor); ditto
	* file.c (HTMLlineproc2body): ditto

2001-11-28  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>
	
	* [w3m-dev 02576]
	* url.c (openURL): remove pu->file = p; which cause segfault
	  because p is not initialized

2001-11-28  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02571] MAXPATHLEN
	* indep.c (currentdir): #ifdef MAXPATHLEN for GNU Hurd
	* configure: ditto

2001-11-27  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02572]
	* main.c (_peekURL): initialize s when anchor not found

2001-11-27  aito@fw.ipsj.or.jp
	* Error correction on doc-jp/FAQ.html

2001-11-27  sakane@d4.bsd.nes.nec.co.jp (Yoshinobu Sakane)
	* w3m-doc update.

2001-11-26  Tsutomu Okada <okada@furuno.co.jp>
	
	* [w3m-dev 02537]
	* configure: s/$def_egd/def_use_egd/

2001-11-26  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02556]
	* indep.c (strcasestr): strcasestr("", "") should not return NULL

	* [w3m-dev 02555]
	* configure: check strcasestr
	* fm.h (_GNU_SOURCE): requires for strcasestr()
	* indep.c (strcasestr): #ifdef HAVE_STRCASESTR
	* indep.c (strcasestr): check whether s2 is NULL
	* indep.h: add #include "config.h"
	* indep.h: #ifdef HAVE_STRCASESTR
	* indep.h: strcasestr() takes const char *

2001-11-26  Yoshinobu Sakane <sakane@d4.bsd.nes.nec.co.jp>

	* [w3m-dev 02553]
	* configure: SysV's tr requires '[a-z]' '[A-Z]'

2001-11-26  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02547] "message/*" as a kind of text type
	* file.c (is_text_type): add message/*

2001-11-25  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02535] Name conflicts in configure
	* configure: s/libdir/tlibdir/ for loop variables

2001-11-25  Dai Sato <satodai@dog.intcul.tohoku.ac.jp>

	* display.c: call of init_win32_console_handle is deleted

2001-11-25  Rin Okuyama <okuyama@cna.ne.jp>

	* [w3m-dev 02533] setpgrp bug in configure
	* configure: s/have_setpgrp/def_have_setpgrp/
	   s/setpgrp/def_setpgrp/

2001-11-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* Makefile (indent): indent
	* run make indent

2001-11-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02530]
	* file.c (readHeader): NULL check for domain

2001-11-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02529]
	* configure (ask_choice): fix bugs
	* configure (include_opt): disable as much as if baby model
	* configure: ask/def parameter after model selected

	* fm.h (use_mark): runtime option use_mark
	* main.c (_mark): ditto
	* main.c (cmd_mark): ditto
	* main.c (nextMk): ditto
	* main.c (prevMk): ditto
	* main.c (reMk): ditto
	* rc.c (CMT_USE_MARK): ditto
	* rc.c (params3): ditto
	
	* fm.h (nextpage_topline): runtime option nextpage_topline
	* etc.c (lineSkip): ditto
	* main.c (nscroll): ditto
	* rc.c (CMT_NEXTPAGE_TOPLINE): ditto
	* rc.c (params3): ditto
	
	* fm.h (label_topline): runtime option label_topline
	* file.c (loadGeneralFile): ditto
	* main.c (loadLink): ditto
	* rc.c (CMT_LABEL_TOPLINE): ditto
	* rc.c (params3): ditto
	
	* fm.h (vi_prec_num): runtime option vi_prec_num
	* main.c (pgFore): ditto
	* main.c (pgBack): ditto
	* rc.c (CMT_VI_PREC_NUM): ditto
	* rc.c (params3): ditto

	* fm.h (emacs_like_lineedit): runtime option emacs_like_lineedit
	* linein.c (inputLineHist): ditto
	* linein.c (_esc): ditto
	* linein.c (next_dcompl): ditto
	* rc.c (CMT_EMACS_LIKE_LINEEDIT): ditto
	* rc.c (params3): ditto

	* fm.h (ftppass_hostnamegen): runtime option ftppass_hostnamegen
	* ftp.c (FtpLogin): ditto
	* rc.c (CMT_FTPPASS_HOSTNAMEGEN): ditto
	* rc.c (params9): ditto
	
2001-11-24  Akihiro Sagawa <sagawa@sohgoh.net>

	* [w3m-dev 02528] RFC2732 URL Patch
	* main.c (chkURL): check RFC2732 style URLs
	* url.c (parseURL): remove RFC2732 address check here, 
	                   move to openSocket()
	* url.c (openSocket): check RFC2732 style hostname
	* url.c (openSocket): check IPv4 address strictly

2001-11-24  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02526]
	* .cvsignore: add inflate mktable w3m w3mbookmark w3mhelperpanel
	   _zdmachdep.c
	* configure: 
	  pref_lang -> lang={JA|EN}
	  dcode -> display_code
	  scode -> system_code
	  remove save_params()
	  add def_param(), ask_choice() ask_param()
	  all confiration parameters can be read from config.param
	  s/DICT/USE_DICT/
	  s/BUFINFO/USE_BUFINFO/
	* fm.h: s/DICT/USE_DICT/
	* proto.h: ditto
	* doc/README.dict: ditto
	* doc-jp/README.dict: ditto
	* display.c: s/BUFINFO/USE_BUFINFO/
	* main.c: s/DICT/USE_DICT/ s/BUFINFO/USE_BUFINFO/

2001-11-24  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02523]
	* table.c (feed_table_tag): 
	  fix problem of anchor tag with name attribute only

2001-11-23  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02511]
	* terms.c (isWinConsole): added

2001-11-22  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02509] ([w3m-dev 02499] [w3m-dev 02508])
	* terms.c (setlinescols): initialize LASTLINE 
	* terms.c: add LASTLINE
	* fm.h: extern int LASTLINE
	* linein.c: remove defined(__CYGWIN__) && defined(JP_CHARSET)
	* main.c: remove MOUSE_* definition
	* terms.h: move MOUSE_* definition from main.c
	* terms.c: add tty
	* terms.c (check_win32_console): added
	* terms.c (init_win32_console_handle): ditto
	* terms.c (read_win32_console_input): ditto
	* terms.c (read_win32_console): ditto
	* terms.c (set_tty) add call init_win32_console
	* terms.c (getch) use read_win32_console
	* terms.c (mouse_init): check hConIn
	* terms.c (mouse_end): ditto

2001-11-22  aito@fw.ipsj.or.jp

	* [w3m-dev 02503]
	* indep.c (getescapechar): allow incomplete entity references in URL
	  closes: Debian Bug#120540

2001-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02506]
	* anchor.c (putHmarker): remove #ifdef __CYGWIN__ for bzero()
	* matrix.h (m_copy): ditto
	* table.c (pushTable): ditto

2001-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02505]
	* configure (alarm): check alarm if USE_ALARM

2001-11-22  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02501]
	* .cvsignore: add funcname.c funcname1.h funcname2.h tagtable.c
	* scripts/.cvsignore: added, dirlist.cgi
	* scripts/multipart/.cvsignore: added, multipart.cgi
	* scripts/w3mman/.cvsignore: added, w3mman w3mman2html.cgi
	* doc-jp/README.kokb: deleted
	* gc/makefile.depend: deleted

2001-11-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* table.c (feed_table): fix the following table
	  <table border=1><tr><td>&lt &lt;</table>

2001-11-22  WATANABE Katsuyuki <katsuyuki_1.watanabe@toppan.co.jp>

	* [w3m-dev 02497] 
	* url.c (parseURL2): fix #ifdef __EMX__ code
	* indep.c (cleanupName): remove #if 0 /* SUPPORT_NETBIOS_SHARE */ code

2001-11-22  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02494]
	* configure (MIME_TYPES): check if mimetypes is empty
	* configure (label_topline): add missing =
	* configure (nextpage_topline): ditto

2001-11-22  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02493]
	* scripts/multipart/Makefile: s/DISTDIR/DESTDIR/

2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02481]
	* s/BG_COLOR/USE_BG_COLOR/
	* s/ANSI_COLOR/USE_ANSI_COLOR/
	* s/COLOR/USE_COLOR/
	* s/MENU/USE_MENU/
	* s/MOUSE/USE_MOUSE/

	* [w3m-dev 02480] new configure
	* config.h.dist: updated
	* configure: $def_emacs_like_lineedit, $def_vi_prec_num
	   $def_label_topline, $def_nextpage_topline
	   $def_use_mark, $def_use_gopher, $def_use_alarm
	* configure: add --{ssl,gc}-{include,lib}dir, --mimetypes
	* configure: BoehmGC Debian hack
	* XMakefile: add $(OPTS)
	* terms.c: use HAVE_SYS_SELECT_H
	* configure: add sys/select.h detection
	* configure: no_float_h -> float_h
	* configure: add chdir() detection
	* local.c (localcgi_post): use HAVE_CHDIR instead of __EMX__
	* local.c (localcgi_get): ditto
	* main.c: <time.h> no need for #ifdef __EMX__
	   other files already do #include <time.h>

	[w3m-dev 02479]
	* rc.c (init_rc): remove #ifdef __EMX__ for tmpdir
	* config.h.dit: updated
	* url.c (openURL): use CGI_EXTENSION
	  add extlen
	* rc.c (helpFile): remove #ifdef __EMX__
	  use w3m_help_dir()
	* w3mbookmark.c (lib_dir): removed
	* w3mbookmark.c (print_bookmark_panel): use w3m_lib_dir()
	* rc.c (libFile): remove #ifdef __EMX__
	  use w3m_lib_dir() 
	* local.c (get_os2_dft): removed
	* local.c (check_local_cgi): use w3m_lib_dir() instead of lib_dir
	* local.c (cgi_filename): ditto
	* indep.c (w3m_dir): added
	* indep.c (w3m_lib_dir w3m_help_dir): ditto
	* indep.h (w3m_lib_dir w3m_help_dir): ditto
	* terms.c (set_tty): remove #ifdef __EMX__
	  use DEV_TTY_PATH
	* local.c (localcgi_get): use DEV_NULL_PATH
	* w3mhelperpanel.c (printMailcapPanal): remove #ifdef __EMX__
	  use W3mHELPERPANEL_CMDNAME
	* rc.c (optionpanel_src1): ditto
	* w3mbookmark.c (bkmark_src1): remove #ifdef __EMX__
	  use W3MBOOKMARK_CMDNAME
	* main.c (adBmark): ditto
	  use w3m_lib_dir()
	* terms.c (getTCstr): remove #ifdef __DJGPP__
	  use DEFAULT_TERM
	  check ent is NULL
	* main.c (fusage): remove #ifdef SHOW_PARAMS
	* main.c (MAIN): ditto
	* rc.c (show_params): ditto
	* fm.h (view_unseenobject): remove #ifdef VIEW_UNSEENOBJECTS
	* url.c (check_no_proxy): remove #ifdef NOPROXY_NETADDR
	* configure (show_params): removed
	* configure (config.h): 
	  - fix comment for USE_MARK
	  - add MENU_THIN_FRAME
	  - move $def_nntp (USE_NNTP), $def_ansi_color (ANSI_COLOR)
	  - remove VIEW_UNSEENOBJECTS
	  - remove $def_show_params (SHOW_PARAMS)
	  - define DEFAULT_TERM
	  - define W3MBOOKMARK_CMDNAME
	  - define W3MHELPERPANEL_CMDNAME
	  - define DEV_NULL_PATH
	  - define DEV_TTY_PATH
	  - define CGI_EXTENSION

	[w3m-dev 02478]
	* Makefile: make -> $(MAKE)
	
2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02473]
	* scripts/Makefile: chmod +x
	* scripts/Makefile: add clean target
	* scripts/multipart/Makefile: ditto
	* scripts/w3mman/Makefile: ditto
	* XMakefile: clean scripts
	* scripts/dirlist.cgi: removed from CVS
	* Makefile (install-scripts): added
	* XMakefile: (install-scripts): depends all-scripts

2001-11-21  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02470]
	* XMakefile: all of scripts are generated by this instead of configure
	* configure: add PERL, remove scripts/dirlist.cgi generation
	* config.h.dist: add PERL
	* scripts/Makefile: added
	* scripts/multipart/Makefile scripts/w3mman/Makefile:
	  new scripts generation and installation
	* scripts/multipart/README scripts/w3mman/README: update

2001-11-21  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02472] cleanup CYGWIN macro
	* display.c (displayBuffer): use __CYGWIN__ macro
	* fm.h: ditto
	* terms.c (refresh): add condition for isWinConsole which
          defined only japanese cygwin environment

2001-11-21  Akinori Ito <aito@fw.ipsj.or.jp>

	* [w3m-dev 02466]
	  Homepage URLs and author's mail addresses in the documents
	  are changed.

2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02459] 
	* XMakefile: update scripts/dirlist.cgi generation
	* scripts/multipart/multipart.cgi: removed
	* scripts/w3mman/w3mman scripts/w3mman/w3mman2html.cgi: removed
	
	* [w3m-dev 02462]
	* scripts/dirlist.in scripts/dirlist.cgi: removed
	* scripts/dirlist.cgi.in: added

2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* add rcsids

2001-11-21  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02454]
	* buffer.c (newBuffer): set COLS
	* display.c (displayBuffer redrawLine redrawLineRegion
	    cursorRight arrangeCursor cursorXY): 
	  new showLineNumber implementation
	* main.c (ctrCsrH shiftvisualpos shiftl shiftr _movL _movR
	   _followForm follow_map process_mouse):
	  use buf->COLS, buf->rootX
	* menu.c (popupMenu mainMn initSelectMenu):
	  use buf->rootX
	* etc.c (columnSkip): use buf->COLS
	* file.c (HTMLlineproc2body loadBuffer saveBufferDelNum getNextPage)
	  remove old showLineNumber codes
	* fm.h (Buffer): add rootX, COLS

2001-11-21  Fumitoshi UKAI  <ukai@debian.or.jp>

	* XMakefile (clean): rm tagtable.c
	* .cvsignore: XXMakefile config.h config.param

2001-11-20  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02455]
	* XMakefile.dist deflate.c: removed, not used
	* tagtable.c: removed, autogenerated files
	* XMakefile (mktable w3mbookmark w3mhelperpanel): use LIBS2
	* configure: add $bsdlib

2001-11-20  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* frame.c (newFrameSet): fix possible buffer overrun

2001-11-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* XXMakefile config.h: removed from CVS
	  these are autogenerated files.
	  config.h is moved to config.h.dist as sample config file.

2001-11-20  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02449]
	* file.c (HTMLtagproc1): reimplement meta refresh with
          setAlarmEvent()
	* fm.h: put back alarm related variables to main.c
          add alarm related status flags
	* main.c: put back alarm related variables from fm.h
          alarm_once was renamed alarm_status
          add alarm_buffer and setAlarmEvent()
	* main.c (MAIN): cancel the alarm event if the buffer was
          changed
	* main.c (SigAlarm): ditto
	* main.c (setAlarm): use setAlarmEvent()
	* proto.h: add setAlarmEvent()

2001-11-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* w3mhelperpanel.c (extractMailcapEntry): remove unused variables
	* istream.c (StrISgets): add parentheses around assignment used 
	  as truth value
	
	* XMakefile (clean): remove funcname.c funcname1.h funcname2.h
	  these are autogenerated files.
	* funcname.c funcname1.h funcname2.h: removed from CVS

	* main.c (MAIN): add braces to avoid ambiguous `else'
	* main.c (set_buffer_environ): remove unused variables
	* linein.c (_rcompl): not EMACS_LIKE_LINEEDIT only
	* local.c (localcgi_get): remove unused variables
	* mailcap.c (unquote_mailcap_loop): remove unused variables
	* url.c (init_PRNG) add parentheses around assignment used as true value
	* url.c (parseURL): remove unsed label
	* url.c (parseURL2): remove unused variables
	* ftp.c (ftp_escape_str ftp_restore_str): remove not used functions
	* indep.c (getescapechar): remove unused variable
	
	* proto.h: add missing prototypes

2001-11-20  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02447]
	* terms.c (skip_escseq): is_xterm && ESC [ M <ch> <ch> <ch>

2001-11-20  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02448]
	* terms.c (mouse_init): Gpm_Close() is required.
	  closes: Debian Bug#120221: w3m-ssl: trashes terminal on exit

2001-11-20  Kiyokazu SUTO <suto@ks-and-ks.ne.jp>

	* [w3m-dev 02444]
	* XMakefile (funcname1.h funcname2.h): sort as well as funcname.c

2001-11-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02439]
	* terms.c (xterm_mouse_term set_tty): add cygwin as xterm-style
	  mouse terminal

2001-11-19  Hironori Sakamoto <hsaka@mth.biglobe.ne.jp>

	* [w3m-dev 02436] 
	* main.c (GetWord): closes: #482763 segmentation fault in main.c

2001-11-19  Fumitoshi UKAI  <ukai@debian.or.jp>

	* gc/.cvsignore:
	  remove gctest, if_mach, if_not_there, threadlibs
	  closes: #482765 i386 binaries in gc directory

2001-11-17  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02432]
	* configure: follow autoconf conventions
	  STRCASECMP -> HAVE_STRCASECMP
	  STRCHR -> HAVE_STRCHR
	  STRERROR -> HAVE_STRERROR
	  SYS_ERRLIST -> HAVE_SYS_ERRLIST
	  NOBCOPY -> HAVE_BCOPY
	  GETCWD -> HAVE_GETCWD
	  GETWD -> HAVE_GETWD
	  READLINK -> HAVE_READLINK (HAVE_LSTAT?)
	  TERMIO -> HAVE_TERMIO_H
	  TERMIOS -> HAVE_TERMIOS_H
	  SGTTY -> HAVE_SGTTY_H
	  DIRENT -> HAVE_DIRENT_H
	  NO_FLOAT_H -> HAVE_FLOAT_H
	* etc.c fm.h config.h: HAVE_STRCASECMP
	* etc.c config.h file.c: HAVE_STRCHR
	    strchr() moved from file.c to etc.c
	* etc.c config.h: HAVE_STRERROR
	* etc.c config.h main.c (MAIN): HAVE_SYS_ERRLIST
	* etc.c fm.h: HAVE_BCOPY
	* etc.c indep.c (currentdir) config.h: HAVE_GETCWD
	* indep.c (currentdir) config.h: HAVE_GETWD
	* form.c (form_write_from_file) local.c (dirBuffer) 
	  config.h: HAVE_READLINK
	* config.h terms.c: HAVE_TERMIO_H, HAVE_TERMIOS_H, HAVE_SGTTY_H
	* config.h local.h: HAVE_DIRENT_H
	* config.h matric.c: HAVE_FLOAT_H

	* anchor.c cookie.c file.c parsetagx.c regex.c table.c url.c: 
	  remove include <strings.h> ifdef __EMX__
	   it will be included in fm.h
	* frame.c: remove include <strings.h> for bzero() and bcopy()
	    these are declared in fm.h
	* indep.c: remove include <strings.h> for bcopy()
	    this is declared in fm.h
	* istream.c mailcap.c: remove include <strings.h> for bzero()
	    this is declared in fm.h
	* parsetag.c: remove include <strings.h> for bzero()
	    no bzero() used in this file

	* [w3m-dev 02431]
	* terms.c (set_tty): "rxvt" is xterm
	  (getTCstr): tgetstr("Km", &pt) is not xterm, removed
	  (mouse_init): check Gpm_Open() == -2 to detect xterm when USE_GPM

2001-11-16  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02418]
	* main.c (chkURL): add mailto: like pattern to mark as anchor
	* search.c (forwardSearch): check whether currentLine is NULL 
	* search.c (backwardSearch): ditto

2001-11-16  Dai Sato  <satodai@dog.intcul.tohoku.ac.jp>

	* [w3m-dev-en 00641] Re: w3m-0.2.1-inu-1.6
	* configure: add some dirs for zlib and mime.types

2001-11-16  Fumitoshi UKAI  <ukai@debian.or.jp>

	* [w3m-dev 02417]
	* terms.c (mouse_init): fix mouse handling on TERM=linux
	   if Gpm_Open() successed, set is_xterm = 0 so that 
	   w3m uses gpm functions.

2001-11-16  Tsutomu Okada <okada@furuno.co.jp>

	* [w3m-dev 02408] meta refresh
	* file.c (HTMLtagproc1): 
	   use MetaRefresh
	   add case refresh > 0
	* fm.h: 
	   add MetaRefresh
	   move alarm related definition from main.c
	* main.c: 
	   move alarm releated definition to fm.h
	   (SigAlarm): alarm_once
	* rc.c: 
	   add CMT_META_REFRESH

	* [w3m-dev 02415] 
	* file.c (loadHTMLBuffer): 
	  pushText() to clean up temporary files

	* [w3m-dev 02414]
	* file.c (loadHTMLstream): 
	  SETJMP and signal after buffer is initialized

	* [w3m-dev 02413] 
	* main.c (reMark): 
	  don't save invalid regexp to MarkString

2001-11-15  aito@eie.yz.yamagata-u.ac.jp

	* release-0-2-2
	* Update to w3m-0.2.1-inu-1.6
	
2001-11-09  aito@eie.yz.yamagata-u.ac.jp

	* release-0-2-1-inu-1-5
	* Updates from 0.2.1 into 0.2.1-inu-1.5
	
2001-11-08  aito@eie.yz.yamagata-u.ac.jp

	* release-0-2-1
	* import w3m-0.2.1

$Id: ChangeLog,v 1.1050 2011/01/15 07:52:48 inu Exp $
